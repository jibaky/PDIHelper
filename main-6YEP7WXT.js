var im=Object.defineProperty,sm=Object.defineProperties;var am=Object.getOwnPropertyDescriptors;var Lu=Object.getOwnPropertySymbols;var cm=Object.prototype.hasOwnProperty,lm=Object.prototype.propertyIsEnumerable;var ju=(e,t,n)=>t in e?im(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||={})cm.call(t,n)&&ju(e,n,t[n]);if(Lu)for(var n of Lu(t))lm.call(t,n)&&ju(e,n,t[n]);return e},W=(e,t)=>sm(e,am(t));var pe=(e,t,n)=>new Promise((r,o)=>{var i=c=>{try{a(n.next(c))}catch(l){o(l)}},s=c=>{try{a(n.throw(c))}catch(l){o(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,s);a((n=n.apply(e,t)).next())});function va(e,t){return Object.is(e,t)}var _e=null,Vo=!1,ya=1,Ue=Symbol("SIGNAL");function z(e){let t=_e;return _e=e,t}function _a(){return _e}var Rr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function kr(e){if(Vo)throw new Error("");if(_e===null)return;_e.consumerOnSignalRead(e);let t=_e.nextProducerIndex++;if(Ho(_e),t<_e.producerNode.length&&_e.producerNode[t]!==e&&Or(_e)){let n=_e.producerNode[t];Bo(n,_e.producerIndexOfThis[t])}_e.producerNode[t]!==e&&(_e.producerNode[t]=e,_e.producerIndexOfThis[t]=Or(_e)?Hu(e,_e,t):0),_e.producerLastReadVersion[t]=e.version}function Bu(){ya++}function Ca(e){if(!(Or(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===ya)){if(!e.producerMustRecompute(e)&&!Ea(e)){ma(e);return}e.producerRecomputeValue(e),ma(e)}}function Da(e){if(e.liveConsumerNode===void 0)return;let t=Vo;Vo=!0;try{for(let n of e.liveConsumerNode)n.dirty||um(n)}finally{Vo=t}}function ba(){return _e?.consumerAllowSignalWrites!==!1}function um(e){e.dirty=!0,Da(e),e.consumerMarkedDirty?.(e)}function ma(e){e.dirty=!1,e.lastCleanEpoch=ya}function jo(e){return e&&(e.nextProducerIndex=0),z(e)}function wa(e,t){if(z(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Or(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Bo(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ea(e){Ho(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Ca(n),r!==n.version))return!0}return!1}function Ma(e){if(Ho(e),Or(e))for(let t=0;t<e.producerNode.length;t++)Bo(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Hu(e,t,n){if($u(e),e.liveConsumerNode.length===0&&Uu(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Hu(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Bo(e,t){if($u(e),e.liveConsumerNode.length===1&&Uu(e))for(let r=0;r<e.producerNode.length;r++)Bo(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Ho(o),o.producerIndexOfThis[r]=t}}function Or(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ho(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function $u(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Uu(e){return e.producerNode!==void 0}function Ia(e,t){let n=Object.create(dm);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Ca(n),kr(n),n.value===Lo)throw n.error;return n.value};return r[Ue]=n,r}var ha=Symbol("UNSET"),ga=Symbol("COMPUTING"),Lo=Symbol("ERRORED"),dm=W(I({},Rr),{value:ha,dirty:!0,error:null,equal:va,kind:"computed",producerMustRecompute(e){return e.value===ha||e.value===ga},producerRecomputeValue(e){if(e.value===ga)throw new Error("Detected cycle in computations.");let t=e.value;e.value=ga;let n=jo(e),r,o=!1;try{r=e.computation(),z(null),o=t!==ha&&t!==Lo&&r!==Lo&&e.equal(t,r)}catch(i){r=Lo,e.error=i}finally{wa(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function fm(){throw new Error}var zu=fm;function Gu(e){zu(e)}function xa(e){zu=e}var pm=null;function Sa(e,t){let n=Object.create($o);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(kr(n),n.value);return r[Ue]=n,r}function Pr(e,t){ba()||Gu(e),e.equal(e.value,t)||(e.value=t,hm(e))}function Ta(e,t){ba()||Gu(e),Pr(e,t(e.value))}var $o=W(I({},Rr),{equal:va,value:void 0,kind:"signal"});function hm(e){e.version++,Bu(),Da(e),pm?.()}function Na(e){let t=z(null);try{return e()}finally{z(t)}}var Aa;function Fr(){return Aa}function Ct(e){let t=Aa;return Aa=e,t}var Uo=Symbol("NotFound");function P(e){return typeof e=="function"}function On(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var zo=On(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Vr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ge=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(P(r))try{r()}catch(i){t=i instanceof zo?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{qu(i)}catch(s){t=t??[],s instanceof zo?t=[...t,...s.errors]:t.push(s)}}if(t)throw new zo(t)}}add(t){var n;if(t&&t!==this)if(this.closed)qu(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Vr(n,t)}remove(t){let{_finalizers:n}=this;n&&Vr(n,t),t instanceof e&&t._removeParent(this)}};ge.EMPTY=(()=>{let e=new ge;return e.closed=!0,e})();var Oa=ge.EMPTY;function Go(e){return e instanceof ge||e&&"closed"in e&&P(e.remove)&&P(e.add)&&P(e.unsubscribe)}function qu(e){P(e)?e():e.unsubscribe()}var Xe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Rn={setTimeout(e,t,...n){let{delegate:r}=Rn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Rn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function qo(e){Rn.setTimeout(()=>{let{onUnhandledError:t}=Xe;if(t)t(e);else throw e})}function Lr(){}var Wu=Ra("C",void 0,void 0);function Zu(e){return Ra("E",void 0,e)}function Yu(e){return Ra("N",e,void 0)}function Ra(e,t,n){return{kind:e,value:t,error:n}}var rn=null;function kn(e){if(Xe.useDeprecatedSynchronousErrorHandling){let t=!rn;if(t&&(rn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=rn;if(rn=null,n)throw r}}else e()}function Qu(e){Xe.useDeprecatedSynchronousErrorHandling&&rn&&(rn.errorThrown=!0,rn.error=e)}var on=class extends ge{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Go(t)&&t.add(this)):this.destination=Cm}static create(t,n,r){return new Pn(t,n,r)}next(t){this.isStopped?Pa(Yu(t),this):this._next(t)}error(t){this.isStopped?Pa(Zu(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Pa(Wu,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ym=Function.prototype.bind;function ka(e,t){return ym.call(e,t)}var Fa=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Wo(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Wo(r)}else Wo(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Wo(n)}}},Pn=class extends on{constructor(t,n,r){super();let o;if(P(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Xe.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&ka(t.next,i),error:t.error&&ka(t.error,i),complete:t.complete&&ka(t.complete,i)}):o=t}this.destination=new Fa(o)}};function Wo(e){Xe.useDeprecatedSynchronousErrorHandling?Qu(e):qo(e)}function _m(e){throw e}function Pa(e,t){let{onStoppedNotification:n}=Xe;n&&Rn.setTimeout(()=>n(e,t))}var Cm={closed:!0,next:Lr,error:_m,complete:Lr};var Fn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Le(e){return e}function Va(...e){return La(e)}function La(e){return e.length===0?Le:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var J=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=bm(n)?n:new Pn(n,r,o);return kn(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ku(r),new r((o,i)=>{let s=new Pn({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Fn](){return this}pipe(...n){return La(n)(this)}toPromise(n){return n=Ku(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function Ku(e){var t;return(t=e??Xe.Promise)!==null&&t!==void 0?t:Promise}function Dm(e){return e&&P(e.next)&&P(e.error)&&P(e.complete)}function bm(e){return e&&e instanceof on||Dm(e)&&Go(e)}function ja(e){return P(e?.lift)}function Q(e){return t=>{if(ja(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(e,t,n,r,o){return new Ba(e,t,n,r,o)}var Ba=class extends on{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Vn(){return Q((e,t)=>{let n=null;e._refCount++;let r=G(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Ln=class extends J{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ja(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ge;let n=this.getSubject();t.add(this.source.subscribe(G(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ge.EMPTY)}return t}refCount(){return Vn()(this)}};var Xu=On(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=(()=>{class e extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Zo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Xu}next(n){kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Oa:(this.currentObservers=null,i.push(n),new ge(()=>{this.currentObservers=null,Vr(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new J;return n.source=this,n}}return e.create=(t,n)=>new Zo(t,n),e})(),Zo=class extends me{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Oa}};var we=class extends me{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Re=new J(e=>e.complete());function Ju(e){return e&&P(e.schedule)}function ed(e){return e[e.length-1]}function Yo(e){return P(ed(e))?e.pop():void 0}function Bt(e){return Ju(ed(e))?e.pop():void 0}function nd(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(f){s(f)}}function c(u){try{l(r.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function td(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sn(e){return this instanceof sn?(this.v=e,this):new sn(e)}function rd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(d){return function(v){return Promise.resolve(v).then(d,f)}}function a(d,v){r[d]&&(o[d]=function(M){return new Promise(function(S,b){i.push([d,M,S,b])>1||c(d,M)})},v&&(o[d]=v(o[d])))}function c(d,v){try{l(r[d](v))}catch(M){p(i[0][3],M)}}function l(d){d.value instanceof sn?Promise.resolve(d.value.v).then(u,f):p(i[0][2],d)}function u(d){c("next",d)}function f(d){c("throw",d)}function p(d,v){d(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function od(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof td=="function"?td(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var Qo=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ko(e){return P(e?.then)}function Xo(e){return P(e[Fn])}function Jo(e){return Symbol.asyncIterator&&P(e?.[Symbol.asyncIterator])}function ei(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wm(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ti=wm();function ni(e){return P(e?.[ti])}function ri(e){return rd(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield sn(n.read());if(o)return yield sn(void 0);yield yield sn(r)}}finally{n.releaseLock()}})}function oi(e){return P(e?.getReader)}function ve(e){if(e instanceof J)return e;if(e!=null){if(Xo(e))return Em(e);if(Qo(e))return Mm(e);if(Ko(e))return Im(e);if(Jo(e))return id(e);if(ni(e))return xm(e);if(oi(e))return Sm(e)}throw ei(e)}function Em(e){return new J(t=>{let n=e[Fn]();if(P(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Mm(e){return new J(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Im(e){return new J(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,qo)})}function xm(e){return new J(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function id(e){return new J(t=>{Tm(e,t).catch(n=>t.error(n))})}function Sm(e){return id(ri(e))}function Tm(e,t){var n,r,o,i;return nd(this,void 0,void 0,function*(){try{for(n=od(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function ke(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function ii(e,t=0){return Q((n,r)=>{n.subscribe(G(r,o=>ke(r,e,()=>r.next(o),t),()=>ke(r,e,()=>r.complete(),t),o=>ke(r,e,()=>r.error(o),t)))})}function si(e,t=0){return Q((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function sd(e,t){return ve(e).pipe(si(t),ii(t))}function ad(e,t){return ve(e).pipe(si(t),ii(t))}function cd(e,t){return new J(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function ld(e,t){return new J(n=>{let r;return ke(n,t,()=>{r=e[ti](),ke(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>P(r?.return)&&r.return()})}function ai(e,t){if(!e)throw new Error("Iterable cannot be null");return new J(n=>{ke(n,t,()=>{let r=e[Symbol.asyncIterator]();ke(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function ud(e,t){return ai(ri(e),t)}function dd(e,t){if(e!=null){if(Xo(e))return sd(e,t);if(Qo(e))return cd(e,t);if(Ko(e))return ad(e,t);if(Jo(e))return ai(e,t);if(ni(e))return ld(e,t);if(oi(e))return ud(e,t)}throw ei(e)}function de(e,t){return t?dd(e,t):ve(e)}function F(...e){let t=Bt(e);return de(e,t)}function jn(e,t){let n=P(e)?e:()=>e,r=o=>o.error(n());return new J(t?o=>t.schedule(r,0,o):r)}function Ha(e){return!!e&&(e instanceof J||P(e.lift)&&P(e.subscribe))}var Dt=On(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(e,t){return Q((n,r)=>{let o=0;n.subscribe(G(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:Nm}=Array;function Am(e,t){return Nm(t)?e(...t):e(t)}function ci(e){return Z(t=>Am(e,t))}var{isArray:Om}=Array,{getPrototypeOf:Rm,prototype:km,keys:Pm}=Object;function li(e){if(e.length===1){let t=e[0];if(Om(t))return{args:t,keys:null};if(Fm(t)){let n=Pm(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Fm(e){return e&&typeof e=="object"&&Rm(e)===km}function ui(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function di(...e){let t=Bt(e),n=Yo(e),{args:r,keys:o}=li(e);if(r.length===0)return de([],t);let i=new J(Vm(r,t,o?s=>ui(o,s):Le));return n?i.pipe(ci(n)):i}function Vm(e,t,n=Le){return r=>{fd(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)fd(t,()=>{let l=de(e[c],t),u=!1;l.subscribe(G(r,f=>{i[c]=f,u||(u=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function fd(e,t,n){e?ke(n,e,t):t()}function pd(e,t,n,r,o,i,s,a){let c=[],l=0,u=0,f=!1,p=()=>{f&&!c.length&&!l&&t.complete()},d=M=>l<r?v(M):c.push(M),v=M=>{i&&t.next(M),l++;let S=!1;ve(n(M,u++)).subscribe(G(t,b=>{o?.(b),i?d(b):t.next(b)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;c.length&&l<r;){let b=c.shift();s?ke(t,s,()=>v(b)):v(b)}p()}catch(b){t.error(b)}}))};return e.subscribe(G(t,d,()=>{f=!0,p()})),()=>{a?.()}}function Ce(e,t,n=1/0){return P(t)?Ce((r,o)=>Z((i,s)=>t(r,i,o,s))(ve(e(r,o))),n):(typeof t=="number"&&(n=t),Q((r,o)=>pd(r,o,e,n)))}function hd(e=1/0){return Ce(Le,e)}function gd(){return hd(1)}function Bn(...e){return gd()(de(e,Bt(e)))}function fi(e){return new J(t=>{ve(e()).subscribe(t)})}function $a(...e){let t=Yo(e),{args:n,keys:r}=li(e),o=new J(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let f=!1;ve(n[u]).subscribe(G(i,p=>{f||(f=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!f)&&(l||i.next(r?ui(r,a):a),i.complete())}))}});return t?o.pipe(ci(t)):o}function Je(e,t){return Q((n,r)=>{let o=0;n.subscribe(G(r,i=>e.call(t,i,o++)&&r.next(i)))})}function Ht(e){return Q((t,n)=>{let r=null,o=!1,i;r=t.subscribe(G(n,void 0,void 0,s=>{i=ve(e(s,Ht(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function md(e,t,n,r,o){return(i,s)=>{let a=n,c=t,l=0;i.subscribe(G(s,u=>{let f=l++;c=a?e(c,u,f):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function Hn(e,t){return P(t)?Ce(e,t,1):Ce(e,1)}function $t(e){return Q((t,n)=>{let r=!1;t.subscribe(G(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function bt(e){return e<=0?()=>Re:Q((t,n)=>{let r=0;t.subscribe(G(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function pi(e=Lm){return Q((t,n)=>{let r=!1;t.subscribe(G(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Lm(){return new Dt}function jr(e){return Q((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function wt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Je((o,i)=>e(o,i,r)):Le,bt(1),n?$t(t):pi(()=>new Dt))}function $n(e){return e<=0?()=>Re:Q((t,n)=>{let r=[];t.subscribe(G(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Ua(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Je((o,i)=>e(o,i,r)):Le,$n(1),n?$t(t):pi(()=>new Dt))}function za(e,t){return Q(md(e,t,arguments.length>=2,!0))}function Ga(...e){let t=Bt(e);return Q((n,r)=>{(t?Bn(e,n,t):Bn(e,n)).subscribe(r)})}function et(e,t){return Q((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(G(r,c=>{o?.unsubscribe();let l=0,u=i++;ve(e(c,u)).subscribe(o=G(r,f=>r.next(t?t(c,f,u,l++):f),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function qa(e){return Q((t,n)=>{ve(e).subscribe(G(n,()=>n.complete(),Lr)),!n.closed&&t.subscribe(n)})}function Ee(e,t,n){let r=P(e)||t||n?{next:e,error:t,complete:n}:e;return r?Q((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(G(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Le}var of="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",T=class extends Error{code;constructor(t,n){super(Bm(t,n)),this.code=t}};function jm(e){return`NG0${Math.abs(e)}`}function Bm(e,t){return`${jm(e)}${t?": "+t:""}`}var sf=Symbol("InputSignalNode#UNSET"),Hm=W(I({},$o),{transformFn:void 0,applyValueToInputSignal(e,t){Pr(e,t)}});function af(e,t){let n=Object.create(Hm);n.value=e,n.transformFn=t?.transform;function r(){if(kr(n),n.value===sf){let o=null;throw new T(-950,o)}return n.value}return r[Ue]=n,r}function Xr(e){return{toString:e}.toString()}var hi="__parameters__";function $m(e){return function(...n){if(e){let r=e(...n);for(let o in r)this[o]=r[o]}}}function cf(e,t,n){return Xr(()=>{let r=$m(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,l,u){let f=c.hasOwnProperty(hi)?c[hi]:Object.defineProperty(c,hi,{value:[]})[hi];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),c}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function re(e){for(let t in e)if(e[t]===re)return t;throw Error("Could not find renamed property on target object.")}function Um(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Pe(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Pe).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function vd(e,t){return e?t?`${e} ${t}`:e:t||""}var zm=re({__forward_ref__:re});function Gt(e){return e.__forward_ref__=Gt,e.toString=function(){return Pe(this())},e}function Oe(e){return lf(e)?e():e}function lf(e){return typeof e=="function"&&e.hasOwnProperty(zm)&&e.__forward_ref__===Gt}function A(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function _n(e){return{providers:e.providers||[],imports:e.imports||[]}}function Gi(e){return yd(e,df)||yd(e,ff)}function uf(e){return Gi(e)!==null}function yd(e,t){return e.hasOwnProperty(t)?e[t]:null}function Gm(e){let t=e&&(e[df]||e[ff]);return t||null}function _d(e){return e&&(e.hasOwnProperty(Cd)||e.hasOwnProperty(qm))?e[Cd]:null}var df=re({\u0275prov:re}),Cd=re({\u0275inj:re}),ff=re({ngInjectableDef:re}),qm=re({ngInjectorDef:re}),N=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function pf(e){return e&&!!e.\u0275providers}var Wm=re({\u0275cmp:re}),Zm=re({\u0275dir:re}),Ym=re({\u0275pipe:re}),Qm=re({\u0275mod:re}),bi=re({\u0275fac:re}),Ur=re({__NG_ELEMENT_ID__:re}),Dd=re({__NG_ENV_ID__:re});function Wn(e){return typeof e=="string"?e:e==null?"":String(e)}function Km(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Wn(e)}function hf(e,t){throw new T(-200,e)}function tl(e,t){throw new T(-201,!1)}var B=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(B||{}),ac;function gf(){return ac}function ze(e){let t=ac;return ac=e,t}function mf(e,t,n){let r=Gi(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&B.Optional)return null;if(t!==void 0)return t;tl(e,"Injector")}var Xm={},an=Xm,cc="__NG_DI_FLAG__",wi=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?Uo:an,r)}},Ei="ngTempTokenPath",Jm="ngTokenPath",ev=/\n/gm,tv="\u0275",bd="__source";function nv(e,t=B.Default){if(Fr()===void 0)throw new T(-203,!1);if(Fr()===null)return mf(e,void 0,t);{let n=Fr(),r;return n instanceof wi?r=n.injector:r=n,r.get(e,t&B.Optional?null:void 0,t)}}function H(e,t=B.Default){return(gf()||nv)(Oe(e),t)}function x(e,t=B.Default){return H(e,qi(t))}function qi(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function lc(e){let t=[];for(let n=0;n<e.length;n++){let r=Oe(e[n]);if(Array.isArray(r)){if(r.length===0)throw new T(900,!1);let o,i=B.Default;for(let s=0;s<r.length;s++){let a=r[s],c=rv(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(H(o,i))}else t.push(H(r))}return t}function vf(e,t){return e[cc]=t,e.prototype[cc]=t,e}function rv(e){return e[cc]}function ov(e,t,n,r){let o=e[Ei];throw t[bd]&&o.unshift(t[bd]),e.message=iv(`
`+e.message,o,n,r),e[Jm]=o,e[Ei]=null,e}function iv(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==tv?e.slice(2):e;let o=Pe(t);if(Array.isArray(t))o=t.map(Pe).join(" -> ");else if(typeof t=="object"){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):Pe(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(ev,`
  `)}`}var sv=vf(cf("Optional"),8);var av=vf(cf("SkipSelf"),4);function Zn(e,t){let n=e.hasOwnProperty(bi);return n?e[bi]:null}function cv(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function lv(e){return e.flat(Number.POSITIVE_INFINITY)}function nl(e,t){e.forEach(n=>Array.isArray(n)?nl(n,t):t(n))}function yf(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Mi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function uv(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function dv(e,t,n){let r=Jr(e,t);return r>=0?e[r|1]=n:(r=~r,uv(e,r,t,n)),r}function Wa(e,t){let n=Jr(e,t);if(n>=0)return e[n|1]}function Jr(e,t){return fv(e,t,1)}function fv(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var ln={},Ge=[],zr=new N(""),_f=new N("",-1),Cf=new N(""),Ii=class{get(t,n=an){if(n===an){let r=new Error(`NullInjectorError: No provider for ${Pe(t)}!`);throw r.name="NullInjectorError",r}return n}};function Df(e,t){let n=e[Qm]||null;if(!n&&t===!0)throw new Error(`Type ${Pe(e)} does not have '\u0275mod' property.`);return n}function Yn(e){return e[Wm]||null}function pv(e){return e[Zm]||null}function hv(e){return e[Ym]||null}function rl(e){return{\u0275providers:e}}function gv(...e){return{\u0275providers:bf(!0,e),\u0275fromNgModule:!0}}function bf(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return nl(t,s=>{let a=s;uc(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&wf(o,i),n}function wf(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];ol(o,i=>{t(i,r)})}}function uc(e,t,n,r){if(e=Oe(e),!e)return!1;let o=null,i=_d(e),s=!i&&Yn(e);if(!i&&!s){let c=e.ngModule;if(i=_d(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)uc(l,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{nl(i.imports,u=>{uc(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&wf(l,t)}if(!a){let l=Zn(o)||(()=>new o);t({provide:o,useFactory:l,deps:Ge},o),t({provide:Cf,useValue:o,multi:!0},o),t({provide:zr,useValue:()=>H(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=e;ol(c,u=>{t(u,l)})}}else return!1;return o!==e&&e.providers!==void 0}function ol(e,t){for(let n of e)pf(n)&&(n=n.\u0275providers),Array.isArray(n)?ol(n,t):t(n)}var mv=re({provide:String,useValue:re});function Ef(e){return e!==null&&typeof e=="object"&&mv in e}function vv(e){return!!(e&&e.useExisting)}function yv(e){return!!(e&&e.useFactory)}function Qn(e){return typeof e=="function"}function _v(e){return!!e.useClass}var Wi=new N(""),mi={},wd={},Za;function il(){return Za===void 0&&(Za=new Ii),Za}var We=class{},Gr=class extends We{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,fc(t,s=>this.processProvider(s)),this.records.set(_f,Un(void 0,this)),o.has("environment")&&this.records.set(We,Un(void 0,this));let i=this.records.get(Wi);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Cf,Ge,B.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?Uo:an,r)}destroy(){Hr(this),this._destroyed=!0;let t=z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),z(t)}}onDestroy(t){return Hr(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Hr(this);let n=Ct(this),r=ze(void 0),o;try{return t()}finally{Ct(n),ze(r)}}get(t,n=an,r=B.Default){if(Hr(this),t.hasOwnProperty(Dd))return t[Dd](this);r=qi(r);let o,i=Ct(this),s=ze(void 0);try{if(!(r&B.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=Ev(t)&&Gi(t);l&&this.injectableDefInScope(l)?c=Un(dc(t),mi):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c,r)}let a=r&B.Self?il():this.parent;return n=r&B.Optional&&n===an?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ei]=a[Ei]||[]).unshift(Pe(t)),i)throw a;return ov(a,t,"R3InjectorError",this.source)}else throw a}finally{ze(s),Ct(i)}}resolveInjectorInitializers(){let t=z(null),n=Ct(this),r=ze(void 0),o;try{let i=this.get(zr,Ge,B.Self);for(let s of i)s()}finally{Ct(n),ze(r),z(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Pe(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Oe(t);let n=Qn(t)?t:Oe(t&&t.provide),r=Dv(t);if(!Qn(t)&&t.multi===!0){let o=this.records.get(n);o||(o=Un(void 0,mi,!0),o.factory=()=>lc(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=z(null);try{return n.value===wd?hf(Pe(t)):n.value===mi&&(n.value=wd,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&wv(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{z(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Oe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function dc(e){let t=Gi(e),n=t!==null?t.factory:Zn(e);if(n!==null)return n;if(e instanceof N)throw new T(204,!1);if(e instanceof Function)return Cv(e);throw new T(204,!1)}function Cv(e){if(e.length>0)throw new T(204,!1);let n=Gm(e);return n!==null?()=>n.factory(e):()=>new e}function Dv(e){if(Ef(e))return Un(void 0,e.useValue);{let t=Mf(e);return Un(t,mi)}}function Mf(e,t,n){let r;if(Qn(e)){let o=Oe(e);return Zn(o)||dc(o)}else if(Ef(e))r=()=>Oe(e.useValue);else if(yv(e))r=()=>e.useFactory(...lc(e.deps||[]));else if(vv(e))r=(o,i)=>H(Oe(e.useExisting),i!==void 0&&i&B.Optional?B.Optional:void 0);else{let o=Oe(e&&(e.useClass||e.provide));if(bv(e))r=()=>new o(...lc(e.deps));else return Zn(o)||dc(o)}return r}function Hr(e){if(e.destroyed)throw new T(205,!1)}function Un(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function bv(e){return!!e.deps}function wv(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Ev(e){return typeof e=="function"||typeof e=="object"&&e instanceof N}function fc(e,t){for(let n of e)Array.isArray(n)?fc(n,t):n&&pf(n)?fc(n.\u0275providers,t):t(n)}function ot(e,t){let n;e instanceof Gr?(Hr(e),n=e):n=new wi(e);let r,o=Ct(n),i=ze(void 0);try{return t()}finally{Ct(o),ze(i)}}function Mv(){return gf()!==void 0||Fr()!=null}function Iv(e){return typeof e=="function"}var Nt=0,$=1,V=2,Ie=3,nt=4,it=5,xi=6,Si=7,Fe=8,un=9,Et=10,ye=11,qr=12,Ed=13,rr=14,lt=15,dn=16,zn=17,Mt=18,Zi=19,If=20,Ut=21,Ya=22,Ti=23,qe=24,Qa=25,rt=26,xf=1;var fn=7,Ni=8,Kn=9,je=10;function zt(e){return Array.isArray(e)&&typeof e[xf]=="object"}function At(e){return Array.isArray(e)&&e[xf]===!0}function sl(e){return(e.flags&4)!==0}function or(e){return e.componentOffset>-1}function Yi(e){return(e.flags&1)===1}function ut(e){return!!e.template}function Ai(e){return(e[V]&512)!==0}function ir(e){return(e[V]&256)===256}var pc=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Sf(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var sr=(()=>{let e=()=>Tf;return e.ngInherit=!0,e})();function Tf(e){return e.type.prototype.ngOnChanges&&(e.setInput=Sv),xv}function xv(){let e=Af(this),t=e?.current;if(t){let n=e.previous;if(n===ln)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Sv(e,t,n,r,o){let i=this.declaredInputs[r],s=Af(e)||Tv(e,{previous:ln,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new pc(l&&l.currentValue,n,c===ln),Sf(e,t,o,n)}var Nf="__ngSimpleChanges__";function Af(e){return e[Nf]||null}function Tv(e,t){return e[Nf]=t}var Md=null;var ie=function(e,t=null,n){Md?.(e,t,n)},Of="svg",Nv="math";function dt(e){for(;Array.isArray(e);)e=e[Nt];return e}function Rf(e,t){return dt(t[e])}function ht(e,t){return dt(t[e.index])}function kf(e,t){return e.data[t]}function Av(e,t){return e[t]}function ft(e,t){let n=t[e];return zt(n)?n:n[Nt]}function Ov(e){return(e[V]&4)===4}function al(e){return(e[V]&128)===128}function Rv(e){return At(e[Ie])}function Xn(e,t){return t==null?null:e[t]}function Pf(e){e[zn]=0}function Ff(e){e[V]&1024||(e[V]|=1024,al(e)&&Ki(e))}function kv(e,t){for(;e>0;)t=t[rr],e--;return t}function Qi(e){return!!(e[V]&9216||e[qe]?.dirty)}function hc(e){e[Et].changeDetectionScheduler?.notify(8),e[V]&64&&(e[V]|=1024),Qi(e)&&Ki(e)}function Ki(e){e[Et].changeDetectionScheduler?.notify(0);let t=pn(e);for(;t!==null&&!(t[V]&8192||(t[V]|=8192,!al(t)));)t=pn(t)}function Vf(e,t){if(ir(e))throw new T(911,!1);e[Ut]===null&&(e[Ut]=[]),e[Ut].push(t)}function Pv(e,t){if(e[Ut]===null)return;let n=e[Ut].indexOf(t);n!==-1&&e[Ut].splice(n,1)}function pn(e){let t=e[Ie];return At(t)?t[Ie]:t}function cl(e){return e[Si]??=[]}function ll(e){return e.cleanup??=[]}function Fv(e,t,n,r){let o=cl(t);o.push(n),e.firstCreatePass&&ll(e).push(r,o.length-1)}var L={lFrame:qf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var gc=!1;function Vv(){return L.lFrame.elementDepthCount}function Lv(){L.lFrame.elementDepthCount++}function jv(){L.lFrame.elementDepthCount--}function ul(){return L.bindingsEnabled}function Bv(){return L.skipHydrationRootTNode!==null}function Hv(e){return L.skipHydrationRootTNode===e}function $v(){L.skipHydrationRootTNode=null}function K(){return L.lFrame.lView}function Me(){return L.lFrame.tView}function w(e){return L.lFrame.contextLView=e,e[Fe]}function E(e){return L.lFrame.contextLView=null,e}function Be(){let e=Lf();for(;e!==null&&e.type===64;)e=e.parent;return e}function Lf(){return L.lFrame.currentTNode}function Uv(){let e=L.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Cn(e,t){let n=L.lFrame;n.currentTNode=e,n.isParent=t}function dl(){return L.lFrame.isParent}function jf(){L.lFrame.isParent=!1}function zv(){return L.lFrame.contextLView}function Bf(){return gc}function Id(e){let t=gc;return gc=e,t}function Hf(){let e=L.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Gv(){return L.lFrame.bindingIndex}function qv(e){return L.lFrame.bindingIndex=e}function Xi(){return L.lFrame.bindingIndex++}function $f(e){let t=L.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Wv(){return L.lFrame.inI18n}function Zv(e,t){let n=L.lFrame;n.bindingIndex=n.bindingRootIndex=e,mc(t)}function Yv(){return L.lFrame.currentDirectiveIndex}function mc(e){L.lFrame.currentDirectiveIndex=e}function Qv(e){let t=L.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Uf(){return L.lFrame.currentQueryIndex}function fl(e){L.lFrame.currentQueryIndex=e}function Kv(e){let t=e[$];return t.type===2?t.declTNode:t.type===1?e[it]:null}function zf(e,t,n){if(n&B.SkipSelf){let o=t,i=e;for(;o=o.parent,o===null&&!(n&B.Host);)if(o=Kv(i),o===null||(i=i[rr],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=L.lFrame=Gf();return r.currentTNode=t,r.lView=e,!0}function pl(e){let t=Gf(),n=e[$];L.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Gf(){let e=L.lFrame,t=e===null?null:e.child;return t===null?qf(e):t}function qf(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Wf(){let e=L.lFrame;return L.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Zf=Wf;function hl(){let e=Wf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Xv(e){return(L.lFrame.contextLView=kv(e,L.lFrame.contextLView))[Fe]}function Dn(){return L.lFrame.selectedIndex}function hn(e){L.lFrame.selectedIndex=e}function gl(){let e=L.lFrame;return kf(e.tView,e.selectedIndex)}function ml(){L.lFrame.currentNamespace=Of}function Yf(){Jv()}function Jv(){L.lFrame.currentNamespace=null}function ey(){return L.lFrame.currentNamespace}var Qf=!0;function Ji(){return Qf}function es(e){Qf=e}function ty(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Tf(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function vl(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function vi(e,t,n){Kf(e,t,3,n)}function yi(e,t,n,r){(e[V]&3)===n&&Kf(e,t,n,r)}function Ka(e,t){let n=e[V];(n&3)===t&&(n&=16383,n+=1,e[V]=n)}function Kf(e,t,n,r){let o=r!==void 0?e[zn]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[zn]+=65536),(a<i||i==-1)&&(ny(e,n,t,c),e[zn]=(e[zn]&4294901760)+c+2),c++}function xd(e,t){ie(4,e,t);let n=z(null);try{t.call(e)}finally{z(n),ie(5,e,t)}}function ny(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[V]>>14<e[zn]>>16&&(e[V]&3)===t&&(e[V]+=16384,xd(a,i)):xd(a,i)}var qn=-1,gn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function ry(e){return(e.flags&8)!==0}function oy(e){return(e.flags&16)!==0}function iy(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];ay(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function sy(e){return e===3||e===4||e===6}function ay(e){return e.charCodeAt(0)===64}function Jn(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Sd(e,n,o,null,t[++r]):Sd(e,n,o,null,null))}}return e}function Sd(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function Xf(e){return e!==qn}function Oi(e){return e&32767}function cy(e){return e>>16}function Ri(e,t){let n=cy(e),r=t;for(;n>0;)r=r[rr],n--;return r}var vc=!0;function Td(e){let t=vc;return vc=e,t}var ly=256,Jf=ly-1,ep=5,uy=0,ct={};function dy(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ur)&&(r=n[Ur]),r==null&&(r=n[Ur]=uy++);let o=r&Jf,i=1<<o;t.data[e+(o>>ep)]|=i}function ki(e,t){let n=tp(e,t);if(n!==-1)return n;let r=t[$];r.firstCreatePass&&(e.injectorIndex=t.length,Xa(r.data,e),Xa(t,null),Xa(r.blueprint,null));let o=yl(e,t),i=e.injectorIndex;if(Xf(o)){let s=Oi(o),a=Ri(o,t),c=a[$].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|c[s+l]}return t[i+8]=o,i}function Xa(e,t){e.push(0,0,0,0,0,0,0,0,t)}function tp(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function yl(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=sp(o),r===null)return qn;if(n++,o=o[rr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return qn}function yc(e,t,n){dy(e,t,n)}function np(e,t,n){if(n&B.Optional||e!==void 0)return e;tl(t,"NodeInjector")}function rp(e,t,n,r){if(n&B.Optional&&r===void 0&&(r=null),(n&(B.Self|B.Host))===0){let o=e[un],i=ze(void 0);try{return o?o.get(t,r,n&B.Optional):mf(t,r,n&B.Optional)}finally{ze(i)}}return np(r,t,n)}function op(e,t,n,r=B.Default,o){if(e!==null){if(t[V]&2048&&!(r&B.Self)){let s=gy(e,t,n,r,ct);if(s!==ct)return s}let i=ip(e,t,n,r,ct);if(i!==ct)return i}return rp(t,n,r,o)}function ip(e,t,n,r,o){let i=py(n);if(typeof i=="function"){if(!zf(t,e,r))return r&B.Host?np(o,n,r):rp(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&B.Optional))tl(n);else return s}finally{Zf()}}else if(typeof i=="number"){let s=null,a=tp(e,t),c=qn,l=r&B.Host?t[lt][it]:null;for((a===-1||r&B.SkipSelf)&&(c=a===-1?yl(e,t):t[a+8],c===qn||!Ad(r,!1)?a=-1:(s=t[$],a=Oi(c),t=Ri(c,t)));a!==-1;){let u=t[$];if(Nd(i,a,u.data)){let f=fy(a,t,n,s,r,l);if(f!==ct)return f}c=t[a+8],c!==qn&&Ad(r,t[$].data[a+8]===l)&&Nd(i,a,t)?(s=u,a=Oi(c),t=Ri(c,t)):a=-1}}return o}function fy(e,t,n,r,o,i){let s=t[$],a=s.data[e+8],c=r==null?or(a)&&vc:r!=s&&(a.type&3)!==0,l=o&B.Host&&i===a,u=_i(a,s,n,c,l);return u!==null?Wr(t,s,u,a,o):ct}function _i(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,l=e.directiveEnd,u=i>>20,f=r?a:a+u,p=o?a+u:l;for(let d=f;d<p;d++){let v=s[d];if(d<c&&n===v||d>=c&&v.type===n)return d}if(o){let d=s[c];if(d&&ut(d)&&d.type===n)return c}return null}function Wr(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof gn){let a=i;a.resolving&&hf(Km(s[n]));let c=Td(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?ze(a.injectImpl):null,f=zf(e,r,B.Default);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&ty(n,s[n],t)}finally{u!==null&&ze(u),Td(c),a.resolving=!1,Zf()}}return i}function py(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Ur)?e[Ur]:void 0;return typeof t=="number"?t>=0?t&Jf:hy:t}function Nd(e,t,n){let r=1<<e;return!!(n[t+(e>>ep)]&r)}function Ad(e,t){return!(e&B.Self)&&!(e&B.Host&&t)}var cn=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return op(this._tNode,this._lView,t,qi(r),n)}};function hy(){return new cn(Be(),K())}function qt(e){return Xr(()=>{let t=e.prototype.constructor,n=t[bi]||_c(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[bi]||_c(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function _c(e){return lf(e)?()=>{let t=_c(Oe(e));return t&&t()}:Zn(e)}function gy(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[V]&2048&&!Ai(s);){let a=ip(i,s,n,r|B.Self,ct);if(a!==ct)return a;let c=i.parent;if(!c){let l=s[If];if(l){let u=l.get(n,ct,r);if(u!==ct)return u}c=sp(s),s=s[rr]}i=c}return o}function sp(e){let t=e[$],n=t.type;return n===2?t.declTNode:n===1?e[it]:null}function Od(e,t=null,n=null,r){let o=ap(e,t,n,r);return o.resolveInjectorInitializers(),o}function ap(e,t=null,n=null,r,o=new Set){let i=[n||Ge,gv(e)];return r=r||(typeof e=="object"?void 0:Pe(e)),new Gr(i,t||il(),r||null,o)}var It=class e{static THROW_IF_NOT_FOUND=an;static NULL=new Ii;static create(t,n){if(Array.isArray(t))return Od({name:""},n,t,"");{let r=t.name??"";return Od({name:r},t.parent,t.providers,r)}}static \u0275prov=A({token:e,providedIn:"any",factory:()=>H(_f)});static __NG_ELEMENT_ID__=-1};var my=new N("");my.__NG_ELEMENT_ID__=e=>{let t=Be();if(t===null)throw new T(204,!1);if(t.type&2)return t.value;if(e&B.Optional)return null;throw new T(204,!1)};var cp=!1,ts=(()=>{class e{static __NG_ELEMENT_ID__=vy;static __NG_ENV_ID__=n=>n}return e})(),Cc=class extends ts{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return ir(n)?(t(),()=>{}):(Vf(n,t),()=>Pv(n,t))}};function vy(){return new Cc(K())}var Zr=class{},_l=new N("",{providedIn:"root",factory:()=>!1});var lp=new N(""),up=new N(""),ar=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new we(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=A({token:e,providedIn:"root",factory:()=>new e})}return e})();var Dc=class extends me{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Mv()&&(this.destroyRef=x(ts,{optional:!0})??void 0,this.pendingTasks=x(ar,{optional:!0})??void 0)}emit(t){let n=z(null);try{super.next(t)}finally{z(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof ge&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Y=Dc;function Pi(...e){}function dp(e){let t,n;function r(){e=Pi;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Rd(e){return queueMicrotask(()=>e()),()=>{e=Pi}}var Cl="isAngularZone",Fi=Cl+"_ID",yy=0,De=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Y(!1);onMicrotaskEmpty=new Y(!1);onStable=new Y(!1);onError=new Y(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=cp}=t;if(typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,Dy(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Cl)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new T(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,_y,Pi,Pi);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},_y={};function Dl(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Cy(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){dp(()=>{e.callbackScheduled=!1,bc(e),e.isCheckStableRunning=!0,Dl(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),bc(e)}function Dy(e){let t=()=>{Cy(e)},n=yy++;e._inner=e._inner.fork({name:"angular",properties:{[Cl]:!0,[Fi]:n,[Fi+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(by(c))return r.invokeTask(i,s,a,c);try{return kd(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Pd(e)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return kd(e),r.invoke(i,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!wy(c)&&t(),Pd(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,bc(e),Dl(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function bc(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function kd(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Pd(e){e._nesting--,Dl(e)}var wc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Y;onMicrotaskEmpty=new Y;onStable=new Y;onError=new Y;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function by(e){return fp(e,"__ignore_ng_zone__")}function wy(e){return fp(e,"__scheduler_tick__")}function fp(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var xt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Ey=new N("",{providedIn:"root",factory:()=>{let e=x(De),t=x(xt);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Fd(e,t){return af(e,t)}function My(e){return af(sf,e)}var pp=(Fd.required=My,Fd);function Iy(){return cr(Be(),K())}function cr(e,t){return new Ot(ht(e,t))}var Ot=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Iy}return e})();function xy(e){return e instanceof Ot?e.nativeElement:e}function Sy(e){return typeof e=="function"&&e[Ue]!==void 0}function ns(e,t){let n=Sa(e,t?.equal),r=n[Ue];return n.set=o=>Pr(r,o),n.update=o=>Ta(r,o),n.asReadonly=Ty.bind(n),n}function Ty(){let e=this[Ue];if(e.readonlyFn===void 0){let t=()=>this();t[Ue]=e,e.readonlyFn=t}return e.readonlyFn}function hp(e){return Sy(e)&&typeof e.set=="function"}function Ny(){return this._results[Symbol.iterator]()}var Ec=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new me}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=lv(t);(this._changesDetected=!cv(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Ny};function gp(e){return(e.flags&128)===128}var mp=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(mp||{}),vp=new Map,Ay=0;function Oy(){return Ay++}function Ry(e){vp.set(e[Zi],e)}function Mc(e){vp.delete(e[Zi])}var Vd="__ngContext__";function lr(e,t){zt(t)?(e[Vd]=t[Zi],Ry(t)):e[Vd]=t}function yp(e){return Cp(e[qr])}function _p(e){return Cp(e[nt])}function Cp(e){for(;e!==null&&!At(e);)e=e[nt];return e}var Ic;function Dp(e){Ic=e}function ky(){if(Ic!==void 0)return Ic;if(typeof document<"u")return document;throw new T(210,!1)}var rs=new N("",{providedIn:"root",factory:()=>Py}),Py="ng",bl=new N(""),eo=new N("",{providedIn:"platform",factory:()=>"unknown"});var wl=new N("",{providedIn:"root",factory:()=>ky().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Fy="h",Vy="b";var bp=!1,Ly=new N("",{providedIn:"root",factory:()=>bp});var wp=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(wp||{}),os=new N(""),Ld=new Set;function El(e){Ld.has(e)||(Ld.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var jy=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=A({token:e,providedIn:"root",factory:()=>new e})}return e})();var By=()=>null;function Ep(e,t,n=!1){return By(e,t,n)}function Mp(e,t){let n=e.contentQueries;if(n!==null){let r=z(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];fl(i),a.contentQueries(2,t[s],s)}}}finally{z(r)}}}function xc(e,t,n){fl(0);let r=z(null);try{t(e,n)}finally{z(r)}}function Ml(e,t,n){if(sl(t)){let r=z(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{z(r)}}}var pt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(pt||{});var Vi=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${of})`}};function Ip(e){return e instanceof Vi?e.changingThisBreaksApplicationSecurity:e}function Hy(e,t){let n=$y(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${of})`)}return n===t}function $y(e){return e instanceof Vi&&e.getTypeName()||null}var Uy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zy(e){return e=String(e),e.match(Uy)?e:"unsafe:"+e}var xp=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(xp||{});function xe(e){let t=Gy();return t?t.sanitize(xp.URL,e)||"":Hy(e,"URL")?Ip(e):zy(Wn(e))}function Gy(){let e=K();return e&&e[Et].sanitizer}var qy=/^>|^->|<!--|-->|--!>|<!-$/g,Wy=/(<|>)/g,Zy="\u200B$1\u200B";function Yy(e){return e.replace(qy,t=>t.replace(Wy,Zy))}function Sp(e){return e.ownerDocument}function Tp(e){return e instanceof Function?e():e}function Qy(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var Np="ng-template";function Ky(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&Qy(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Il(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Il(e){return e.type===4&&e.value!==Np}function Xy(e,t,n){let r=e.type===4&&!n?Np:e.value;return t===r}function Jy(e,t,n){let r=4,o=e.attrs,i=o!==null?n_(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!tt(r)&&!tt(c))return!1;if(s&&tt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Xy(e,c,n)||c===""&&t.length===1){if(tt(r))return!1;s=!0}}else if(r&8){if(o===null||!Ky(e,o,c,n)){if(tt(r))return!1;s=!0}}else{let l=t[++a],u=e_(c,o,Il(e),n);if(u===-1){if(tt(r))return!1;s=!0;continue}if(l!==""){let f;if(u>i?f="":f=o[u+1].toLowerCase(),r&2&&l!==f){if(tt(r))return!1;s=!0}}}}return tt(r)||s}function tt(e){return(e&1)===0}function e_(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return r_(t,e)}function t_(e,t,n=!1){for(let r=0;r<t.length;r++)if(Jy(e,t[r],n))return!0;return!1}function n_(e){for(let t=0;t<e.length;t++){let n=e[t];if(sy(n))return t}return e.length}function r_(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function jd(e,t){return e?":not("+t.trim()+")":t}function o_(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!tt(s)&&(t+=jd(i,o),o=""),r=s,i=i||!tt(r);n++}return o!==""&&(t+=jd(i,o)),t}function i_(e){return e.map(o_).join(",")}function s_(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!tt(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var Rt={};function a_(e,t){return e.createText(t)}function c_(e,t,n){e.setValue(t,n)}function l_(e,t){return e.createComment(Yy(t))}function Ap(e,t,n){return e.createElement(t,n)}function Li(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Op(e,t,n){e.appendChild(t,n)}function Bd(e,t,n,r,o){r!==null?Li(e,t,n,r,o):Op(e,t,n)}function u_(e,t,n){e.removeChild(null,t,n)}function d_(e,t,n){e.setAttribute(t,"style",n)}function f_(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Rp(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&iy(e,t,r),o!==null&&f_(e,t,o),i!==null&&d_(e,t,i)}function xl(e,t,n,r,o,i,s,a,c,l,u){let f=rt+r,p=f+o,d=p_(f,p),v=typeof l=="function"?l():l;return d[$]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:u}}function p_(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Rt);return n}function h_(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=xl(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Sl(e,t,n,r,o,i,s,a,c,l,u){let f=t.blueprint.slice();return f[Nt]=o,f[V]=r|4|128|8|64|1024,(l!==null||e&&e[V]&2048)&&(f[V]|=2048),Pf(f),f[Ie]=f[rr]=e,f[Fe]=n,f[Et]=s||e&&e[Et],f[ye]=a||e&&e[ye],f[un]=c||e&&e[un]||null,f[it]=i,f[Zi]=Oy(),f[xi]=u,f[If]=l,f[lt]=t.type==2?e[lt]:f,f}function g_(e,t,n){let r=ht(t,e),o=h_(n),i=e[Et].rendererFactory,s=Tl(e,Sl(e,o,null,kp(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function kp(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Pp(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Tl(e,t){return e[qr]?e[Ed][nt]=t:e[qr]=t,e[Ed]=t,t}function y(e=1){Fp(Me(),K(),Dn()+e,!1)}function Fp(e,t,n,r){if(!r)if((t[V]&3)===3){let i=e.preOrderCheckHooks;i!==null&&vi(t,i,n)}else{let i=e.preOrderHooks;i!==null&&yi(t,i,0,n)}hn(n)}var is=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(is||{});function Sc(e,t,n,r){let o=z(null);try{let[i,s,a]=e.inputs[n],c=null;(s&is.SignalBased)!==0&&(c=t[i][Ue]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):Sf(t,c,i,r)}finally{z(o)}}function Vp(e,t,n,r,o){let i=Dn(),s=r&2;try{hn(-1),s&&t.length>rt&&Fp(e,t,rt,!1),ie(s?2:0,o),n(r,o)}finally{hn(i),ie(s?3:1,o)}}function ss(e,t,n){D_(e,t,n),(n.flags&64)===64&&b_(e,t,n)}function Nl(e,t,n=ht){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function m_(e,t,n,r){let i=r.get(Ly,bp)||n===pt.ShadowDom,s=e.selectRootElement(t,i);return v_(s),s}function v_(e){y_(e)}var y_=()=>null;function __(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Lp(e,t,n,r,o,i,s,a){if(!a&&Ol(t,e,n,r,o)){or(t)&&C_(n,t.index);return}if(t.type&3){let c=ht(t,n);r=__(r),o=s!=null?s(o,t.value||"",r):o,i.setProperty(c,r,o)}else t.type&12}function C_(e,t){let n=ft(t,e);n[V]&16||(n[V]|=64)}function D_(e,t,n){let r=n.directiveStart,o=n.directiveEnd;or(n)&&g_(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||ki(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=Wr(t,e,s,n);if(lr(c,t),i!==null&&I_(t,s-r,c,a,n,i),ut(a)){let l=ft(n.index,t);l[Fe]=Wr(t,e,s,n)}}}function b_(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=Yv();try{hn(i);for(let a=r;a<o;a++){let c=e.data[a],l=t[a];mc(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&w_(c,l)}}finally{hn(-1),mc(s)}}function w_(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Al(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];t_(t,i.selectors,!1)&&(r??=[],ut(i)?r.unshift(i):r.push(i))}return r}function E_(e,t,n,r,o,i){let s=ht(e,t);M_(t[ye],s,i,e.value,n,r,o)}function M_(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?Wn(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function I_(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Sc(r,n,c,l)}}function x_(e,t){let n=e[un],r=n?n.get(xt,null):null;r&&r.handleError(t)}function Ol(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],f=t.data[l];Sc(f,n[l],u,o),a=!0}if(i)for(let c of i){let l=n[c],u=t.data[c];Sc(u,l,r,o),a=!0}return a}function S_(e,t){let n=ft(t,e),r=n[$];T_(r,n);let o=n[Nt];o!==null&&n[xi]===null&&(n[xi]=Ep(o,n[un])),ie(18),Rl(r,n,n[Fe]),ie(19,n[Fe])}function T_(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Rl(e,t,n){pl(t);try{let r=e.viewQuery;r!==null&&xc(1,r,n);let o=e.template;o!==null&&Vp(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Mt]?.finishViewCreation(e),e.staticContentQueries&&Mp(e,t),e.staticViewQueries&&xc(2,e.viewQuery,n);let i=e.components;i!==null&&N_(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[V]&=-5,hl()}}function N_(e,t){for(let n=0;n<t.length;n++)S_(e,t[n])}function A_(e,t,n,r){let o=z(null);try{let i=t.tView,a=e[V]&4096?4096:16,c=Sl(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[dn]=l;let u=e[Mt];return u!==null&&(c[Mt]=u.createEmbeddedView(i)),Rl(i,c,n),c}finally{z(o)}}function Hd(e,t){return!t||t.firstChild===null||gp(e)}var O_;function kl(e,t){return O_(e,t)}var St=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(St||{});function jp(e){return(e.flags&32)===32}function Gn(e,t,n,r,o){if(r!=null){let i,s=!1;At(r)?i=r:zt(r)&&(s=!0,r=r[Nt]);let a=dt(r);e===0&&n!==null?o==null?Op(t,n,a):Li(t,n,a,o||null,!0):e===1&&n!==null?Li(t,n,a,o||null,!0):e===2?u_(t,a,s):e===3&&t.destroyNode(a),i!=null&&z_(t,e,i,n,o)}}function R_(e,t){Bp(e,t),t[Nt]=null,t[it]=null}function k_(e,t,n,r,o,i){r[Nt]=o,r[it]=t,cs(e,r,n,1,o,i)}function Bp(e,t){t[Et].changeDetectionScheduler?.notify(9),cs(e,t,t[ye],2,null,null)}function P_(e){let t=e[qr];if(!t)return Ja(e[$],e);for(;t;){let n=null;if(zt(t))n=t[qr];else{let r=t[je];r&&(n=r)}if(!n){for(;t&&!t[nt]&&t!==e;)zt(t)&&Ja(t[$],t),t=t[Ie];t===null&&(t=e),zt(t)&&Ja(t[$],t),n=t&&t[nt]}t=n}}function Pl(e,t){let n=e[Kn],r=n.indexOf(t);n.splice(r,1)}function Hp(e,t){if(ir(t))return;let n=t[ye];n.destroyNode&&cs(e,t,n,3,null,null),P_(t)}function Ja(e,t){if(ir(t))return;let n=z(null);try{t[V]&=-129,t[V]|=256,t[qe]&&Ma(t[qe]),V_(e,t),F_(e,t),t[$].type===1&&t[ye].destroy();let r=t[dn];if(r!==null&&At(t[Ie])){r!==t[Ie]&&Pl(r,t);let o=t[Mt];o!==null&&o.detachView(e)}Mc(t)}finally{z(n)}}function F_(e,t){let n=e.cleanup,r=t[Si];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Si]=null);let o=t[Ut];if(o!==null){t[Ut]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[Ti];if(i!==null){t[Ti]=null;for(let s of i)s.destroy()}}function V_(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof gn)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];ie(4,a,c);try{c.call(a)}finally{ie(5,a,c)}}else{ie(4,o,i);try{i.call(o)}finally{ie(5,o,i)}}}}}function L_(e,t,n){return j_(e,t.parent,n)}function j_(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Nt];if(or(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===pt.None||o===pt.Emulated)return null}return ht(r,n)}function B_(e,t,n){return $_(e,t,n)}function H_(e,t,n){return e.type&40?ht(e,n):null}var $_=H_,$d;function as(e,t,n,r){let o=L_(e,r,t),i=t[ye],s=r.parent||t[it],a=B_(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Bd(i,o,n[c],a,!1);else Bd(i,o,n,a,!1);$d!==void 0&&$d(i,r,t,n,o)}function $r(e,t){if(t!==null){let n=t.type;if(n&3)return ht(t,e);if(n&4)return Tc(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return $r(e,r);{let o=e[t.index];return At(o)?Tc(-1,o):dt(o)}}else{if(n&128)return $r(e,t.next);if(n&32)return kl(t,e)()||dt(e[t.index]);{let r=$p(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=pn(e[lt]);return $r(o,r)}else return $r(e,t.next)}}}return null}function $p(e,t){if(t!==null){let r=e[lt][it],o=t.projection;return r.projection[o]}return null}function Tc(e,t){let n=je+e+1;if(n<t.length){let r=t[n],o=r[$].firstChild;if(o!==null)return $r(r,o)}return t[fn]}function Fl(e,t,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&lr(dt(a),r),n.flags|=2),!jp(n))if(c&8)Fl(e,t,n.child,r,o,i,!1),Gn(t,e,o,a,i);else if(c&32){let l=kl(n,r),u;for(;u=l();)Gn(t,e,o,u,i);Gn(t,e,o,a,i)}else c&16?U_(e,t,r,n,o,i):Gn(t,e,o,a,i);n=s?n.projectionNext:n.next}}function cs(e,t,n,r,o,i){Fl(n,r,e.firstChild,t,o,i,!1)}function U_(e,t,n,r,o,i){let s=n[lt],c=s[it].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Gn(t,e,o,u,i)}else{let l=c,u=s[Ie];gp(r)&&(l.flags|=128),Fl(e,t,l,u,o,i,!0)}}function z_(e,t,n,r,o){let i=n[fn],s=dt(n);i!==s&&Gn(t,e,r,i,o);for(let a=je;a<n.length;a++){let c=n[a];cs(c[$],c,e,t,r,i)}}function G_(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:St.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=St.Important),e.setStyle(n,r,o,i))}}function ji(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(dt(i)),At(i)&&q_(i,r);let s=n.type;if(s&8)ji(e,t,n.child,r);else if(s&32){let a=kl(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=$p(t,n);if(Array.isArray(a))r.push(...a);else{let c=pn(t[lt]);ji(c[$],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function q_(e,t){for(let n=je;n<e.length;n++){let r=e[n],o=r[$].firstChild;o!==null&&ji(r[$],r,o,t)}e[fn]!==e[Nt]&&t.push(e[fn])}function Up(e){if(e[Qa]!==null){for(let t of e[Qa])t.impl.addSequence(t);e[Qa].length=0}}var zp=[];function W_(e){return e[qe]??Z_(e)}function Z_(e){let t=zp.pop()??Object.create(Q_);return t.lView=e,t}function Y_(e){e.lView[qe]!==e&&(e.lView=null,zp.push(e))}var Q_=W(I({},Rr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Ki(e.lView)},consumerOnSignalRead(){this.lView[qe]=this}});function K_(e){let t=e[qe]??Object.create(X_);return t.lView=e,t}var X_=W(I({},Rr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=pn(e.lView);for(;t&&!Gp(t[$]);)t=pn(t);t&&Ff(t)},consumerOnSignalRead(){this.lView[qe]=this}});function Gp(e){return e.type!==2}function qp(e){if(e[Ti]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Ti])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[V]&8192)}}var J_=100;function Wp(e,t=!0,n=0){let o=e[Et].rendererFactory,i=!1;i||o.begin?.();try{e0(e,n)}catch(s){throw t&&x_(e,s),s}finally{i||o.end?.()}}function e0(e,t){let n=Bf();try{Id(!0),Nc(e,t);let r=0;for(;Qi(e);){if(r===J_)throw new T(103,!1);r++,Nc(e,1)}}finally{Id(n)}}function t0(e,t,n,r){if(ir(t))return;let o=t[V],i=!1,s=!1;pl(t);let a=!0,c=null,l=null;i||(Gp(e)?(l=W_(t),c=jo(l)):_a()===null?(a=!1,l=K_(t),c=jo(l)):t[qe]&&(Ma(t[qe]),t[qe]=null));try{Pf(t),qv(e.bindingStartIndex),n!==null&&Vp(e,t,n,2,r);let u=(o&3)===3;if(!i)if(u){let d=e.preOrderCheckHooks;d!==null&&vi(t,d,null)}else{let d=e.preOrderHooks;d!==null&&yi(t,d,0,null),Ka(t,0)}if(s||n0(t),qp(t),Zp(t,0),e.contentQueries!==null&&Mp(e,t),!i)if(u){let d=e.contentCheckHooks;d!==null&&vi(t,d)}else{let d=e.contentHooks;d!==null&&yi(t,d,1),Ka(t,1)}o0(e,t);let f=e.components;f!==null&&Qp(t,f,0);let p=e.viewQuery;if(p!==null&&xc(2,p,r),!i)if(u){let d=e.viewCheckHooks;d!==null&&vi(t,d)}else{let d=e.viewHooks;d!==null&&yi(t,d,2),Ka(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Ya]){for(let d of t[Ya])d();t[Ya]=null}i||(Up(t),t[V]&=-73)}catch(u){throw i||Ki(t),u}finally{l!==null&&(wa(l,c),a&&Y_(l)),hl()}}function Zp(e,t){for(let n=yp(e);n!==null;n=_p(n))for(let r=je;r<n.length;r++){let o=n[r];Yp(o,t)}}function n0(e){for(let t=yp(e);t!==null;t=_p(t)){if(!(t[V]&2))continue;let n=t[Kn];for(let r=0;r<n.length;r++){let o=n[r];Ff(o)}}}function r0(e,t,n){ie(18);let r=ft(t,e);Yp(r,n),ie(19,r[Fe])}function Yp(e,t){al(e)&&Nc(e,t)}function Nc(e,t){let r=e[$],o=e[V],i=e[qe],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&Ea(i)),s||=!1,i&&(i.dirty=!1),e[V]&=-9217,s)t0(r,e,r.template,e[Fe]);else if(o&8192){qp(e),Zp(e,1);let a=r.components;a!==null&&Qp(e,a,1),Up(e)}}function Qp(e,t,n){for(let r=0;r<t.length;r++)r0(e,t[r],n)}function o0(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)hn(~o);else{let i=o,s=n[++r],a=n[++r];Zv(s,i);let c=t[i];ie(24,c),a(2,c),ie(25,c)}}}finally{hn(-1)}}function Vl(e,t){let n=Bf()?64:1088;for(e[Et].changeDetectionScheduler?.notify(t);e;){e[V]|=n;let r=pn(e);if(Ai(e)&&!r)return e;e=r}return null}function Kp(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function i0(e,t,n,r=!0){let o=t[$];if(s0(o,t,e,n),r){let s=Tc(n,e),a=t[ye],c=a.parentNode(e[fn]);c!==null&&k_(o,e[it],a,t,c,s)}let i=t[xi];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Ac(e,t){if(e.length<=je)return;let n=je+t,r=e[n];if(r){let o=r[dn];o!==null&&o!==e&&Pl(o,r),t>0&&(e[n-1][nt]=r[nt]);let i=Mi(e,je+t);R_(r[$],r);let s=i[Mt];s!==null&&s.detachView(i[$]),r[Ie]=null,r[nt]=null,r[V]&=-129}return r}function s0(e,t,n,r){let o=je+r,i=n.length;r>0&&(n[o-1][nt]=t),r<i-je?(t[nt]=n[o],yf(n,je+r,t)):(n.push(t),t[nt]=null),t[Ie]=n;let s=t[dn];s!==null&&n!==s&&Xp(s,t);let a=t[Mt];a!==null&&a.insertView(e),hc(t),t[V]|=128}function Xp(e,t){let n=e[Kn],r=t[Ie];if(zt(r))e[V]|=2;else{let o=r[Ie][lt];t[lt]!==o&&(e[V]|=2)}n===null?e[Kn]=[t]:n.push(t)}var Yr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[$];return ji(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Fe]}set context(t){this._lView[Fe]=t}get destroyed(){return ir(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ie];if(At(t)){let n=t[Ni],r=n?n.indexOf(this):-1;r>-1&&(Ac(t,r),Mi(n,r))}this._attachedToViewContainer=!1}Hp(this._lView[$],this._lView)}onDestroy(t){Vf(this._lView,t)}markForCheck(){Vl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[V]&=-129}reattach(){hc(this._lView),this._lView[V]|=128}detectChanges(){this._lView[V]|=1024,Wp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Ai(this._lView),n=this._lView[dn];n!==null&&!t&&Pl(n,this._lView),Bp(this._lView[$],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=t;let n=Ai(this._lView),r=this._lView[dn];r!==null&&!n&&Xp(r,this._lView),hc(this._lView)}};var mn=(()=>{class e{static __NG_ELEMENT_ID__=l0}return e})(),a0=mn,c0=class extends a0{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let o=A_(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Yr(o)}};function l0(){return ls(Be(),K())}function ls(e,t){return e.type&4?new c0(t,e,cr(e,t)):null}function us(e,t,n,r,o){let i=e.data[t];if(i===null)i=u0(e,t,n,r,o),Wv()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Uv();i.injectorIndex=s===null?-1:s.injectorIndex}return Cn(i,!0),i}function u0(e,t,n,r,o){let i=Lf(),s=dl(),a=s?i:i&&i.parent,c=e.data[t]=f0(e,a,n,t,r,o);return d0(e,c,i,s),c}function d0(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function f0(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return Bv()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var vA=new RegExp(`^(\\d+)*(${Vy}|${Fy})*(.*)`);var p0=()=>null;function Ud(e,t){return p0(e,t)}var h0=class{},Jp=class{},Oc=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Pe(t)}.`)}},ds=class{static NULL=new Oc},er=class{},to=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>g0()}return e})();function g0(){let e=K(),t=Be(),n=ft(t.index,e);return(zt(n)?n:e)[ye]}var m0=(()=>{class e{static \u0275prov=A({token:e,providedIn:"root",factory:()=>null})}return e})();var ec={},Rc=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=qi(r);let o=this.injector.get(t,ec,r);return o!==ec||n===ec?o:this.parentInjector.get(t,n,r)}};function kc(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=vd(o,a);else if(i==2){let c=a,l=t[++s];r=vd(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function te(e,t=B.Default){let n=K();if(n===null)return H(e,t);let r=Be();return op(r,n,Oe(e),t)}function Ll(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a,c=null,l=null,u=y0(s);u===null?a=s:[a,c,l]=u,D0(e,t,n,a,i,c,l)}i!==null&&r!==null&&v0(n,r,i)}function v0(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new T(-301,!1);r.push(t[o],i)}}function y0(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&ut(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,o=null,i=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,_0(s,r,i,o)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,o,i]):null}function _0(e,t,n,r){let o=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[o,t.length-1])}function C0(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function D0(e,t,n,r,o,i,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let d=r[p];!c&&ut(d)&&(c=!0,C0(e,n,p)),yc(ki(n,t),e,d.type)}x0(n,e.data.length,a);for(let p=0;p<a;p++){let d=r[p];d.providersResolver&&d.providersResolver(d)}let l=!1,u=!1,f=Pp(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let d=r[p];if(n.mergedAttrs=Jn(n.mergedAttrs,d.hostAttrs),w0(e,n,t,f,d),I0(f,d,o),s!==null&&s.has(d)){let[M,S]=s.get(d);n.directiveToIndex.set(d.type,[f,M+n.directiveStart,S+n.directiveStart])}else(i===null||!i.has(d))&&n.directiveToIndex.set(d.type,f);d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let v=d.type.prototype;!l&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(v.ngOnChanges||v.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),f++}b0(e,n,i)}function b0(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))zd(0,t,o,r),zd(1,t,o,r),qd(t,r,!1);else{let i=n.get(o);Gd(0,t,i,r),Gd(1,t,i,r),qd(t,r,!0)}}}function zd(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),eh(t,i)}}function Gd(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),eh(t,s)}}function eh(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function qd(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||Il(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function w0(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=Zn(o.type,!0)),s=new gn(i,ut(o),te);e.blueprint[r]=s,n[r]=s,E0(e,t,r,Pp(e,n,o.hostVars,Rt),o)}function E0(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;M0(s)!=a&&s.push(a),s.push(n,r,i)}}function M0(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function I0(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ut(t)&&(n[""]=e)}}function x0(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function th(e,t,n,r,o,i,s,a){let c=t.consts,l=Xn(c,s),u=us(t,e,2,r,l);return i&&Ll(t,n,u,Xn(c,a),o),u.mergedAttrs=Jn(u.mergedAttrs,u.attrs),u.attrs!==null&&kc(u,u.attrs,!1),u.mergedAttrs!==null&&kc(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function nh(e,t){vl(e,t),sl(t)&&e.queries.elementEnd(t)}var Bi=class extends ds{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Yn(t);return new Qr(n,this.ngModule)}};function S0(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&is.SignalBased)!==0};return o&&(i.transform=o),i})}function T0(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function N0(e,t,n){let r=t instanceof We?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Rc(n,r):n}function A0(e){let t=e.get(er,null);if(t===null)throw new T(407,!1);let n=e.get(m0,null),r=e.get(Zr,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function O0(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Ap(t,n,n==="svg"?Of:n==="math"?Nv:null)}var Qr=class extends Jp{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=S0(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=T0(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=i_(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o){ie(22);let i=z(null);try{let s=this.componentDef,a=r?["ng-version","19.2.10"]:s_(this.componentDef.selectors[0]),c=xl(0,null,null,1,0,null,null,null,null,[a],null),l=N0(s,o||this.ngModule,t),u=A0(l),f=u.rendererFactory.createRenderer(null,s),p=r?m_(f,r,s.encapsulation,l):O0(s,f),d=Sl(null,c,null,512|kp(s),null,null,u,f,l,null,Ep(p,l,!0));d[rt]=p,pl(d);let v=null;try{let M=th(rt,c,d,"#host",()=>[this.componentDef],!0,0);p&&(Rp(f,p,M),lr(p,d)),ss(c,d,M),Ml(c,M,d),nh(c,M),n!==void 0&&R0(M,this.ngContentSelectors,n),v=ft(M.index,d),d[Fe]=v[Fe],Rl(c,d,null)}catch(M){throw v!==null&&Mc(v),Mc(d),M}finally{ie(23),hl()}return new Pc(this.componentType,d)}finally{z(i)}}},Pc=class extends h0{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=kf(n[$],rt),this.location=cr(this._tNode,n),this.instance=ft(this._tNode.index,n)[Fe],this.hostView=this.changeDetectorRef=new Yr(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=Ol(r,o[$],o,t,n);this.previousInputValues.set(t,n);let s=ft(r.index,o);Vl(s,1)}get injector(){return new cn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function R0(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Wt=(()=>{class e{static __NG_ELEMENT_ID__=k0}return e})();function k0(){let e=Be();return oh(e,K())}var P0=Wt,rh=class extends P0{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return cr(this._hostTNode,this._hostLView)}get injector(){return new cn(this._hostTNode,this._hostLView)}get parentInjector(){let t=yl(this._hostTNode,this._hostLView);if(Xf(t)){let n=Ri(t,this._hostLView),r=Oi(t),o=n[$].data[r+8];return new cn(o,n)}else return new cn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Wd(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-je}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Ud(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Hd(this._hostTNode,s)),a}createComponent(t,n,r,o,i){let s=t&&!Iv(t),a;if(s)a=n;else{let v=n||{};a=v.index,r=v.injector,o=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef}let c=s?t:new Qr(Yn(t)),l=r||this.parentInjector;if(!i&&c.ngModule==null){let M=(s?l:this.parentInjector).get(We,null);M&&(i=M)}let u=Yn(c.componentType??{}),f=Ud(this._lContainer,u?.id??null),p=f?.firstChild??null,d=c.create(l,o,p,i);return this.insertImpl(d.hostView,a,Hd(this._hostTNode,f)),d}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(Rv(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[Ie],l=new rh(c,c[it],c[Ie]);l.detach(l.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return i0(s,o,i,r),t.attachToViewContainerRef(),yf(tc(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Wd(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Ac(this._lContainer,n);r&&(Mi(tc(this._lContainer),n),Hp(r[$],r))}detach(t){let n=this._adjustIndex(t,-1),r=Ac(this._lContainer,n);return r&&Mi(tc(this._lContainer),n)!=null?new Yr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Wd(e){return e[Ni]}function tc(e){return e[Ni]||(e[Ni]=[])}function oh(e,t){let n,r=t[e.index];return At(r)?n=r:(n=Kp(r,t,null,e),t[e.index]=n,Tl(t,n)),V0(n,t,e,r),new rh(n,e,t)}function F0(e,t){let n=e[ye],r=n.createComment(""),o=ht(t,e),i=n.parentNode(o);return Li(n,i,r,n.nextSibling(o),!1),r}var V0=B0,L0=()=>!1;function j0(e,t,n){return L0(e,t,n)}function B0(e,t,n,r){if(e[fn])return;let o;n.type&8?o=dt(r):o=F0(t,n),e[fn]=o}var Fc=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Vc=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new e(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)jl(t,n).matches!==null&&this.queries[n].setDirty()}},Lc=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=Z0(t):this.predicate=t}},jc=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Bc=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,n,H0(n,i)),this.matchTNodeWithReadOption(t,n,_i(n,t,i,!1,!1))}else r===mn?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,_i(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Ot||o===Wt||o===mn&&n.type&4)this.addMatch(n.index,-2);else{let i=_i(n,t,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function H0(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function $0(e,t){return e.type&11?cr(e,t):e.type&4?ls(e,t):null}function U0(e,t,n,r){return n===-1?$0(t,e):n===-2?z0(e,t,r):Wr(e,e[$],n,t)}function z0(e,t,n){if(n===Ot)return cr(t,e);if(n===mn)return ls(t,e);if(n===Wt)return oh(t,e)}function ih(e,t,n,r){let o=t[Mt].queries[r];if(o.matches===null){let i=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=i[l];a.push(U0(t,u,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function Hc(e,t,n,r){let o=e.queries.getByIndex(n),i=o.matches;if(i!==null){let s=ih(e,t,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let l=i[a+1],u=t[-c];for(let f=je;f<u.length;f++){let p=u[f];p[dn]===p[Ie]&&Hc(p[$],p,l,r)}if(u[Kn]!==null){let f=u[Kn];for(let p=0;p<f.length;p++){let d=f[p];Hc(d[$],d,l,r)}}}}}return r}function G0(e,t){return e[Mt].queries[t].queryList}function q0(e,t,n){let r=new Ec((n&4)===4);return Fv(e,t,r,r.destroy),(t[Mt]??=new Vc).queries.push(new Fc(r))-1}function W0(e,t,n){let r=Me();return r.firstCreatePass&&(Y0(r,new Lc(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),q0(r,K(),t)}function Z0(e){return e.split(",").map(t=>t.trim())}function Y0(e,t,n){e.queries===null&&(e.queries=new jc),e.queries.track(new Bc(t,n))}function jl(e,t){return e.queries.getByIndex(t)}function Q0(e,t){let n=e[$],r=jl(n,t);return r.crossesNgTemplate?Hc(n,e,t,[]):ih(n,e,r,t)}var tr=class{},Bl=class{};var $c=class extends tr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Bi(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=Df(t);this._bootstrapComponents=Tp(i.bootstrap),this._r3Injector=ap(t,n,[{provide:tr,useValue:this},{provide:ds,useValue:this.componentFactoryResolver},...r],Pe(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Uc=class extends Bl{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new $c(this.moduleType,t,[])}};var Hi=class extends tr{injector;componentFactoryResolver=new Bi(this);instance=null;constructor(t){super();let n=new Gr([...t.providers,{provide:tr,useValue:this},{provide:ds,useValue:this.componentFactoryResolver}],t.parent||il(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function fs(e,t,n=null){return new Hi({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var K0=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=bf(!1,n.type),o=r.length>0?fs([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=A({token:e,providedIn:"environment",factory:()=>new e(H(We))})}return e})();function Se(e){return Xr(()=>{let t=sh(e),n=W(I({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===mp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(K0).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||pt.Emulated,styles:e.styles||Ge,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&El("NgStandalone"),ah(n);let r=e.dependencies;return n.directiveDefs=Zd(r,!1),n.pipeDefs=Zd(r,!0),n.id=nC(n),n})}function X0(e){return Yn(e)||pv(e)}function J0(e){return e!==null}function bn(e){return Xr(()=>({type:e.type,bootstrap:e.bootstrap||Ge,declarations:e.declarations||Ge,imports:e.imports||Ge,exports:e.exports||Ge,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function eC(e,t){if(e==null)return ln;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=is.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function tC(e){if(e==null)return ln;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Te(e){return Xr(()=>{let t=sh(e);return ah(t),t})}function sh(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||ln,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ge,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eC(e.inputs,t),outputs:tC(e.outputs),debugInfo:null}}function ah(e){e.features?.forEach(t=>t(e))}function Zd(e,t){if(!e)return null;let n=t?hv:X0;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(J0)}function nC(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function rC(e){return Object.getPrototypeOf(e.prototype).constructor}function kt(e){let t=rC(e.type),n=!0,r=[e];for(;t;){let o;if(ut(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new T(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=nc(e.inputs),s.declaredInputs=nc(e.declaredInputs),s.outputs=nc(e.outputs);let a=o.hostBindings;a&&cC(e,a);let c=o.viewQuery,l=o.contentQueries;if(c&&sC(e,c),l&&aC(e,l),oC(e,o),Um(e.outputs,o.outputs),ut(o)&&o.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===kt&&(n=!1)}}t=Object.getPrototypeOf(t)}iC(r)}function oC(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function iC(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Jn(o.hostAttrs,n=Jn(n,o.hostAttrs))}}function nc(e){return e===ln?{}:e===Ge?[]:e}function sC(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function aC(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function cC(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function ch(e){return uC(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function lC(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function uC(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function lh(e,t,n){return e[t]=n}function Tt(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function dC(e,t,n,r){let o=Tt(e,t,n);return Tt(e,t+1,r)||o}function fC(e,t,n,r,o,i,s,a,c){let l=t.consts,u=us(t,e,4,s||null,a||null);ul()&&Ll(t,n,u,Xn(l,c),Al),u.mergedAttrs=Jn(u.mergedAttrs,u.attrs),vl(t,u);let f=u.tView=xl(2,u,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}function pC(e,t,n,r,o,i,s,a,c,l){let u=n+rt,f=t.firstCreatePass?fC(u,t,e,r,o,i,s,a,c):t.data[u];Cn(f,!1);let p=hC(t,e,f,n);Ji()&&as(t,e,p,f),lr(p,e);let d=Kp(p,e,p,f);return e[u]=d,Tl(e,d),j0(d,f,e),Yi(f)&&ss(t,e,f),c!=null&&Nl(e,f,l),f}function ee(e,t,n,r,o,i,s,a){let c=K(),l=Me(),u=Xn(l.consts,i);return pC(c,l,e,t,n,r,o,u,s,a),ee}var hC=gC;function gC(e,t,n,r){return es(!0),t[ye].createComment("")}var uh=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var dh=new N("");var mC=(()=>{class e{static \u0275prov=A({token:e,providedIn:"root",factory:()=>new zc})}return e})(),zc=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function wn(e){return!!e&&typeof e.then=="function"}function fh(e){return!!e&&typeof e.subscribe=="function"}var vC=new N("");var ph=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(vC,{optional:!0})??[];injector=x(It);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=ot(this.injector,o);if(wn(i))n.push(i);else if(fh(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Hl=new N("");function yC(){xa(()=>{throw new T(600,!1)})}function _C(e){return e.isBoundToModule}var CC=10;var vn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(Ey);afterRenderManager=x(jy);zonelessEnabled=x(_l);rootEffectScheduler=x(mC);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new me;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(ar).hasPendingTasks.pipe(Z(n=>!n));constructor(){x(os,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(We);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=It.NULL){ie(10);let i=n instanceof Jp;if(!this._injector.get(ph).done){let d="";throw new T(405,d)}let a;i?a=n:a=this._injector.get(ds).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=_C(a)?void 0:this._injector.get(tr),l=r||a.selector,u=a.create(o,[],l,c),f=u.location.nativeElement,p=u.injector.get(dh,null);return p?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),Ci(this.components,u),p?.unregisterApplication(f)}),this._loadComponent(u),ie(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ie(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(wp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new T(101,!1);let n=z(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,z(n),this.afterTick.next(),ie(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(er,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<CC;)ie(14),this.synchronizeOnce(),ie(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)DC(r,o,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Qi(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ci(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Hl,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ci(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ci(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function DC(e,t,n,r){if(!n&&!Qi(e))return;Wp(e,t,n&&!r?0:1)}function no(e,t,n,r){let o=K(),i=Xi();if(Tt(o,i,t)){let s=Me(),a=gl();E_(a,o,e,t,n,r)}return no}function bC(e,t,n,r){return Tt(e,Xi(),n)?t+Wn(n)+r:Rt}function wC(e,t,n,r,o,i){let s=Gv(),a=dC(e,s,n,o);return $f(2),a?t+Wn(n)+r+Wn(o)+i:Rt}function gi(e,t){return e<<17|t<<2}function yn(e){return e>>17&32767}function EC(e){return(e&2)==2}function MC(e,t){return e&131071|t<<17}function Gc(e){return e|2}function nr(e){return(e&131068)>>2}function rc(e,t){return e&-131069|t<<2}function IC(e){return(e&1)===1}function qc(e){return e|1}function xC(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=yn(s),c=nr(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||Jr(f,u)>0)&&(l=!0)}else u=n;if(o)if(c!==0){let p=yn(e[a+1]);e[r+1]=gi(p,a),p!==0&&(e[p+1]=rc(e[p+1],r)),e[a+1]=MC(e[a+1],r)}else e[r+1]=gi(a,0),a!==0&&(e[a+1]=rc(e[a+1],r)),a=r;else e[r+1]=gi(c,0),a===0?a=r:e[c+1]=rc(e[c+1],r),c=r;l&&(e[r+1]=Gc(e[r+1])),Yd(e,u,r,!0),Yd(e,u,r,!1),SC(t,u,e,r,i),s=gi(a,c),i?t.classBindings=s:t.styleBindings=s}function SC(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&Jr(i,t)>=0&&(n[r+1]=qc(n[r+1]))}function Yd(e,t,n,r){let o=e[n+1],i=t===null,s=r?yn(o):nr(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],l=e[s+1];TC(c,t)&&(a=!0,e[s+1]=r?qc(l):Gc(l)),s=r?yn(l):nr(l)}a&&(e[n+1]=r?Gc(o):qc(o))}function TC(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Jr(e,t)>=0:!1}function C(e,t,n){let r=K(),o=Xi();if(Tt(r,o,t)){let i=Me(),s=gl();Lp(i,s,r,e,t,r[ye],n,!1)}return C}function Qd(e,t,n,r,o){Ol(t,e,n,o?"class":"style",r)}function ur(e,t,n){return hh(e,t,n,!1),ur}function se(e,t){return hh(e,t,null,!0),se}function hh(e,t,n,r){let o=K(),i=Me(),s=$f(2);if(i.firstUpdatePass&&AC(i,e,s,r),t!==Rt&&Tt(o,s,t)){let a=i.data[Dn()];FC(i,a,o,o[ye],e,o[s+1]=VC(t,n),r,s)}}function NC(e,t){return t>=e.expandoStartIndex}function AC(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[Dn()],s=NC(e,n);LC(i,r)&&t===null&&!s&&(t=!1),t=OC(o,i,t,r),xC(o,i,t,n,s,r)}}function OC(e,t,n,r){let o=Qv(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=oc(null,e,t,n,r),n=Kr(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=oc(o,e,t,n,r),i===null){let c=RC(e,t,r);c!==void 0&&Array.isArray(c)&&(c=oc(null,e,t,c[1],r),c=Kr(c,t.attrs,r),kC(e,t,r,c))}else i=PC(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function RC(e,t,n){let r=n?t.classBindings:t.styleBindings;if(nr(r)!==0)return e[yn(r)]}function kC(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[yn(o)]=r}function PC(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=Kr(r,s,n)}return Kr(r,t.attrs,n)}function oc(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=Kr(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Kr(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),dv(e,s,n?!0:t[++i]))}return e===void 0?null:e}function FC(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=IC(l)?Kd(c,t,n,o,nr(l),s):void 0;if(!$i(u)){$i(i)||EC(l)&&(i=Kd(c,null,n,o,a,s));let f=Rf(Dn(),n);G_(r,s,f,o,i)}}function Kd(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],l=Array.isArray(c),u=l?c[1]:c,f=u===null,p=n[o+1];p===Rt&&(p=f?Ge:void 0);let d=f?Wa(p,r):u===r?p:void 0;if(l&&!$i(d)&&(d=Wa(c,r)),$i(d)&&(a=d,s))return a;let v=e[o+1];o=s?yn(v):nr(v)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=Wa(c,r))}return a}function $i(e){return e!==void 0}function VC(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Pe(Ip(e)))),e}function LC(e,t){return(e.flags&(t?8:16))!==0}function h(e,t,n,r){let o=K(),i=Me(),s=rt+e,a=o[ye],c=i.firstCreatePass?th(s,i,o,t,Al,ul(),n,r):i.data[s],l=jC(i,o,c,a,t,e);o[s]=l;let u=Yi(c);return Cn(c,!0),Rp(a,l,c),!jp(c)&&Ji()&&as(i,o,l,c),(Vv()===0||u)&&lr(l,o),Lv(),u&&(ss(i,o,c),Ml(i,c,o)),r!==null&&Nl(o,c),h}function m(){let e=Be();dl()?jf():(e=e.parent,Cn(e,!1));let t=e;Hv(t)&&$v(),jv();let n=Me();return n.firstCreatePass&&nh(n,t),t.classesWithoutHost!=null&&ry(t)&&Qd(n,t,K(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&oy(t)&&Qd(n,t,K(),t.stylesWithoutHost,!1),m}function he(e,t,n,r){return h(e,t,n,r),m(),he}var jC=(e,t,n,r,o,i)=>(es(!0),Ap(r,o,ey()));function BC(e,t,n,r,o){let i=t.consts,s=Xn(i,r),a=us(t,e,8,"ng-container",s);s!==null&&kc(a,s,!0);let c=Xn(i,o);return ul()&&Ll(t,n,a,c,Al),a.mergedAttrs=Jn(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function Ze(e,t,n){let r=K(),o=Me(),i=e+rt,s=o.firstCreatePass?BC(i,o,r,t,n):o.data[i];Cn(s,!0);let a=HC(o,r,s,e);return r[i]=a,Ji()&&as(o,r,a,s),lr(a,r),Yi(s)&&(ss(o,r,s),Ml(o,s,r)),n!=null&&Nl(r,s),Ze}function Ye(){let e=Be(),t=Me();return dl()?jf():(e=e.parent,Cn(e,!1)),t.firstCreatePass&&(vl(t,e),sl(e)&&t.queries.elementEnd(e)),Ye}var HC=(e,t,n,r)=>(es(!0),l_(t[ye],""));function q(){return K()}var Ui="en-US";var $C=Ui;function UC(e){typeof e=="string"&&($C=e.toLowerCase().replace(/_/g,"-"))}function Xd(e,t,n){return function r(o){if(o===Function)return n;let i=or(e)?ft(e.index,t):t;Vl(i,5);let s=t[Fe],a=Jd(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=Jd(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Jd(e,t,n,r){let o=z(null);try{return ie(6,t,n),n(r)!==!1}catch(i){return zC(e,i),!1}finally{ie(7,t,n),z(o)}}function zC(e,t){let n=e[un],r=n?n.get(xt,null):null;r&&r.handleError(t)}function ef(e,t,n,r,o,i){let s=t[n],a=t[$],l=a.data[n].outputs[r],u=s[l],f=a.firstCreatePass?ll(a):null,p=cl(t),d=u.subscribe(i),v=p.length;p.push(i,d),f&&f.push(o,e.index,v,-(v+1))}var GC=new Map;function D(e,t,n,r){let o=K(),i=Me(),s=Be();return gh(i,o,o[ye],s,e,t,r),D}function qC(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[Si],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function gh(e,t,n,r,o,i,s){let a=Yi(r),l=e.firstCreatePass?ll(e):null,u=cl(t),f=!0;if(r.type&3||s){let p=ht(r,t),d=s?s(p):p,v=u.length,M=s?b=>s(dt(b[r.index])):r.index,S=null;if(!s&&a&&(S=qC(e,t,o,r.index)),S!==null){let b=S.__ngLastListenerFn__||S;b.__ngNextListenerFn__=i,S.__ngLastListenerFn__=i,f=!1}else{i=Xd(r,t,i);let b=t[un].get(rs);GC.get(b)?.(d,o,i);let R=n.listen(d,o,i);u.push(i,R),l&&l.push(o,M,v,v+1)}}else i=Xd(r,t,i);if(f){let p=r.outputs?.[o],d=r.hostDirectiveOutputs?.[o];if(d&&d.length)for(let v=0;v<d.length;v+=2){let M=d[v],S=d[v+1];ef(r,t,M,S,o,i)}if(p&&p.length)for(let v of p)ef(r,t,v,o,o,i)}}function g(e=1){return Xv(e)}function dr(e,t,n){W0(e,t,n)}function fr(e){let t=K(),n=Me(),r=Uf();fl(r+1);let o=jl(n,r);if(e.dirty&&Ov(t)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else{let i=Q0(t,r);e.reset(i,xy),e.notifyOnChanges()}return!0}return!1}function pr(){return G0(K(),Uf())}function mh(e){let t=zv();return Av(t,rt+e)}function _(e,t=""){let n=K(),r=Me(),o=e+rt,i=r.firstCreatePass?us(r,o,1,t,null):r.data[o],s=WC(r,n,i,t,e);n[o]=s,Ji()&&as(r,n,s,i),Cn(i,!1)}var WC=(e,t,n,r,o)=>(es(!0),a_(t[ye],r));function Qe(e){return En("",e,""),Qe}function En(e,t,n){let r=K(),o=bC(r,e,t,n);return o!==Rt&&vh(r,Dn(),o),En}function $l(e,t,n,r,o){let i=K(),s=wC(i,e,t,n,r,o);return s!==Rt&&vh(i,Dn(),s),$l}function vh(e,t,n){let r=Rf(t,e);c_(e[ye],r,n)}function Pt(e,t,n){hp(t)&&(t=t());let r=K(),o=Xi();if(Tt(r,o,t)){let i=Me(),s=gl();Lp(i,s,r,e,t,r[ye],n,!1)}return Pt}function Zt(e,t){let n=hp(e);return n&&e.set(t),n}function Ft(e,t){let n=K(),r=Me(),o=Be();return gh(r,n,n[ye],o,e,t),Ft}function ZC(e,t,n){let r=Me();if(r.firstCreatePass){let o=ut(e);Wc(n,r.data,r.blueprint,o,!0),Wc(t,r.data,r.blueprint,o,!1)}}function Wc(e,t,n,r,o){if(e=Oe(e),Array.isArray(e))for(let i=0;i<e.length;i++)Wc(e[i],t,n,r,o);else{let i=Me(),s=K(),a=Be(),c=Qn(e)?e:Oe(e.provide),l=Mf(e),u=a.providerIndexes&1048575,f=a.directiveStart,p=a.providerIndexes>>20;if(Qn(e)||!e.multi){let d=new gn(l,o,te),v=sc(c,t,o?u:u+p,f);v===-1?(yc(ki(a,s),i,c),ic(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(d),s.push(d)):(n[v]=d,s[v]=d)}else{let d=sc(c,t,u+p,f),v=sc(c,t,u,u+p),M=d>=0&&n[d],S=v>=0&&n[v];if(o&&!S||!o&&!M){yc(ki(a,s),i,c);let b=KC(o?QC:YC,n.length,o,r,l);!o&&S&&(n[v].providerFactory=b),ic(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(b),s.push(b)}else{let b=yh(n[o?v:d],l,!o&&r);ic(i,e,d>-1?d:v,b)}!o&&r&&S&&n[v].componentProviders++}}}function ic(e,t,n,r){let o=Qn(t),i=_v(t);if(o||i){let c=(i?Oe(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function yh(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function sc(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function YC(e,t,n,r,o){return Zc(this.multi,[])}function QC(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Wr(r,r[$],this.providerFactory.index,o);s=c.slice(0,a),Zc(i,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Zc(i,s);return s}function Zc(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function KC(e,t,n,r,o){let i=new gn(e,n,te);return i.multi=[],i.index=t,i.componentProviders=0,yh(i,o,r&&!n),i}function hr(e,t=[]){return n=>{n.providersResolver=(r,o)=>ZC(r,o?o(e):e,t)}}function _h(e,t,n,r){return XC(K(),Hf(),e,t,n,r)}function Ch(e,t,n,r){return JC(K(),Hf(),e,t,n,r)}function Dh(e,t){let n=e[t];return n===Rt?void 0:n}function XC(e,t,n,r,o,i){let s=t+n;return Tt(e,s,o)?lh(e,s+1,i?r.call(i,o):r(o)):Dh(e,s+1)}function JC(e,t,n,r,o,i){let s=t+n,a=!1;for(let c=0;c<o.length;c++)Tt(e,s++,o[c])&&(a=!0);return a?lh(e,s,r.apply(i,o)):Dh(e,s)}function bh(e,t){return ls(e,t)}var Yc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},wh=(()=>{class e{compileModuleSync(n){return new Uc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Df(n),i=Tp(o.declarations).reduce((s,a)=>{let c=Yn(a);return c&&s.push(new Qr(c)),s},[]);return new Yc(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var eD=(()=>{class e{zone=x(De);changeDetectionScheduler=x(Zr);applicationRef=x(vn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tD=new N("",{factory:()=>!1});function Eh({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new De(W(I({},Ih()),{scheduleInRootZone:n})),[{provide:De,useFactory:e},{provide:zr,multi:!0,useFactory:()=>{let r=x(eD,{optional:!0});return()=>r.initialize()}},{provide:zr,multi:!0,useFactory:()=>{let r=x(nD);return()=>{r.initialize()}}},t===!0?{provide:lp,useValue:!0}:[],{provide:up,useValue:n??cp}]}function Mh(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=Eh({ngZoneFactory:()=>{let o=Ih(e);return o.scheduleInRootZone=n,o.shouldCoalesceEventChangeDetection&&El("NgZone_CoalesceEvent"),new De(o)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return rl([{provide:tD,useValue:!0},{provide:_l,useValue:!1},r])}function Ih(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var nD=(()=>{class e{subscription=new ge;initialized=!1;zone=x(De);pendingTasks=x(ar);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var rD=(()=>{class e{appRef=x(vn);taskService=x(ar);ngZone=x(De);zonelessEnabled=x(_l);tracing=x(os,{optional:!0});disableScheduling=x(lp,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ge;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Fi):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(up,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof wc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Rd:dp;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Fi+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Rd(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oD(){return typeof $localize<"u"&&$localize.locale||Ui}var Ul=new N("",{providedIn:"root",factory:()=>x(Ul,B.Optional|B.SkipSelf)||oD()});var Qc=new N(""),iD=new N("");function Br(e){return!e.moduleRef}function sD(e){let t=Br(e)?e.r3Injector:e.moduleRef.injector,n=t.get(De);return n.run(()=>{Br(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(xt,null),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),Br(e)){let i=()=>t.destroy(),s=e.platformInjector.get(Qc);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Qc);s.add(i),e.moduleRef.onDestroy(()=>{Ci(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return cD(r,n,()=>{let i=t.get(ph);return i.runInitializers(),i.donePromise.then(()=>{let s=t.get(Ul,Ui);if(UC(s||Ui),!t.get(iD,!0))return Br(e)?t.get(vn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Br(e)){let c=t.get(vn);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return aD(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function aD(e,t){let n=e.injector.get(vn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new T(-403,!1);t.push(e)}function cD(e,t,n){try{let r=n();return wn(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Di=null;function lD(e=[],t){return It.create({name:t,providers:[{provide:Wi,useValue:"platform"},{provide:Qc,useValue:new Set([()=>Di=null])},...e]})}function uD(e=[]){if(Di)return Di;let t=lD(e);return Di=t,yC(),dD(t),t}function dD(e){let t=e.get(bl,null);ot(e,()=>{t?.forEach(n=>n())})}var Mn=(()=>{class e{static __NG_ELEMENT_ID__=fD}return e})();function fD(e){return pD(Be(),K(),(e&16)===16)}function pD(e,t,n){if(or(e)&&!n){let r=ft(e.index,t);return new Yr(r,r)}else if(e.type&175){let r=t[lt];return new Yr(r,t)}return null}var Kc=class{constructor(){}supports(t){return ch(t)}create(t){return new Xc(t)}},hD=(e,t)=>t,Xc=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||hD}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<tf(r,o,i)?n:r,a=tf(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let l=a-o,u=c-o;if(l!=u){for(let p=0;p<l;p++){let d=p<i.length?i[p]:i[p]=0,v=d+p;u<=v&&v<l&&(i[p]=d+1)}let f=s.previousIndex;i[f]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!ch(t))throw new T(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,lC(t,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new Jc(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new zi),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new zi),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Jc=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},el=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},zi=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new el,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function tf(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function nf(){return new zl([new Kc])}var zl=(()=>{class e{factories;static \u0275prov=A({token:e,providedIn:"root",factory:nf});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||nf()),deps:[[e,new av,new sv]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new T(901,!1)}}return e})();function xh(e){ie(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,o=uD(r),i=[Eh({}),{provide:Zr,useExisting:rD},...n||[]],s=new Hi({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return sD({r3Injector:s.injector,platformInjector:o,rootComponent:t})}catch(t){return Promise.reject(t)}finally{ie(9)}}function Gl(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Yt(e){return Na(e)}function ps(e,t){return Ia(e,t?.equal)}var rf=class{[Ue];constructor(t){this[Ue]=t}destroy(){this[Ue].destroy()}};var Ae=new N("");var Nh=null;function Ke(){return Nh}function ql(e){Nh??=e}var ro=class{},Wl=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>x(Ah),providedIn:"platform"})}return e})();var Ah=(()=>{class e extends Wl{_location;_history;_doc=x(Ae);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ke().getBaseHref(this._doc)}onPopState(n){let r=Ke().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ke().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Oh(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Sh(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Qt(e){return e&&e[0]!=="?"?`?${e}`:e}var hs=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>x(kh),providedIn:"root"})}return e})(),Rh=new N(""),kh=(()=>{class e extends hs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Oh(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Qt(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Qt(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Qt(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(H(Wl),H(Rh,8))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gr=(()=>{class e{_subject=new me;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=vD(Sh(Th(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Qt(r))}normalize(n){return e.stripTrailingSlash(mD(this._basePath,Th(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qt(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Qt;static joinWithSlash=Oh;static stripTrailingSlash=Sh;static \u0275fac=function(r){return new(r||e)(H(hs))};static \u0275prov=A({token:e,factory:()=>gD(),providedIn:"root"})}return e})();function gD(){return new gr(H(hs))}function mD(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Th(e){return e.replace(/\/index.html$/,"")}function vD(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Zl=/\s+/,Ph=[],Yl=(()=>{class e{_ngEl;_renderer;initialClasses=Ph;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Zl):Ph}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Zl):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Zl).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(te(Ot),te(to))};static \u0275dir=Te({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var gs=class{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Kt=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new gs(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),Fh(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);Fh(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(te(Wt),te(mn),te(zl))};static \u0275dir=Te({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function Fh(e,t){e.context.$implicit=t.item}var In=(()=>{class e{_viewContainer;_context=new ms;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Vh(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Vh(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(te(Wt),te(mn))};static \u0275dir=Te({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),ms=class{$implicit=null;ngIf=null};function Vh(e,t){if(e&&!e.createEmbeddedView)throw new T(2020,!1)}var gt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=bn({type:e});static \u0275inj=_n({})}return e})();function Ql(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var Kl="browser",Lh="server";function vs(e){return e===Lh}var oo=class{};var Cs=new N(""),nu=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(H(Cs),H(De))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),io=class{_doc;constructor(t){this._doc=t}manager},ys="ng-app-id";function jh(e){for(let t of e)t.remove()}function Bh(e,t){let n=t.createElement("style");return n.textContent=e,n}function yD(e,t,n,r){let o=e.head?.querySelectorAll(`style[${ys}="${t}"],link[${ys}="${t}"]`);if(o)for(let i of o)i.removeAttribute(ys),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function eu(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var ru=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,this.isServer=vs(i),yD(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Bh);r?.forEach(o=>this.addUsage(o,this.external,eu))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(jh(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])jh(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Bh(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,eu(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ys,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(H(Ae),H(rs),H(wl,8),H(eo))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),Jl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ou=/%COMP%/g;var $h="%COMP%",_D=`_nghost-${$h}`,CD=`_ngcontent-${$h}`,DD=!0,bD=new N("",{providedIn:"root",factory:()=>DD});function wD(e){return CD.replace(ou,e)}function ED(e){return _D.replace(ou,e)}function Uh(e,t){return t.map(n=>n.replace(ou,e))}var iu=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=vs(a),this.defaultRenderer=new so(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===pt.ShadowDom&&(r=W(I({},r),{encapsulation:pt.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof _s?o.applyToHost(n):o instanceof ao&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case pt.Emulated:i=new _s(c,l,r,this.appId,u,s,a,f,p);break;case pt.ShadowDom:return new tu(c,l,n,r,s,a,this.nonce,f,p);default:i=new ao(c,l,r,u,s,a,f,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(H(nu),H(ru),H(rs),H(bD),H(Ae),H(eo),H(De),H(wl),H(os,8))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),so=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Jl[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Hh(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Hh(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=Jl[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=Jl[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(St.DashCase|St.Important)?t.style.setProperty(n,r,o&St.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&St.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=Ke().getGlobalEventTarget(this.doc,t),!t))throw new T(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Hh(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var tu=class extends so{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,c,l){super(t,i,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=Uh(o.id,u);for(let p of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=p,this.shadowRoot.appendChild(d)}let f=o.getExternalStyles?.();if(f)for(let p of f){let d=eu(p,i);a&&d.setAttribute("nonce",a),this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ao=class extends so{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c,l){super(t,i,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=l?Uh(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},_s=class extends ao{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c,l){let u=o+"-"+r.id;super(t,n,r,i,s,a,c,l,u),this.contentAttr=wD(u),this.hostAttr=ED(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ds=class e extends ro{supportsDOMEvents=!0;static makeCurrent(){ql(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=MD();return n==null?null:ID(n)}resetBaseElement(){co=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ql(document.cookie,t)}},co=null;function MD(){return co=co||document.querySelector("base"),co?co.getAttribute("href"):null}function ID(e){return new URL(e,document.baseURI).pathname}var xD=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),Gh=(()=>{class e extends io{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(H(Ae))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),zh=["alt","control","meta","shift"],SD={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TD={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},qh=(()=>{class e extends io{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ke().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),zh.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=SD[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),zh.forEach(s=>{if(s!==o){let a=TD[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(H(Ae))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})();function su(e,t){return xh(I({rootComponent:e},ND(t)))}function ND(e){return{appProviders:[...PD,...e?.providers??[]],platformProviders:kD}}function AD(){Ds.makeCurrent()}function OD(){return new xt}function RD(){return Dp(document),document}var kD=[{provide:eo,useValue:Kl},{provide:bl,useValue:AD,multi:!0},{provide:Ae,useFactory:RD}];var PD=[{provide:Wi,useValue:"root"},{provide:xt,useFactory:OD},{provide:Cs,useClass:Gh,multi:!0,deps:[Ae]},{provide:Cs,useClass:qh,multi:!0,deps:[Ae]},iu,ru,nu,{provide:er,useExisting:iu},{provide:oo,useClass:xD},[]];var Wh=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(H(Ae))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var j="primary",wo=Symbol("RouteTitle"),du=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Tn(e){return new du(e)}function tg(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function VD(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!mt(e[n],t[n]))return!1;return!0}function mt(e,t){let n=e?fu(e):void 0,r=t?fu(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!ng(e[o],t[o]))return!1;return!0}function fu(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function ng(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function rg(e){return e.length>0?e[e.length-1]:null}function en(e){return Ha(e)?e:wn(e)?de(Promise.resolve(e)):F(e)}var LD={exact:ig,subset:sg},og={exact:jD,subset:BD,ignored:()=>!0};function Zh(e,t,n){return LD[n.paths](e.root,t.root,n.matrixParams)&&og[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function jD(e,t){return mt(e,t)}function ig(e,t,n){if(!xn(e.segments,t.segments)||!Es(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!ig(e.children[r],t.children[r],n))return!1;return!0}function BD(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>ng(e[n],t[n]))}function sg(e,t,n){return ag(e,t,t.segments,n)}function ag(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!xn(o,n)||t.hasChildren()||!Es(o,n,r))}else if(e.segments.length===n.length){if(!xn(e.segments,n)||!Es(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!sg(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!xn(e.segments,o)||!Es(e.segments,o,r)||!e.children[j]?!1:ag(e.children[j],t,i,r)}}function Es(e,t,n){return t.every((r,o)=>og[n](e[o].parameters,r.parameters))}var yt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new X([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Tn(this.queryParams),this._queryParamMap}toString(){return UD.serialize(this)}},X=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ms(this)}},Xt=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Tn(this.parameters),this._parameterMap}toString(){return lg(this)}};function HD(e,t){return xn(e,t)&&e.every((n,r)=>mt(n.parameters,t[r].parameters))}function xn(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function $D(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===j&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==j&&(n=n.concat(t(o,r)))}),n}var Eo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>new Nn,providedIn:"root"})}return e})(),Nn=class{parse(t){let n=new hu(t);return new yt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${lo(t.root,!0)}`,r=qD(t.queryParams),o=typeof t.fragment=="string"?`#${zD(t.fragment)}`:"";return`${n}${r}${o}`}},UD=new Nn;function Ms(e){return e.segments.map(t=>lg(t)).join("/")}function lo(e,t){if(!e.hasChildren())return Ms(e);if(t){let n=e.children[j]?lo(e.children[j],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==j&&r.push(`${o}:${lo(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=$D(e,(r,o)=>o===j?[lo(e.children[j],!1)]:[`${o}:${lo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[j]!=null?`${Ms(e)}/${n[0]}`:`${Ms(e)}/(${n.join("//")})`}}function cg(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bs(e){return cg(e).replace(/%3B/gi,";")}function zD(e){return encodeURI(e)}function pu(e){return cg(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Is(e){return decodeURIComponent(e)}function Yh(e){return Is(e.replace(/\+/g,"%20"))}function lg(e){return`${pu(e.path)}${GD(e.parameters)}`}function GD(e){return Object.entries(e).map(([t,n])=>`;${pu(t)}=${pu(n)}`).join("")}function qD(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${bs(n)}=${bs(o)}`).join("&"):`${bs(n)}=${bs(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var WD=/^[^\/()?;#]+/;function au(e){let t=e.match(WD);return t?t[0]:""}var ZD=/^[^\/()?;=#]+/;function YD(e){let t=e.match(ZD);return t?t[0]:""}var QD=/^[^=?&#]+/;function KD(e){let t=e.match(QD);return t?t[0]:""}var XD=/^[^&#]+/;function JD(e){let t=e.match(XD);return t?t[0]:""}var hu=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[j]=new X(t,n)),r}parseSegment(){let t=au(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(t),new Xt(Is(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=YD(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=au(this.remaining);o&&(r=o,this.capture(r))}t[Is(n)]=Is(r)}parseQueryParam(t){let n=KD(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=JD(this.remaining);s&&(r=s,this.capture(r))}let o=Yh(n),i=Yh(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=au(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new T(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=j);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[j]:new X([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new T(4011,!1)}};function ug(e){return e.segments.length>0?new X([],{[j]:e}):e}function dg(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=dg(o);if(r===j&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new X(e.segments,t);return eb(n)}function eb(e){if(e.numberOfChildren===1&&e.children[j]){let t=e.children[j];return new X(e.segments.concat(t.segments),t.children)}return e}function Cr(e){return e instanceof yt}function fg(e,t,n=null,r=null){let o=pg(e);return hg(o,t,n,r)}function pg(e){let t;function n(i){let s={};for(let c of i.children){let l=n(c);s[c.outlet]=l}let a=new X(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=ug(r);return t??o}function hg(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return cu(o,o,o,n,r);let i=tb(t);if(i.toRoot())return cu(o,o,new X([],{}),n,r);let s=nb(i,o,e),a=s.processChildren?fo(s.segmentGroup,s.index,i.commands):mg(s.segmentGroup,s.index,i.commands);return cu(o,s.segmentGroup,a,n,r)}function Ss(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ho(e){return typeof e=="object"&&e!=null&&e.outlets}function cu(e,t,n,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=gg(e,t,n);let a=ug(dg(s));return new yt(a,i,o)}function gg(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=gg(i,t,n)}),new X(e.segments,r)}var Ts=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Ss(r[0]))throw new T(4003,!1);let o=r.find(ho);if(o&&o!==rg(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tb(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ts(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Ts(n,t,r)}var yr=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function nb(e,t,n){if(e.isAbsolute)return new yr(t,!0,0);if(!n)return new yr(t,!1,NaN);if(n.parent===null)return new yr(n,!0,0);let r=Ss(e.commands[0])?0:1,o=n.segments.length-1+r;return rb(n,o,e.numberOfDoubleDots)}function rb(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new T(4005,!1);o=r.segments.length}return new yr(r,!1,o-i)}function ob(e){return ho(e[0])?e[0].outlets:{[j]:e}}function mg(e,t,n){if(e??=new X([],{}),e.segments.length===0&&e.hasChildren())return fo(e,t,n);let r=ib(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new X(e.segments.slice(0,r.pathIndex),{});return i.children[j]=new X(e.segments.slice(r.pathIndex),e.children),fo(i,0,o)}else return r.match&&o.length===0?new X(e.segments,{}):r.match&&!e.hasChildren()?gu(e,t,n):r.match?fo(e,0,o):gu(e,t,n)}function fo(e,t,n){if(n.length===0)return new X(e.segments,{});{let r=ob(n),o={};if(Object.keys(r).some(i=>i!==j)&&e.children[j]&&e.numberOfChildren===1&&e.children[j].segments.length===0){let i=fo(e.children[j],t,n);return new X(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=mg(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new X(e.segments,o)}}function ib(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(ho(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Kh(c,l,s))return i;r+=2}else{if(!Kh(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function gu(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(ho(i)){let c=sb(i.outlets);return new X(r,c)}if(o===0&&Ss(n[0])){let c=e.segments[t];r.push(new Xt(c.path,Qh(n[0]))),o++;continue}let s=ho(i)?i.outlets[j]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Ss(a)?(r.push(new Xt(s,Qh(a))),o+=2):(r.push(new Xt(s,{})),o++)}return new X(r,{})}function sb(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=gu(new X([],{}),0,r))}),t}function Qh(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Kh(e,t,n){return e==n.path&&mt(t,n.parameters)}var xs="imperative",be=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(be||{}),$e=class{id;url;constructor(t,n){this.id=t,this.url=n}},An=class extends $e{type=be.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vt=class extends $e{urlAfterRedirects;type=be.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ve=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ve||{}),go=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(go||{}),vt=class extends $e{reason;code;type=be.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Lt=class extends $e{reason;code;type=be.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},Dr=class extends $e{error;target;type=be.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},mo=class extends $e{urlAfterRedirects;state;type=be.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ns=class extends $e{urlAfterRedirects;state;type=be.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},As=class extends $e{urlAfterRedirects;state;shouldActivate;type=be.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Os=class extends $e{urlAfterRedirects;state;type=be.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rs=class extends $e{urlAfterRedirects;state;type=be.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ks=class{route;type=be.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ps=class{route;type=be.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Fs=class{snapshot;type=be.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vs=class{snapshot;type=be.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ls=class{snapshot;type=be.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},js=class{snapshot;type=be.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var vo=class{},br=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function ab(e,t){return e.providers&&!e._injector&&(e._injector=fs(e.providers,t,`Route: ${e.path}`)),e._injector??t}function st(e){return e.outlet||j}function cb(e,t){let n=e.filter(r=>st(r)===t);return n.push(...e.filter(r=>st(r)!==t)),n}function Mo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Bs=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Mo(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Mr(this.rootInjector)}},Mr=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Bs(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(H(We))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Hs=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=mu(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=mu(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=vu(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return vu(t,this._root).map(n=>n.value)}};function mu(e,t){if(e===t.value)return t;for(let n of t.children){let r=mu(e,n);if(r)return r}return null}function vu(e,t){if(e===t.value)return[t];for(let n of t.children){let r=vu(e,n);if(r.length)return r.unshift(t),r}return[]}var He=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function vr(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var yo=class extends Hs{snapshot;constructor(t,n){super(t),this.snapshot=n,Mu(this,t)}toString(){return this.snapshot.toString()}};function vg(e){let t=lb(e),n=new we([new Xt("",{})]),r=new we({}),o=new we({}),i=new we({}),s=new we(""),a=new Jt(n,r,i,s,o,j,e,t.root);return a.snapshot=t.root,new yo(new He(a,[]),t)}function lb(e){let t={},n={},r={},o="",i=new Sn([],t,r,o,n,j,e,null,{});return new _o("",new He(i,[]))}var Jt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Z(l=>l[wo]))??F(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(t=>Tn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(t=>Tn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $s(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:I(I({},t.params),e.params),data:I(I({},t.data),e.data),resolve:I(I(I(I({},e.data),t.data),o?.data),e._resolvedData)}:r={params:I({},e.params),data:I({},e.data),resolve:I(I({},e.data),e._resolvedData??{})},o&&_g(o)&&(r.resolve[wo]=o.title),r}var Sn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[wo]}constructor(t,n,r,o,i,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Tn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Tn(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},_o=class extends Hs{url;constructor(t,n){super(n),this.url=t,Mu(this,n)}toString(){return yg(this._root)}};function Mu(e,t){t.value._routerState=e,t.children.forEach(n=>Mu(e,n))}function yg(e){let t=e.children.length>0?` { ${e.children.map(yg).join(", ")} } `:"";return`${e.value}${t}`}function lu(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,mt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),mt(t.params,n.params)||e.paramsSubject.next(n.params),VD(t.url,n.url)||e.urlSubject.next(n.url),mt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function yu(e,t){let n=mt(e.params,t.params)&&HD(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||yu(e.parent,t.parent))}function _g(e){return typeof e.title=="string"||e.title===null}var Cg=new N(""),Io=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=j;activateEvents=new Y;deactivateEvents=new Y;attachEvents=new Y;detachEvents=new Y;routerOutletData=pp(void 0);parentContexts=x(Mr);location=x(Wt);changeDetector=x(Mn);inputBinder=x(qs,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new _u(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Te({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[sr]})}return e})(),_u=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===Jt?this.route:t===Mr?this.childContexts:t===Cg?this.outletData:this.parent.get(t,n)}},qs=new N("");function ub(e,t,n){let r=Co(e,t._root,n?n._root:void 0);return new yo(r,t)}function Co(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=db(e,t,n);return new He(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Co(e,a)),s}}let r=fb(t.value),o=t.children.map(i=>Co(e,i));return new He(r,o)}}function db(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Co(e,r,o);return Co(e,r)})}function fb(e){return new Jt(new we(e.url),new we(e.params),new we(e.queryParams),new we(e.fragment),new we(e.data),e.outlet,e.component,e)}var wr=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Dg="ngNavigationCancelingError";function Us(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Cr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=bg(!1,Ve.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function bg(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Dg]=!0,n.cancellationCode=t,n}function pb(e){return wg(e)&&Cr(e.url)}function wg(e){return!!e&&e[Dg]}var hb=(e,t,n,r)=>Z(o=>(new Cu(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),Cu=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),lu(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=vr(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=vr(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=vr(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=vr(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new js(i.value.snapshot))}),t.children.length&&this.forwardEvent(new Vs(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(lu(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lu(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},zs=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},_r=class{component;route;constructor(t,n){this.component=t,this.route=n}};function gb(e,t,n){let r=e._root,o=t?t._root:null;return uo(r,o,n,[r.value])}function mb(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ir(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!uf(e)?e:t.get(e):r}function uo(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=vr(t);return e.children.forEach(s=>{vb(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>po(a,n.getContext(s),o)),o}function vb(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=yb(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new zs(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?uo(e,t,a?a.children:null,r,o):uo(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new _r(a.outlet.component,s))}else s&&po(t,a,o),o.canActivateChecks.push(new zs(r)),i.component?uo(e,null,a?a.children:null,r,o):uo(e,null,n,r,o);return o}function yb(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!xn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!xn(e.url,t.url)||!mt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yu(e,t)||!mt(e.queryParams,t.queryParams);case"paramsChange":default:return!yu(e,t)}}function po(e,t,n){let r=vr(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?po(s,t.children.getContext(i),n):po(s,null,n):po(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new _r(t.outlet.component,o)):n.canDeactivateChecks.push(new _r(null,o)):n.canDeactivateChecks.push(new _r(null,o))}function xo(e){return typeof e=="function"}function _b(e){return typeof e=="boolean"}function Cb(e){return e&&xo(e.canLoad)}function Db(e){return e&&xo(e.canActivate)}function bb(e){return e&&xo(e.canActivateChild)}function wb(e){return e&&xo(e.canDeactivate)}function Eb(e){return e&&xo(e.canMatch)}function Eg(e){return e instanceof Dt||e?.name==="EmptyError"}var ws=Symbol("INITIAL_VALUE");function Er(){return et(e=>di(e.map(t=>t.pipe(bt(1),Ga(ws)))).pipe(Z(t=>{for(let n of t)if(n!==!0){if(n===ws)return ws;if(n===!1||Mb(n))return n}return!0}),Je(t=>t!==ws),bt(1)))}function Mb(e){return Cr(e)||e instanceof wr}function Ib(e,t){return Ce(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?F(W(I({},n),{guardsResult:!0})):xb(s,r,o,e).pipe(Ce(a=>a&&_b(a)?Sb(r,i,e,t):F(a)),Z(a=>W(I({},n),{guardsResult:a})))})}function xb(e,t,n,r){return de(e).pipe(Ce(o=>Rb(o.component,o.route,n,t,r)),wt(o=>o!==!0,!0))}function Sb(e,t,n,r){return de(t).pipe(Hn(o=>Bn(Nb(o.route.parent,r),Tb(o.route,r),Ob(e,o.path,n),Ab(e,o.route,n))),wt(o=>o!==!0,!0))}function Tb(e,t){return e!==null&&t&&t(new Ls(e)),F(!0)}function Nb(e,t){return e!==null&&t&&t(new Fs(e)),F(!0)}function Ab(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let o=r.map(i=>fi(()=>{let s=Mo(t)??n,a=Ir(i,s),c=Db(a)?a.canActivate(t,e):ot(s,()=>a(t,e));return en(c).pipe(wt())}));return F(o).pipe(Er())}function Ob(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>mb(s)).filter(s=>s!==null).map(s=>fi(()=>{let a=s.guards.map(c=>{let l=Mo(s.node)??n,u=Ir(c,l),f=bb(u)?u.canActivateChild(r,e):ot(l,()=>u(r,e));return en(f).pipe(wt())});return F(a).pipe(Er())}));return F(i).pipe(Er())}function Rb(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return F(!0);let s=i.map(a=>{let c=Mo(t)??o,l=Ir(a,c),u=wb(l)?l.canDeactivate(e,t,n,r):ot(c,()=>l(e,t,n,r));return en(u).pipe(wt())});return F(s).pipe(Er())}function kb(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return F(!0);let i=o.map(s=>{let a=Ir(s,e),c=Cb(a)?a.canLoad(t,n):ot(e,()=>a(t,n));return en(c)});return F(i).pipe(Er(),Mg(r))}function Mg(e){return Va(Ee(t=>{if(typeof t!="boolean")throw Us(e,t)}),Z(t=>t===!0))}function Pb(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return F(!0);let i=o.map(s=>{let a=Ir(s,e),c=Eb(a)?a.canMatch(t,n):ot(e,()=>a(t,n));return en(c)});return F(i).pipe(Er(),Mg(r))}var Do=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},bo=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function mr(e){return jn(new Do(e))}function Fb(e){return jn(new T(4e3,!1))}function Vb(e){return jn(bg(!1,Ve.GuardRejected))}var Du=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return F(r);if(o.numberOfChildren>1||!o.children[j])return Fb(`${t.redirectTo}`);o=o.children[j]}}applyRedirectCommands(t,n,r,o,i){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:f,outlet:p,params:d,data:v,title:M}=o,S=ot(i,()=>a({params:d,data:v,queryParams:c,fragment:l,routeConfig:u,url:f,outlet:p,title:M}));if(S instanceof yt)throw new bo(S);n=S}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new bo(s);return s}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new yt(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new X(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new T(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}},bu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lb(e,t,n,r,o){let i=Ig(e,t,n);return i.matched?(r=ab(t,r),Pb(r,t,n,o).pipe(Z(s=>s===!0?i:I({},bu)))):F(i)}function Ig(e,t,n){if(t.path==="**")return jb(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?I({},bu):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||tg)(n,e,t);if(!o)return I({},bu);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?I(I({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function jb(e){return{matched:!0,parameters:e.length>0?rg(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Xh(e,t,n,r){return n.length>0&&$b(e,n,r)?{segmentGroup:new X(t,Hb(r,new X(n,e.children))),slicedSegments:[]}:n.length===0&&Ub(e,n,r)?{segmentGroup:new X(e.segments,Bb(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new X(e.segments,e.children),slicedSegments:n}}function Bb(e,t,n,r){let o={};for(let i of n)if(Ws(e,t,i)&&!r[st(i)]){let s=new X([],{});o[st(i)]=s}return I(I({},r),o)}function Hb(e,t){let n={};n[j]=t;for(let r of e)if(r.path===""&&st(r)!==j){let o=new X([],{});n[st(r)]=o}return n}function $b(e,t,n){return n.some(r=>Ws(e,t,r)&&st(r)!==j)}function Ub(e,t,n){return n.some(r=>Ws(e,t,r))}function Ws(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function zb(e,t,n){return t.length===0&&!e.children[n]}var wu=class{};function Gb(e,t,n,r,o,i,s="emptyOnly"){return new Eu(e,t,n,r,o,s,i).recognize()}var qb=31,Eu=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Du(this.urlSerializer,this.urlTree)}noMatchError(t){return new T(4002,`'${t.segmentGroup}'`)}recognize(){let t=Xh(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Z(({children:n,rootSnapshot:r})=>{let o=new He(r,n),i=new _o("",o),s=fg(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let n=new Sn([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),j,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,j,n).pipe(Z(r=>({children:r,rootSnapshot:n})),Ht(r=>{if(r instanceof bo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Do?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(Z(s=>s instanceof He?[s]:[]))}processChildren(t,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return de(i).pipe(Hn(s=>{let a=r.children[s],c=cb(n,s);return this.processSegmentGroup(t,c,a,s,o)}),za((s,a)=>(s.push(...a),s)),$t(null),Ua(),Ce(s=>{if(s===null)return mr(r);let a=xg(s);return Wb(a),F(a)}))}processSegment(t,n,r,o,i,s,a){return de(n).pipe(Hn(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a).pipe(Ht(l=>{if(l instanceof Do)return F(null);throw l}))),wt(c=>!!c),Ht(c=>{if(Eg(c))return zb(r,o,i)?F(new wu):mr(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,c){return st(r)!==s&&(s===j||!Ws(o,i,r))?mr(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c):mr(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:f,remainingSegments:p}=Ig(n,o,i);if(!c)return mr(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qb&&(this.allowRedirects=!1));let d=new Sn(i,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Jh(o),st(o),o.component??o._loadedComponent??null,o,eg(o)),v=$s(d,a,this.paramsInheritanceStrategy);d.params=Object.freeze(v.params),d.data=Object.freeze(v.data);let M=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,f,d,t);return this.applyRedirects.lineralizeSegments(o,M).pipe(Ce(S=>this.processSegment(t,r,n,S.concat(p),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){let a=Lb(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(et(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(et(({routes:l})=>{let u=r._loadedInjector??t,{parameters:f,consumedSegments:p,remainingSegments:d}=c,v=new Sn(p,f,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Jh(r),st(r),r.component??r._loadedComponent??null,r,eg(r)),M=$s(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(M.params),v.data=Object.freeze(M.data);let{segmentGroup:S,slicedSegments:b}=Xh(n,p,d,l);if(b.length===0&&S.hasChildren())return this.processChildren(u,l,S,v).pipe(Z(R=>new He(v,R)));if(l.length===0&&b.length===0)return F(new He(v,[]));let O=st(r)===i;return this.processSegment(u,l,S,b,O?j:i,!0,v).pipe(Z(R=>new He(v,R instanceof He?[R]:[])))}))):mr(n)))}getChildConfig(t,n,r){return n.children?F({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?F({routes:n._loadedRoutes,injector:n._loadedInjector}):kb(t,n,r,this.urlSerializer).pipe(Ce(o=>o?this.configLoader.loadChildren(t,n).pipe(Ee(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):Vb(n))):F({routes:[],injector:t})}};function Wb(e){e.sort((t,n)=>t.value.outlet===j?-1:n.value.outlet===j?1:t.value.outlet.localeCompare(n.value.outlet))}function Zb(e){let t=e.value.routeConfig;return t&&t.path===""}function xg(e){let t=[],n=new Set;for(let r of e){if(!Zb(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=xg(r.children);t.push(new He(r.value,o))}return t.filter(r=>!n.has(r))}function Jh(e){return e.data||{}}function eg(e){return e.resolve||{}}function Yb(e,t,n,r,o,i){return Ce(s=>Gb(e,t,n,r,s.extractedUrl,o,i).pipe(Z(({state:a,tree:c})=>W(I({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Qb(e,t){return Ce(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return F(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of Sg(c))s.add(l);let a=0;return de(s).pipe(Hn(c=>i.has(c)?Kb(c,r,e,t):(c.data=$s(c,c.parent,e).resolve,F(void 0))),Ee(()=>a++),$n(1),Ce(c=>a===s.size?F(n):Re))})}function Sg(e){let t=e.children.map(n=>Sg(n)).flat();return[e,...t]}function Kb(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!_g(o)&&(i[wo]=o.title),Xb(i,e,t,r).pipe(Z(s=>(e._resolvedData=s,e.data=$s(e,e.parent,n).resolve,null)))}function Xb(e,t,n,r){let o=fu(e);if(o.length===0)return F({});let i={};return de(o).pipe(Ce(s=>Jb(e[s],t,n,r).pipe(wt(),Ee(a=>{if(a instanceof wr)throw Us(new Nn,a);i[s]=a}))),$n(1),Z(()=>i),Ht(s=>Eg(s)?Re:jn(s)))}function Jb(e,t,n,r){let o=Mo(t)??r,i=Ir(e,o),s=i.resolve?i.resolve(t,n):ot(o,()=>i(t,n));return en(s)}function uu(e){return et(t=>{let n=e(t);return n?de(n).pipe(Z(()=>t)):F(t)})}var Iu=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===j);return r}getResolvedTitleForRoute(n){return n.data[wo]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>x(Tg),providedIn:"root"})}return e})(),Tg=(()=>{class e extends Iu{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(H(Wh))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),So=new N("",{providedIn:"root",factory:()=>({})}),xu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Se({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&he(0,"router-outlet")},dependencies:[Io],encapsulation:2})}return e})();function Su(e){let t=e.children&&e.children.map(Su),n=t?W(I({},e),{children:t}):I({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=xu),n}var To=new N(""),Ng=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(wh);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return F(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=en(n.loadComponent()).pipe(Z(Og),Ee(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),jr(()=>{this.componentLoaders.delete(n)})),o=new Ln(r,()=>new me).pipe(Vn());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ag(r,this.compiler,n,this.onLoadEndListener).pipe(jr(()=>{this.childrenLoaders.delete(r)})),s=new Ln(i,()=>new me).pipe(Vn());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ag(e,t,n,r){return en(e.loadChildren()).pipe(Z(Og),Ce(o=>o instanceof Bl||Array.isArray(o)?F(o):de(t.compileModuleAsync(o))),Z(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(To,[],{optional:!0,self:!0}).flat()),{routes:s.map(Su),injector:i}}))}function ew(e){return e&&typeof e=="object"&&"default"in e}function Og(e){return ew(e)?e.default:e}var Zs=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>x(tw),providedIn:"root"})}return e})(),tw=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Rg=new N("");var kg=new N(""),Pg=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new me;transitionAbortSubject=new me;configLoader=x(Ng);environmentInjector=x(We);destroyRef=x(ts);urlSerializer=x(Eo);rootContexts=x(Mr);location=x(gr);inputBindingEnabled=x(qs,{optional:!0})!==null;titleStrategy=x(Iu);options=x(So,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Zs);createViewTransition=x(Rg,{optional:!0});navigationErrorHandler=x(kg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>F(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new ks(o)),r=o=>this.events.next(new Ps(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(W(I({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new we(null),this.transitions.pipe(Je(r=>r!==null),et(r=>{let o=!1,i=!1;return F(r).pipe(et(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ve.SupersededByNewNavigation),Re;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?W(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Lt(s.id,this.urlSerializer.serialize(s.rawUrl),l,go.IgnoredSameUrlNavigation)),s.resolve(!1),Re}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return F(s).pipe(et(l=>(this.events.next(new An(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Re:Promise.resolve(l))),Yb(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ee(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=W(I({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new mo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:f,restoredState:p,extras:d}=s,v=new An(l,this.urlSerializer.serialize(u),f,p);this.events.next(v);let M=vg(this.rootComponentType).snapshot;return this.currentTransition=r=W(I({},s),{targetSnapshot:M,urlAfterRedirects:u,extras:W(I({},d),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,F(r)}else{let l="";return this.events.next(new Lt(s.id,this.urlSerializer.serialize(s.extractedUrl),l,go.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Re}}),Ee(s=>{let a=new Ns(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Z(s=>(this.currentTransition=r=W(I({},s),{guards:gb(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Ib(this.environmentInjector,s=>this.events.next(s)),Ee(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Us(this.urlSerializer,s.guardsResult);let a=new As(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Je(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ve.GuardRejected),!1)),uu(s=>{if(s.guards.canActivateChecks.length!==0)return F(s).pipe(Ee(a=>{let c=new Os(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),et(a=>{let c=!1;return F(a).pipe(Qb(this.paramsInheritanceStrategy,this.environmentInjector),Ee({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Ve.NoDataFromResolver)}}))}),Ee(a=>{let c=new Rs(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),uu(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ee(u=>{c.component=u}),Z(()=>{})));for(let u of c.children)l.push(...a(u));return l};return di(a(s.targetSnapshot.root)).pipe($t(null),bt(1))}),uu(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?de(c).pipe(Z(()=>r)):F(r)}),Z(s=>{let a=ub(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=W(I({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ee(()=>{this.events.next(new vo)}),hb(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),bt(1),Ee({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),qa(this.transitionAbortSubject.pipe(Ee(s=>{throw s}))),jr(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",Ve.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ht(s=>{if(this.destroyed)return r.resolve(!1),Re;if(i=!0,wg(s))this.events.next(new vt(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),pb(s)?this.events.next(new br(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Dr(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=ot(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof wr){let{message:l,cancellationCode:u}=Us(this.urlSerializer,c);this.events.next(new vt(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new br(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Re}))}))}cancelNavigationTransition(n,r,o){let i=new vt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nw(e){return e!==xs}var Fg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>x(rw),providedIn:"root"})}return e})(),Gs=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},rw=(()=>{class e extends Gs{static \u0275fac=(()=>{let n;return function(o){return(n||(n=qt(e)))(o||e)}})();static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vg=(()=>{class e{urlSerializer=x(Eo);options=x(So,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(gr);urlHandlingStrategy=x(Zs);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof yt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=vg(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>x(ow),providedIn:"root"})}return e})(),ow=(()=>{class e extends Vg{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof An?this.updateStateMemento():n instanceof Lt?this.commitTransition(r):n instanceof mo?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof vo?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof vt&&(n.code===Ve.GuardRejected||n.code===Ve.NoDataFromResolver)?this.restoreHistory(r):n instanceof Dr?this.restoreHistory(r,!0):n instanceof Vt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=I(I({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=I(I({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=qt(e)))(o||e)}})();static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Tu(e,t){e.events.pipe(Je(n=>n instanceof Vt||n instanceof vt||n instanceof Dr||n instanceof Lt),Z(n=>n instanceof Vt||n instanceof Lt?0:(n instanceof vt?n.code===Ve.Redirect||n.code===Ve.SupersededByNewNavigation:!1)?2:1),Je(n=>n!==2),bt(1)).subscribe(()=>{t()})}var iw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ys=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(uh);stateManager=x(Vg);options=x(So,{optional:!0})||{};pendingTasks=x(ar);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(Pg);urlSerializer=x(Eo);location=x(gr);urlHandlingStrategy=x(Zs);_events=new me;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(Fg);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(To,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(qs,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ge;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof vt&&r.code!==Ve.Redirect&&r.code!==Ve.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Vt)this.navigated=!0;else if(r instanceof br){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=I({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||nw(o.source)},s);this.scheduleNavigation(a,xs,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}cw(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=I({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Su),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=I(I({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let p=o?o.snapshot:this.routerState.snapshot.root;f=pg(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return hg(f,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Cr(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,xs,null,r)}navigate(n,r={skipLocationChange:!1}){return aw(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=I({},iw):r===!1?o=I({},sw):o=r,Cr(n))return Zh(this.currentUrlTree,n,o);let i=this.parseUrl(n);return Zh(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,p)=>{a=f,c=p});let u=this.pendingTasks.add();return Tu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function aw(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new T(4008,!1)}function cw(e){return!(e instanceof vo)&&!(e instanceof br)}var uw=new N("");function Nu(e,...t){return rl([{provide:To,multi:!0,useValue:e},[],{provide:Jt,useFactory:dw,deps:[Ys]},{provide:Hl,multi:!0,useFactory:fw},t.map(n=>n.\u0275providers)])}function dw(e){return e.routerState.root}function fw(){let e=x(It);return t=>{let n=e.get(vn);if(t!==n.components[0])return;let r=e.get(Ys),o=e.get(pw);e.get(hw)===1&&r.initialNavigation(),e.get(gw,null,B.Optional)?.setUpPreloading(),e.get(uw,null,B.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var pw=new N("",{factory:()=>new me}),hw=new N("",{providedIn:"root",factory:()=>1});var gw=new N("");var vw=["fileInput"],Qs=class e{node;imageLoaded=new Y;imageLoadError=!1;fileInput;constructor(){}triggerFileInput(){this.fileInput.nativeElement.click()}onFileSelected(t){this.imageLoadError=!1;let n=t.target;if(n.files&&n.files[0]){let r=n.files[0];if(!r.type.startsWith("image/")){this.imageLoadError=!0,this.imageLoaded.emit(null),console.error("Selected file is not an image."),n.value="";return}let o=new FileReader;o.onload=i=>{this.imageLoaded.emit(i.target?.result||null)},o.onerror=i=>{this.imageLoadError=!0,this.imageLoaded.emit(null),console.error("Error reading file:",i),n.value=""},o.readAsDataURL(r)}else this.imageLoaded.emit(null),this.imageLoadError=!1}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Se({type:e,selectors:[["app-image-loader"]],viewQuery:function(n,r){if(n&1&&dr(vw,5),n&2){let o;fr(o=pr())&&(r.fileInput=o.first)}},inputs:{node:"node"},outputs:{imageLoaded:"imageLoaded"},decls:4,vars:0,consts:[["fileInput",""],["type","file","accept","image/*",1,"hidden-file-input",3,"change"],[1,"image-load-button",3,"click"]],template:function(n,r){if(n&1){let o=q();h(0,"input",1,0),D("change",function(s){return w(o),E(r.onFileSelected(s))}),m(),h(2,"button",2),D("click",function(){return w(o),E(r.triggerFileInput())}),_(3,"Load Image"),m()}},styles:[".hidden-file-input[_ngcontent-%COMP%]{display:none}.image-load-button[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff;border:none;border-radius:4px;padding:5px 8px;font-size:.7em;cursor:pointer;margin-top:5px;transition:background-color .2s ease;flex-shrink:0}.image-load-button[_ngcontent-%COMP%]:hover{background-color:#42a5f5}"]})};var qg=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(te(to),te(Ot))};static \u0275dir=Te({type:e})}return e})(),Pu=(()=>{class e extends qg{static \u0275fac=(()=>{let n;return function(o){return(n||(n=qt(e)))(o||e)}})();static \u0275dir=Te({type:e,features:[kt]})}return e})(),ta=new N("");var yw={provide:ta,useExisting:Gt(()=>_t),multi:!0};function _w(){let e=Ke()?Ke().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Cw=new N(""),_t=(()=>{class e extends qg{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!_w())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(te(to),te(Ot),te(Cw,8))};static \u0275dir=Te({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&D("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[hr([yw]),kt]})}return e})();var Wg=new N(""),Dw=new N("");function bw(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function Lg(e){return null}function Zg(e){return e!=null}function Yg(e){return wn(e)?de(e):e}function Qg(e){let t={};return e.forEach(n=>{t=n!=null?I(I({},t),n):t}),Object.keys(t).length===0?null:t}function Kg(e,t){return t.map(n=>n(e))}function ww(e){return!e.validate}function Xg(e){return e.map(t=>ww(t)?t:n=>t.validate(n))}function Ew(e){if(!e)return null;let t=e.filter(Zg);return t.length==0?null:function(n){return Qg(Kg(n,t))}}function Jg(e){return e!=null?Ew(Xg(e)):null}function Mw(e){if(!e)return null;let t=e.filter(Zg);return t.length==0?null:function(n){let r=Kg(n,t).map(Yg);return $a(r).pipe(Z(Qg))}}function em(e){return e!=null?Mw(Xg(e)):null}function jg(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Iw(e){return e._rawValidators}function xw(e){return e._rawAsyncValidators}function Au(e){return e?Array.isArray(e)?e:[e]:[]}function Xs(e,t){return Array.isArray(e)?e.includes(t):e===t}function Bg(e,t){let n=Au(t);return Au(e).forEach(o=>{Xs(n,o)||n.push(o)}),n}function Hg(e,t){return Au(t).filter(n=>!Xs(e,n))}var Js=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Jg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=em(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Ou=class extends Js{name;get formDirective(){return null}get path(){return null}},ko=class extends Js{_parent=null;name=null;valueAccessor=null},Ru=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Sw={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},mk=W(I({},Sw),{"[class.ng-submitted]":"isSubmitted"}),tn=(()=>{class e extends Ru{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(te(ko,2))};static \u0275dir=Te({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&se("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[kt]})}return e})();var No="VALID",Ks="INVALID",Sr="PENDING",Ao="DISABLED",Nr=class{},ea=class extends Nr{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Oo=class extends Nr{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Ro=class extends Nr{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Tr=class extends Nr{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function Tw(e){return(na(e)?e.validators:e)||null}function Nw(e){return Array.isArray(e)?Jg(e):e||null}function Aw(e,t){return(na(t)?t.asyncValidators:e)||null}function Ow(e){return Array.isArray(e)?em(e):e||null}function na(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var ku=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Yt(this.statusReactive)}set status(t){Yt(()=>this.statusReactive.set(t))}_status=ps(()=>this.statusReactive());statusReactive=ns(void 0);get valid(){return this.status===No}get invalid(){return this.status===Ks}get pending(){return this.status==Sr}get disabled(){return this.status===Ao}get enabled(){return this.status!==Ao}errors;get pristine(){return Yt(this.pristineReactive)}set pristine(t){Yt(()=>this.pristineReactive.set(t))}_pristine=ps(()=>this.pristineReactive());pristineReactive=ns(!0);get dirty(){return!this.pristine}get touched(){return Yt(this.touchedReactive)}set touched(t){Yt(()=>this.touchedReactive.set(t))}_touched=ps(()=>this.touchedReactive());touchedReactive=ns(!1);get untouched(){return!this.touched}_events=new me;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Bg(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Bg(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Hg(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Hg(t,this._rawAsyncValidators))}hasValidator(t){return Xs(this._rawValidators,t)}hasAsyncValidator(t){return Xs(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(W(I({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ro(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ro(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(W(I({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Oo(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Oo(!0,r))}markAsPending(t={}){this.status=Sr;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Tr(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(W(I({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ao,this.errors=null,this._forEachChild(o=>{o.disable(W(I({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ea(this.value,r)),this._events.next(new Tr(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(I({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=No,this._forEachChild(r=>{r.enable(W(I({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(W(I({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===No||this.status===Sr)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ea(this.value,n)),this._events.next(new Tr(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(W(I({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ao:No}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Sr,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Yg(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Tr(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Y,this.statusChanges=new Y}_calculateStatus(){return this._allControlsDisabled()?Ao:this.errors?Ks:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sr)?Sr:this._anyControlsHaveStatus(Ks)?Ks:No}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new Oo(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ro(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){na(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Nw(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Ow(this._rawAsyncValidators)}};var tm=new N("",{providedIn:"root",factory:()=>Fu}),Fu="always";function Rw(e,t){return[...t.path,e]}function kw(e,t,n=Fu){Fw(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Vw(e,t),jw(e,t),Lw(e,t),Pw(e,t)}function $g(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Pw(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Fw(e,t){let n=Iw(e);t.validator!==null?e.setValidators(jg(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=xw(e);t.asyncValidator!==null?e.setAsyncValidators(jg(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();$g(t._rawValidators,o),$g(t._rawAsyncValidators,o)}function Vw(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&nm(e,t)})}function Lw(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&nm(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function nm(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function jw(e,t){let n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function Bw(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function Hw(e){return Object.getPrototypeOf(e.constructor)===Pu}function $w(e,t){if(!t)return null;Array.isArray(t);let n,r,o;return t.forEach(i=>{i.constructor===_t?n=i:Hw(i)?r=i:o=i}),o||r||n||null}function Ug(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function zg(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Uw=class extends ku{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(Tw(n),Aw(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),na(n)&&(n.nonNullable||n.initialValueIsDefault)&&(zg(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ug(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ug(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){zg(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var zw={provide:ko,useExisting:Gt(()=>jt)},Gg=Promise.resolve(),jt=(()=>{class e extends ko{_changeDetectorRef;callSetDisabledState;control=new Uw;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Y;constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=$w(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Bw(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){kw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Gg.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Gl(r);Gg.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Rw(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(te(Ou,9),te(Wg,10),te(Dw,10),te(ta,10),te(Mn,8),te(tm,8))};static \u0275dir=Te({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[hr([zw]),kt,sr]})}return e})();var Gw={provide:ta,useExisting:Gt(()=>Po),multi:!0},Po=(()=>{class e extends Pu{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=qt(e)))(o||e)}})();static \u0275dir=Te({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&D("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[hr([Gw]),kt]})}return e})();var qw={provide:ta,useExisting:Gt(()=>Fo),multi:!0},Fo=(()=>{class e extends Pu{writeValue(n){this.setProperty("value",parseFloat(n))}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=qt(e)))(o||e)}})();static \u0275dir=Te({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,o){r&1&&D("change",function(s){return o.onChange(s.target.value)})("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[hr([qw]),kt]})}return e})();function Ww(e){return typeof e=="number"?e:parseFloat(e)}var Zw=(()=>{class e{_validator=Lg;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Lg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Te({type:e,features:[sr]})}return e})();var Yw={provide:Wg,useExisting:Gt(()=>Vu),multi:!0},Vu=(()=>{class e extends Zw{min;inputName="min";normalizeInput=n=>Ww(n);createValidator=n=>bw(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=qt(e)))(o||e)}})();static \u0275dir=Te({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&no("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[hr([Yw]),kt]})}return e})();var Qw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=bn({type:e});static \u0275inj=_n({})}return e})();var nn=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:tm,useValue:n.callSetDisabledState??Fu}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=bn({type:e});static \u0275inj=_n({imports:[Qw]})}return e})();function Kw(e,t){if(e&1){let n=q();h(0,"div",10)(1,"img",11),D("error",function(){w(n);let o=g(2);return E(o.onImageError())}),m()()}if(e&2){let n=g(2);y(),C("src",n.node.imageSrc,xe)}}function Xw(e,t){if(e&1&&(h(0,"div",12),he(1,"img",13)(2,"img",14),m()),e&2){let n=g(2);y(),C("src",n.node.imageSrc,xe),y(),ur("opacity",(n.node.differenceSliderValue||0)/100),C("src",n.node.imageSrcB,xe)}}function Jw(e,t){e&1&&(h(0,"span"),_(1,"Error loading image."),m())}function eE(e,t){e&1&&(h(0,"span"),_(1,"No image to display."),m())}function tE(e,t){if(e&1&&(h(0,"div",15),ee(1,Jw,2,0,"span",16)(2,eE,2,0,"span",16),m()),e&2){let n=g(2);y(),C("ngIf",n.imageLoadError),y(),C("ngIf",!n.imageLoadError)}}function nE(e,t){if(e&1){let n=q();h(0,"div",17)(1,"button",18),D("click",function(){w(n);let o=g(2);return E(o.changeOperation("add"))}),_(2,"A + B"),m(),h(3,"button",18),D("click",function(){w(n);let o=g(2);return E(o.changeOperation("average"))}),_(4,"(A + B) / 2"),m(),h(5,"button",18),D("click",function(){w(n);let o=g(2);return E(o.changeOperation("root"))}),_(6,"SQRT(A\xB2+B\xB2)"),m()()}if(e&2){let n=g(2);y(),se("active",n.node.addOperationMode==="add"),y(2),se("active",n.node.addOperationMode==="average"),y(2),se("active",n.node.addOperationMode==="root")}}function rE(e,t){if(e&1){let n=q();h(0,"div",19)(1,"div",20)(2,"label"),_(3,"0"),m(),h(4,"input",21),D("ngModelChange",function(o){w(n);let i=g(2);return E(i.thresholdChanged.emit(o))}),m(),h(5,"label"),_(6),m()(),h(7,"button",22),D("click",function(){w(n);let o=g(2);return E(o.applyOtsu.emit())}),_(8,"Apply Otsu"),m()()}if(e&2){let n=g(2);y(4),C("ngModel",n.node.threshold),y(2),Qe(n.node.threshold)}}function oE(e,t){if(e&1){let n=q();h(0,"div",20)(1,"label"),_(2,"Image A"),m(),h(3,"input",23),D("ngModelChange",function(o){w(n);let i=g(2);return E(i.differenceSliderChanged.emit(o))}),m(),h(4,"label"),_(5,"Image B"),m()()}if(e&2){let n=g(2);y(3),C("ngModel",n.node.differenceSliderValue)}}function iE(e,t){if(e&1){let n=q();h(0,"div",17)(1,"button",18),D("click",function(){w(n);let o=g(2);return E(o.changeNoiseReduction("min"))}),_(2,"Min Filter"),m(),h(3,"button",18),D("click",function(){w(n);let o=g(2);return E(o.changeNoiseReduction("median"))}),_(4,"Median Filter"),m(),h(5,"button",18),D("click",function(){w(n);let o=g(2);return E(o.changeNoiseReduction("max"))}),_(6,"Max Filter"),m()()}if(e&2){let n=g(2);y(),se("active",n.node.noiseReductionMode==="min"),y(2),se("active",n.node.noiseReductionMode==="median"),y(2),se("active",n.node.noiseReductionMode==="max")}}function sE(e,t){if(e&1){let n=q();h(0,"div",2),D("click",function(o){return w(n),E(o.stopPropagation())}),h(1,"h3"),_(2),m(),ee(3,Kw,2,1,"div",3)(4,Xw,3,4,"div",4)(5,tE,3,2,"div",5)(6,nE,7,6,"div",6)(7,rE,9,2,"div",7)(8,oE,6,1,"div",8)(9,iE,7,6,"div",6),h(10,"button",9),D("click",function(){w(n);let o=g();return E(o.onCloseButtonClick())}),_(11,"Close"),m()()}if(e&2){let n=g();y(2),Qe(n.getModalTitle()),y(),C("ngIf",n.node.type!=="editor-difference"&&!n.imageLoadError&&n.node.imageSrc),y(),C("ngIf",n.node.type==="editor-difference"&&n.node.imageSrc&&n.node.imageSrcB),y(),C("ngIf",n.imageLoadError||n.node.type!=="editor-difference"&&!n.node.imageSrc||n.node.type==="editor-difference"&&(!n.node.imageSrc||!n.node.imageSrcB)),y(),C("ngIf",n.node.type==="editor-add"),y(),C("ngIf",n.node.type==="editor-threshold"),y(),C("ngIf",n.node.type==="editor-difference"),y(),C("ngIf",n.node.type==="editor-noise-reduction")}}var oa=class e{node=null;closeModal=new Y;operationChanged=new Y;noiseReductionChanged=new Y;differenceSliderChanged=new Y;thresholdChanged=new Y;applyOtsu=new Y;imageLoadError=!1;constructor(){}getModalTitle(){if(!this.node)return"Image Viewer";switch(this.node.type){case"editor-add":return"Add Operation Viewer";case"editor-difference":return"Difference Viewer";case"editor-threshold":return"Threshold Viewer";case"editor-noise-reduction":return"Noise Reduction Viewer";default:return"Image Viewer"}}onImageError(){this.imageLoadError=!0,console.error("Failed to load image in modal.")}onOverlayClick(t){t.target===t.currentTarget&&this.closeModal.emit()}onCloseButtonClick(){this.closeModal.emit()}changeOperation(t){this.operationChanged.emit(t)}changeNoiseReduction(t){this.noiseReductionChanged.emit(t)}onSliderChange(t){let n=t.target.value;this.differenceSliderChanged.emit(Number(n))}onThresholdSliderChange(t){let n=t.target.value;this.thresholdChanged.emit(Number(n))}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Se({type:e,selectors:[["app-image-modal"]],inputs:{node:"node"},outputs:{closeModal:"closeModal",operationChanged:"operationChanged",noiseReductionChanged:"noiseReductionChanged",differenceSliderChanged:"differenceSliderChanged",thresholdChanged:"thresholdChanged",applyOtsu:"applyOtsu"},decls:2,vars:1,consts:[[1,"modal-overlay",3,"click"],["class","modal-content",3,"click",4,"ngIf"],[1,"modal-content",3,"click"],["class","modal-image-container",4,"ngIf"],["class","modal-difference-container",4,"ngIf"],["class","modal-image-placeholder",4,"ngIf"],["class","modal-op-buttons",4,"ngIf"],["class","modal-controls-wrapper",4,"ngIf"],["class","modal-slider-container",4,"ngIf"],[1,"modal-close-button",3,"click"],[1,"modal-image-container"],["alt","Displayed Image",1,"modal-image",3,"error","src"],[1,"modal-difference-container"],["alt","Image A",1,"difference-image-bottom",3,"src"],["alt","Image B",1,"difference-image-top",3,"src"],[1,"modal-image-placeholder"],[4,"ngIf"],[1,"modal-op-buttons"],[3,"click"],[1,"modal-controls-wrapper"],[1,"modal-slider-container"],["type","range","min","0","max","255",1,"threshold-slider",3,"ngModelChange","ngModel"],[1,"modal-action-button",3,"click"],["type","range","min","0","max","100",1,"difference-slider",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&(h(0,"div",0),D("click",function(i){return r.onOverlayClick(i)}),ee(1,sE,12,8,"div",1),m()),n&2&&(y(),C("ngIf",r.node))},dependencies:[gt,In,nn,_t,Fo,tn,jt],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 5px 15px #00000080;width:90%;max-width:800px;height:90%;max-height:80vh;display:flex;flex-direction:column;align-items:center;justify-content:space-between;position:relative;color:#333;font-size:1em}h3[_ngcontent-%COMP%]{margin-top:0;color:#64447a;font-size:1.5em;margin-bottom:15px;flex-shrink:0}.modal-image-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;flex-grow:1;display:flex;align-items:center;justify-content:center;min-height:0}.modal-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;display:block}.modal-difference-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;flex-grow:1;display:flex;align-items:center;justify-content:center;min-height:0}.modal-difference-container[_ngcontent-%COMP%]   .difference-image-bottom[_ngcontent-%COMP%], .modal-difference-container[_ngcontent-%COMP%]   .difference-image-top[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);max-width:100%;max-height:100%;object-fit:contain}.modal-image-placeholder[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-grow:1;width:100%;height:100%;color:#777;font-size:1.2em;text-align:center;background-color:#f5f5f5;border-radius:5px}.modal-op-buttons[_ngcontent-%COMP%], .modal-slider-container[_ngcontent-%COMP%], .modal-controls-wrapper[_ngcontent-%COMP%]{display:flex;gap:10px;margin:20px 0;flex-shrink:0;width:80%;justify-content:center;align-items:center}.modal-controls-wrapper[_ngcontent-%COMP%]{flex-direction:column}.modal-op-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-action-button[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #ccc;background-color:#f0f0f0;cursor:pointer;border-radius:4px;transition:all .2s;font-size:.9em}.modal-op-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .modal-action-button[_ngcontent-%COMP%]:hover{border-color:#888}.modal-op-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .modal-action-button.active[_ngcontent-%COMP%]{background-color:#ffc107;border-color:#e0a800;color:#333;font-weight:700}.modal-slider-container[_ngcontent-%COMP%]{width:100%}.modal-slider-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9em;color:#555}.modal-slider-container[_ngcontent-%COMP%]   .difference-slider[_ngcontent-%COMP%], .modal-slider-container[_ngcontent-%COMP%]   .threshold-slider[_ngcontent-%COMP%]{flex-grow:1}.modal-close-button[_ngcontent-%COMP%]{background-color:#64447a;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer;transition:background-color .3s ease;font-size:1em;flex-shrink:0}.modal-close-button[_ngcontent-%COMP%]:hover{background-color:#7a5a92}"]})};function aE(e,t){if(e&1){let n=q();h(0,"div",14)(1,"input",15),Ft("ngModelChange",function(o){let i=w(n).index,s=g().index,a=g();return Zt(a.currentMatrix[s][i],o)||(a.currentMatrix[s][i]=o),E(o)}),m()()}if(e&2){let n=t.index,r=g().index,o=g();y(),Pt("ngModel",o.currentMatrix[r][n])}}function cE(e,t){if(e&1&&(h(0,"div",12),ee(1,aE,2,1,"div",13),m()),e&2){let n=t.$implicit,r=g();y(),C("ngForOf",n)("ngForTrackBy",r.trackByIndex)}}var ia=class e{initialMatrix;initialMatrixSize;initialDivisor;closeModal=new Y;saveMatrix=new Y;currentMatrix=[];matrixSize;currentDivisor;ngOnInit(){this.matrixSize=this.initialMatrixSize,this.currentDivisor=this.initialDivisor,this.currentMatrix=this.initialMatrix.map(t=>[...t])}setMatrixSize(t){this.matrixSize!==t&&(this.matrixSize=t,this.currentMatrix=this.createAllZerosMatrix(t),this.currentDivisor=1)}createAllZerosMatrix(t){return Array(t).fill(0).map(()=>Array(t).fill(0))}onSave(){let t=this.currentMatrix.map(n=>n.map(r=>Number(r)||0));this.saveMatrix.emit({matrix:t,size:this.matrixSize,divisor:Number(this.currentDivisor)||1}),this.closeModal.emit()}onCancel(){this.closeModal.emit()}onContentClick(t){t.stopPropagation()}trackByIndex(t,n){return t}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Se({type:e,selectors:[["app-convolution-modal"]],inputs:{initialMatrix:"initialMatrix",initialMatrixSize:"initialMatrixSize",initialDivisor:"initialDivisor"},outputs:{closeModal:"closeModal",saveMatrix:"saveMatrix"},decls:22,vars:11,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"matrix-controls"],[3,"click"],[1,"divisor-control"],["for","divisorInput"],["id","divisorInput","type","number",3,"ngModelChange","ngModel"],[1,"matrix-grid-container"],["class","matrix-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"modal-actions"],[1,"cancel-btn",3,"click"],[1,"save-btn",3,"click"],[1,"matrix-row"],["class","matrix-cell",4,"ngFor","ngForOf","ngForTrackBy"],[1,"matrix-cell"],["type","number",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&(h(0,"div",0),D("click",function(){return r.onCancel()}),h(1,"div",1),D("click",function(i){return r.onContentClick(i)}),h(2,"h3"),_(3,"Edit Convolution Matrix"),m(),h(4,"div",2)(5,"span"),_(6,"Matrix Size:"),m(),h(7,"button",3),D("click",function(){return r.setMatrixSize(3)}),_(8,"3 x 3"),m(),h(9,"button",3),D("click",function(){return r.setMatrixSize(5)}),_(10,"5 x 5"),m()(),h(11,"div",4)(12,"label",5),_(13,"Divisor:"),m(),h(14,"input",6),Ft("ngModelChange",function(i){return Zt(r.currentDivisor,i)||(r.currentDivisor=i),i}),m()(),h(15,"div",7),ee(16,cE,2,2,"div",8),m(),h(17,"div",9)(18,"button",10),D("click",function(){return r.onCancel()}),_(19,"Cancel"),m(),h(20,"button",11),D("click",function(){return r.onSave()}),_(21,"Save and Apply"),m()()()()),n&2&&(y(7),se("active",r.matrixSize===3),y(2),se("active",r.matrixSize===5),y(5),Pt("ngModel",r.currentDivisor),y(),se("size-3",r.matrixSize===3)("size-5",r.matrixSize===5),y(),C("ngForOf",r.currentMatrix)("ngForTrackBy",r.trackByIndex))},dependencies:[gt,Kt,nn,_t,Po,tn,jt],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:25px;border-radius:8px;box-shadow:0 5px 20px #0006;width:auto;max-width:90vw;display:flex;flex-direction:column;gap:20px}h3[_ngcontent-%COMP%]{margin:0;text-align:center;color:#333}.matrix-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.matrix-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #ccc;background-color:#f0f0f0;cursor:pointer;border-radius:4px;transition:background-color .2s,border-color .2s}.matrix-controls[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#64447a;color:#fff;border-color:#64447a}.matrix-grid-container[_ngcontent-%COMP%]{display:grid;gap:5px}.matrix-grid-container.size-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.matrix-grid-container.size-5[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr)}.matrix-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50px;height:50px;text-align:center;font-size:1.1em;border:1px solid #ddd;border-radius:4px}.matrix-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button, .matrix-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;margin-top:10px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;font-size:1em;cursor:pointer;transition:background-color .2s}.modal-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#333}.modal-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.modal-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}"]})};function lE(e,t){if(e&1&&(h(0,"li"),_(1),m()),e&2){let n=t.$implicit;y(),Qe(n)}}function uE(e,t){if(e&1&&(h(0,"ul"),ee(1,lE,2,1,"li",11),m()),e&2){let n=g().$implicit;y(),C("ngForOf",n.substeps)}}function dE(e,t){if(e&1&&(h(0,"div",9)(1,"h4"),_(2),m(),h(3,"p"),_(4),m(),ee(5,uE,2,1,"ul",10),m()),e&2){let n=t.$implicit,r=t.index;y(2),$l("Step ",r+1,": ",n.title,""),y(2),Qe(n.description),y(),C("ngIf",n.substeps.length>0)}}function fE(e,t){if(e&1&&(h(0,"div",7),ee(1,dE,6,4,"div",8),m()),e&2){let n=g();y(),C("ngForOf",n.steps)}}function pE(e,t){e&1&&(h(0,"div",12)(1,"span"),_(2,"No processing steps to display for this node."),m()())}var sa=class e{steps=[];nodeTitle="Processing Steps";closeModal=new Y;onOverlayClick(t){t.target===t.currentTarget&&this.closeModal.emit()}onCloseButtonClick(){this.closeModal.emit()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Se({type:e,selectors:[["app-pseudocode-modal"]],inputs:{steps:"steps",nodeTitle:"nodeTitle"},outputs:{closeModal:"closeModal"},decls:10,vars:3,consts:[["noSteps",""],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-title"],[1,"steps-container"],["class","steps-list",4,"ngIf","ngIfElse"],[1,"modal-close-button",3,"click"],[1,"steps-list"],["class","step-item",4,"ngFor","ngForOf"],[1,"step-item"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"no-steps-message"]],template:function(n,r){if(n&1){let o=q();h(0,"div",1),D("click",function(s){return w(o),E(r.onOverlayClick(s))}),h(1,"div",2),D("click",function(s){return w(o),E(s.stopPropagation())}),h(2,"h3",3),_(3),m(),h(4,"div",4),ee(5,fE,2,1,"div",5)(6,pE,3,0,"ng-template",null,0,bh),m(),h(8,"button",6),D("click",function(){return w(o),E(r.onCloseButtonClick())}),_(9,"Close"),m()()()}if(n&2){let o=mh(7);y(3),Qe(r.nodeTitle),y(2),C("ngIf",r.steps.length>0)("ngIfElse",o)}},dependencies:[gt,Kt,In],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 5px 15px #00000080;width:90%;max-width:800px;height:auto;max-height:80vh;display:flex;flex-direction:column;gap:15px}.modal-title[_ngcontent-%COMP%]{margin:0;color:#64447a;font-size:1.5em;text-align:center;flex-shrink:0}.steps-container[_ngcontent-%COMP%]{background-color:#f8f9fa;border:1px solid #dee2e6;border-radius:5px;padding:10px 20px;flex-grow:1;overflow-y:auto;font-family:Courier New,Courier,monospace;color:#333;min-height:200px}.step-item[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef;padding-bottom:15px;margin-bottom:15px}.step-item[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.step-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1em;color:#495057;margin:0 0 8px}.step-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;margin:0 0 10px;line-height:1.4;font-style:italic;color:#6c757d}.step-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px;margin:0;font-size:.85em}.step-item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;line-height:1.5}.no-steps-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;color:#6c757d}.modal-close-button[_ngcontent-%COMP%]{background-color:#64447a;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer;transition:background-color .3s ease;font-size:1em;align-self:flex-end}.modal-close-button[_ngcontent-%COMP%]:hover{background-color:#7a5a92}"]})};var aa=class e{node;closeModal=new Y;saveSettings=new Y;settings={operation:"dilation",shape:"square",size:3};ngOnInit(){this.node&&(this.settings={operation:this.node.morphologyOperation||"dilation",shape:this.node.structuringElementShape||"square",size:this.node.structuringElementSize||3})}onSave(){this.settings.size<1&&(this.settings.size=1),this.settings.size%2===0&&this.settings.size++,this.saveSettings.emit(this.settings),this.closeModal.emit()}onCancel(){this.closeModal.emit()}onContentClick(t){t.stopPropagation()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Se({type:e,selectors:[["app-morphology-modal"]],inputs:{node:"node"},outputs:{closeModal:"closeModal",saveSettings:"saveSettings"},decls:31,vars:10,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"control-group"],[1,"button-group"],[3,"click"],["for","elementSize"],["id","elementSize","type","number","min","1","step","2",3,"ngModelChange","ngModel"],[1,"info-text"],[1,"modal-actions"],[1,"cancel-btn",3,"click"],[1,"save-btn",3,"click"]],template:function(n,r){n&1&&(h(0,"div",0),D("click",function(){return r.onCancel()}),h(1,"div",1),D("click",function(i){return r.onContentClick(i)}),h(2,"h3"),_(3,"Morphology Settings"),m(),h(4,"div",2)(5,"label"),_(6,"Operation:"),m(),h(7,"div",3)(8,"button",4),D("click",function(){return r.settings.operation="dilation"}),_(9,"Dilation"),m(),h(10,"button",4),D("click",function(){return r.settings.operation="erosion"}),_(11,"Erosion"),m()()(),h(12,"div",2)(13,"label"),_(14,"Structuring Element Shape:"),m(),h(15,"div",3)(16,"button",4),D("click",function(){return r.settings.shape="square"}),_(17,"Square"),m(),h(18,"button",4),D("click",function(){return r.settings.shape="circle"}),_(19,"Circle"),m()()(),h(20,"div",2)(21,"label",5),_(22),m(),h(23,"input",6),Ft("ngModelChange",function(i){return Zt(r.settings.size,i)||(r.settings.size=i),i}),m(),h(24,"span",7),_(25,"(must be an odd number)"),m()(),h(26,"div",8)(27,"button",9),D("click",function(){return r.onCancel()}),_(28,"Cancel"),m(),h(29,"button",10),D("click",function(){return r.onSave()}),_(30,"Save and Apply"),m()()()()),n&2&&(y(8),se("active",r.settings.operation==="dilation"),y(2),se("active",r.settings.operation==="erosion"),y(6),se("active",r.settings.shape==="square"),y(2),se("active",r.settings.shape==="circle"),y(4),Qe(r.settings.shape==="square"?"Side Length:":"Diameter:"),y(),Pt("ngModel",r.settings.size))},dependencies:[gt,nn,_t,Po,tn,Vu,jt],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:25px;border-radius:8px;box-shadow:0 5px 20px #0006;width:auto;min-width:350px;max-width:90vw;display:flex;flex-direction:column;gap:20px}h3[_ngcontent-%COMP%]{margin:0;text-align:center;color:#333}.control-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#555}.control-group[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:10px}.control-group[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:8px 16px;border:1px solid #ccc;background-color:#f0f0f0;cursor:pointer;border-radius:4px;transition:background-color .2s,border-color .2s}.control-group[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#64447a;color:#fff;border-color:#64447a}.control-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:4px;font-size:1em}.control-group[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{font-size:.8em;color:#777}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;margin-top:10px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;font-size:1em;cursor:pointer;transition:background-color .2s}.modal-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#333}.modal-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.modal-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}"]})};var ca=class e{tree;constructor(){this.tree=[]}addNode(t){t.parentIds===void 0&&(t.parentIds=[]),this.tree.push(t),console.log("Node added to service:",t)}updateNodePosition(t,n,r){let o=this.tree.find(i=>i.id===t);o&&(o.x=n,o.y=r)}updateNodeImage(t,n){let r=this.tree.find(o=>o.id===t);r&&(r.imageSrc=n)}addConnection(t,n){let r=this.tree.find(s=>s.id===t),o=this.tree.find(s=>s.id===n);if(!r||!o||t===n)return console.warn("Connection failed: Invalid nodes or self-connection."),!1;let i=o.type==="editor-add"||o.type==="editor-difference"?2:1;return o.parentIds.length>=i?(console.warn(`Target node ${n} cannot accept more parents.`),!1):o.parentIds.includes(t)?(console.warn(`Connection from ${t} to ${n} already exists.`),!1):r.connections.includes(n)?!1:(r.connections.push(n),o.parentIds.push(t),console.log(`Connection added: ${t} -> ${n}`),!0)}removeConnection(t,n){let r=this.tree.find(i=>i.id===t),o=this.tree.find(i=>i.id===n);r&&(r.connections=r.connections.filter(i=>i!==n)),o&&(o.parentIds=o.parentIds.filter(i=>i!==t))}deleteNode(t){let n=this.tree.findIndex(o=>o.id===t);if(n===-1){console.warn(`Node with ID ${t} not found for deletion.`);return}let r=this.tree[n];r.parentIds.forEach(o=>{let i=this.tree.find(s=>s.id===o);i&&(i.connections=i.connections.filter(s=>s!==t))}),r.connections.forEach(o=>{let i=this.tree.find(s=>s.id===o);i&&(i.parentIds=i.parentIds.filter(s=>s!==t))}),this.tree.splice(n,1),console.log(`Node ${t} and its connections have been removed.`)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};var la=class e{constructor(){}getImageColorType(t){return pe(this,null,function*(){return new Promise((n,r)=>{if(!t)return r(new Error("No image data provided for color analysis."));let o=new Image;o.crossOrigin="Anonymous",o.onload=()=>{let i=document.createElement("canvas");i.width=o.width,i.height=o.height;let s=i.getContext("2d",{willReadFrequently:!0});if(!s)return r(new Error("Failed to get 2D context for color analysis."));s.drawImage(o,0,0);let c=s.getImageData(0,0,i.width,i.height).data,l=!0,u=!0;for(let f=0;f<c.length;f+=4){let p=c[f],d=c[f+1],v=c[f+2];if(p!==d||p!==v){l=!1;break}p!==0&&p!==255&&(u=!1)}n(l?u?"binary":"greyscale":"color")},o.onerror=i=>r(new Error("Failed to load image for color analysis.")),o.src=t})})}applyZhangSuenSkeletonization(t){return new Promise((n,r)=>{let o=new Image;o.crossOrigin="Anonymous",o.onload=()=>{let i=document.createElement("canvas");i.width=o.width,i.height=o.height;let s=i.getContext("2d",{willReadFrequently:!0});if(!s)return r(new Error("Failed to get 2D context."));s.drawImage(o,0,0);let a=s.getImageData(0,0,i.width,i.height),c=a.data,l=Array.from({length:o.height},()=>new Array(o.width).fill(0));for(let p=0;p<o.height;p++)for(let d=0;d<o.width;d++){let v=(p*o.width+d)*4;c[v]>127&&(l[p][d]=1)}let u=[],f=!0;for(;f;){f=!1;for(let p=1;p<o.height-1;p++)for(let d=1;d<o.width-1;d++){if(l[p][d]!==1)continue;let v=l[p-1][d],M=l[p-1][d+1],S=l[p][d+1],b=l[p+1][d+1],O=l[p+1][d],R=l[p+1][d-1],k=l[p][d-1],ae=l[p-1][d-1],le=v+M+S+b+O+R+k+ae;if(le<2||le>6)continue;let U=0;v===0&&M===1&&U++,M===0&&S===1&&U++,S===0&&b===1&&U++,b===0&&O===1&&U++,O===0&&R===1&&U++,R===0&&k===1&&U++,k===0&&ae===1&&U++,ae===0&&v===1&&U++,U===1&&v*S*O===0&&S*O*k===0&&u.push([p,d])}u.length>0&&(f=!0,u.forEach(([p,d])=>l[p][d]=0),u=[]);for(let p=1;p<o.height-1;p++)for(let d=1;d<o.width-1;d++){if(l[p][d]!==1)continue;let v=l[p-1][d],M=l[p-1][d+1],S=l[p][d+1],b=l[p+1][d+1],O=l[p+1][d],R=l[p+1][d-1],k=l[p][d-1],ae=l[p-1][d-1],le=v+M+S+b+O+R+k+ae;if(le<2||le>6)continue;let U=0;v===0&&M===1&&U++,M===0&&S===1&&U++,S===0&&b===1&&U++,b===0&&O===1&&U++,O===0&&R===1&&U++,R===0&&k===1&&U++,k===0&&ae===1&&U++,ae===0&&v===1&&U++,U===1&&v*S*k===0&&v*O*k===0&&u.push([p,d])}u.length>0&&(f=!0,u.forEach(([p,d])=>l[p][d]=0),u=[])}for(let p=0;p<o.height;p++)for(let d=0;d<o.width;d++){let v=l[p][d]===1?255:0,M=(p*o.width+d)*4;c[M]=v,c[M+1]=v,c[M+2]=v,c[M+3]=255}s.putImageData(a,0,0),n(i.toDataURL("image/png"))},o.onerror=i=>r(new Error("Failed to load image for skeletonization.")),o.src=t})}applyMorphology(t,n,r,o){return new Promise((i,s)=>{let a=new Image;a.crossOrigin="Anonymous",a.onload=()=>{let c=Math.floor(o/2),l=document.createElement("canvas");l.width=a.width,l.height=a.height;let u=l.getContext("2d");if(!u)return s(new Error("Failed to get source 2D context."));u.drawImage(a,0,0);let p=u.getImageData(0,0,a.width,a.height).data,d=document.createElement("canvas");d.width=a.width,d.height=a.height;let v=d.getContext("2d");if(!v)return s(new Error("Failed to get destination 2D context."));let M=v.createImageData(a.width,a.height),S=M.data,b=255,O=0;for(let R=0;R<a.height;R++)for(let k=0;k<a.width;k++){let ae=!1;for(let fe=-c;fe<=c;fe++){for(let ue=-c;ue<=c;ue++){if(r==="circle"&&ue*ue+fe*fe>c*c)continue;let oe=R+fe,ne=k+ue;if(oe>=0&&oe<a.height&&ne>=0&&ne<a.width){let ce=(oe*a.width+ne)*4;if(p[ce]===b){ae=!0;break}}}if(ae&&n==="dilation")break}let le=(R*a.width+k)*4,U;if(n==="dilation")U=ae?b:O;else{let fe=!0;for(let ue=-c;ue<=c;ue++){for(let oe=-c;oe<=c;oe++){if(r==="circle"&&oe*oe+ue*ue>c*c)continue;let ne=R+ue,ce=k+oe;if(ne>=0&&ne<a.height&&ce>=0&&ce<a.width){let at=(ne*a.width+ce)*4;if(p[at]===O){fe=!1;break}}else{fe=!1;break}}if(!fe)break}U=fe?b:O}S[le]=U,S[le+1]=U,S[le+2]=U,S[le+3]=255}v.putImageData(M,0,0),i(d.toDataURL("image/png"))},a.onerror=c=>s(new Error("Failed to load image for morphology operation.")),a.src=t})}calculateOtsuThreshold(t){return pe(this,null,function*(){return new Promise((n,r)=>{let o=new Image;o.crossOrigin="Anonymous",o.onload=()=>{let i=document.createElement("canvas");i.width=o.width,i.height=o.height;let s=i.getContext("2d");if(!s)return r(new Error("Failed to get 2D context."));s.drawImage(o,0,0);let c=s.getImageData(0,0,i.width,i.height).data,l=new Array(256).fill(0);for(let b=0;b<c.length;b+=4){let O=Math.round(.299*c[b]+.587*c[b+1]+.114*c[b+2]);l[O]++}let u=o.width*o.height,f=0;for(let b=0;b<256;b++)f+=b*l[b];let p=0,d=0,v=0,M=0,S=0;for(let b=0;b<256;b++){if(d+=l[b],d===0)continue;if(v=u-d,v===0)break;p+=b*l[b];let O=p/d,R=(f-p)/v,k=d*v*(O-R)*(O-R);k>M&&(M=k,S=b)}n(S)},o.onerror=i=>r(new Error("Failed to load image for Otsu's method calculation.")),o.src=t})})}applyNoiseReduction(t,n){return new Promise((r,o)=>{let i=new Image;i.crossOrigin="Anonymous",i.onload=()=>{let a=Math.floor(1.5),c=i.width-2*a,l=i.height-2*a;if(c<=0||l<=0)return o(new Error("Resulting image has zero or negative dimensions."));let u=document.createElement("canvas");u.width=i.width,u.height=i.height;let f=u.getContext("2d");if(!f)return o(new Error("Failed to get 2D context."));f.drawImage(i,0,0);let p=f.getImageData(0,0,i.width,i.height).data,d=document.createElement("canvas");d.width=c,d.height=l;let v=d.getContext("2d");if(!v)return o(new Error("Failed to get 2D context for destination."));let M=v.createImageData(c,l),S=M.data;for(let b=0;b<l;b++)for(let O=0;O<c;O++){let R=[],k=[],ae=[];for(let oe=-a;oe<=a;oe++)for(let ne=-a;ne<=a;ne++){let ce=b+a+oe,at=O+a+ne,Ar=(ce*i.width+at)*4;R.push(p[Ar]),k.push(p[Ar+1]),ae.push(p[Ar+2])}let le=0,U=0,fe=0;if(n==="median"){R.sort((ne,ce)=>ne-ce),k.sort((ne,ce)=>ne-ce),ae.sort((ne,ce)=>ne-ce);let oe=Math.floor(R.length/2);le=R[oe],U=k[oe],fe=ae[oe]}else n==="min"?(le=Math.min(...R),U=Math.min(...k),fe=Math.min(...ae)):(le=Math.max(...R),U=Math.max(...k),fe=Math.max(...ae));let ue=(b*c+O)*4;S[ue]=le,S[ue+1]=U,S[ue+2]=fe,S[ue+3]=255}v.putImageData(M,0,0),r(d.toDataURL("image/png"))},i.onerror=s=>o(new Error("Failed to load image for noise reduction.")),i.src=t})}applyAddOperation(t,n,r){return new Promise((o,i)=>{let s=new Image,a=new Image,c=0,l=()=>{if(c++,c<2)return;let u=document.createElement("canvas"),f=u.getContext("2d");if(!f)return i(new Error("Failed to get 2D context."));if(s.width!=a.width||s.height!=a.height)return alert("The images have different sizes"),o("");u.width=s.width,u.height=s.height;let p=document.createElement("canvas");p.width=u.width,p.height=u.height;let d=p.getContext("2d");d.drawImage(s,0,0,u.width,u.height);let v=d.getImageData(0,0,u.width,u.height).data,M=document.createElement("canvas");M.width=u.width,M.height=u.height;let S=M.getContext("2d");S.drawImage(a,0,0,u.width,u.height);let b=S.getImageData(0,0,u.width,u.height).data,O=f.createImageData(u.width,u.height),R=O.data;for(let k=0;k<R.length;k+=4){let ae=v[k],le=v[k+1],U=v[k+2],fe=b[k],ue=b[k+1],oe=b[k+2],ne=0,ce=0,at=0;switch(r){case"add":ne=ae+fe,ce=le+ue,at=U+oe;break;case"average":ne=(ae+fe)/2,ce=(le+ue)/2,at=(U+oe)/2;break;case"root":ne=Math.sqrt(Math.pow(ae,2)+Math.pow(fe,2)),ce=Math.sqrt(Math.pow(le,2)+Math.pow(ue,2)),at=Math.sqrt(Math.pow(U,2)+Math.pow(oe,2));break}R[k]=Math.max(0,Math.min(255,ne)),R[k+1]=Math.max(0,Math.min(255,ce)),R[k+2]=Math.max(0,Math.min(255,at)),R[k+3]=255}f.putImageData(O,0,0),o(u.toDataURL("image/png"))};s.crossOrigin="Anonymous",a.crossOrigin="Anonymous",s.onload=l,a.onload=l,s.onerror=u=>i(new Error("Failed to load first image for Add operation")),a.onerror=u=>i(new Error("Failed to load second image for Add operation")),s.src=t,a.src=n})}applyConvolution(t,n,r){return new Promise((o,i)=>{let s=r===0?1:r,a=new Image;a.crossOrigin="Anonymous",a.onload=()=>{let c=n.length,l=Math.floor(c/2),u=a.width-2*l,f=a.height-2*l;if(u<=0||f<=0)return i(new Error("Resulting image has zero or negative dimensions after applying the filter."));let p=document.createElement("canvas");p.width=a.width,p.height=a.height;let d=p.getContext("2d");if(!d)return i(new Error("Failed to get 2D context."));d.drawImage(a,0,0);let v=d.getImageData(0,0,a.width,a.height).data,M=document.createElement("canvas");M.width=u,M.height=f;let S=M.getContext("2d");if(!S)return i(new Error("Failed to get 2D context."));let b=S.createImageData(u,f),O=b.data;for(let R=0;R<f;R++)for(let k=0;k<u;k++){let ae=0,le=0,U=0,fe=R,ue=k;for(let ne=0;ne<c;ne++)for(let ce=0;ce<c;ce++){let at=fe+ne,Ar=ue+ce,fa=(at*a.width+Ar)*4,pa=n[ne][ce];ae+=v[fa]*pa,le+=v[fa+1]*pa,U+=v[fa+2]*pa}let oe=(R*u+k)*4;O[oe]=Math.max(0,Math.min(255,ae/s)),O[oe+1]=Math.max(0,Math.min(255,le/s)),O[oe+2]=Math.max(0,Math.min(255,U/s)),O[oe+3]=255}S.putImageData(b,0,0),o(M.toDataURL("image/png"))},a.onerror=c=>i(c),a.src=t})}applyGreyscale(t){return new Promise((n,r)=>{let o=document.createElement("canvas"),i=o.getContext("2d");if(!i)return r(new Error("Failed to get 2D context from canvas."));let s=new Image;s.crossOrigin="Anonymous",s.onload=()=>{o.width=s.width,o.height=s.height,i.drawImage(s,0,0);let a=i.getImageData(0,0,o.width,o.height),c=a.data;for(let l=0;l<c.length;l+=4){let u=Math.floor(.299*c[l]+.587*c[l+1]+.114*c[l+2]);c[l]=u,c[l+1]=u,c[l+2]=u}i.putImageData(a,0,0),n(o.toDataURL("image/png"))},s.onerror=a=>{r(a)},s.src=t})}applyThreshold(t,n){return new Promise((r,o)=>{let i=document.createElement("canvas"),s=i.getContext("2d");if(!s)return o(new Error("Failed to get 2D context from canvas."));let a=new Image;a.crossOrigin="Anonymous",a.onload=()=>{i.width=a.width,i.height=a.height,s.drawImage(a,0,0);let c=s.getImageData(0,0,i.width,i.height),l=c.data;for(let u=0;u<l.length;u+=4){let f=l[u]<n?0:255;l[u]=f,l[u+1]=f,l[u+2]=f}s.putImageData(c,0,0),r(i.toDataURL("image/png"))},a.onerror=c=>{o(c)},a.src=t})}applyHistogramEqualization(t){return new Promise((n,r)=>{let o=document.createElement("canvas"),i=o.getContext("2d");if(!i)return r(new Error("Failed to get 2D context."));let s=new Image;s.crossOrigin="Anonymous",s.onload=()=>{o.width=s.width,o.height=s.height,i.drawImage(s,0,0);let a=i.getImageData(0,0,o.width,o.height),c=a.data,l=o.width*o.height,u=[],f={};for(let b=0;b<c.length;b+=4){let O=this.RGBtoHSL(c[b],c[b+1],c[b+2]);u.push({h:O[0],s:O[1],l:O[2]});let R=O[2];f[R]=(f[R]||0)+1}let p={},d=0,v=Object.keys(f).map(Number).sort((b,O)=>b-O);for(let b of v)d+=f[b],p[b]=d;let M={},S=p[v[0]];for(let b of v){let O=p[b]-S,R=l-S;M[b]=Math.round(O/R*255)}for(let b=0;b<u.length;b++){let O=u[b],R=M[O.l],k=this.HSLtoRGB(O.h,O.s,R);c[b*4]=k[0],c[b*4+1]=k[1],c[b*4+2]=k[2]}i.putImageData(a,0,0),n(o.toDataURL("image/png"))},s.onerror=a=>r(a),s.src=t})}RGBtoHSL(t,n,r){t/=255,n/=255,r/=255;let o=Math.max(t,n,r),i=Math.min(t,n,r),s=o-i,a=0,c=0,l=0;return s==0?a=0:o==t?a=(n-r)/s%6:o==n?a=(r-t)/s+2:a=(t-n)/s+4,a=Math.round(a*40),a<0&&(a+=240),l=(o+i)/2,c=s==0?0:s/(1-Math.abs(2*l-1)),c=+(c*240),l=+(l*240),[Math.round(a),Math.round(c),Math.round(l)]}hue2rgb(t,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*(2/3-r)*6:t}HSLtoRGB(t,n,r){t/=240,n/=240,r/=240;let o,i,s;if(n==0)o=i=s=r;else{var a=r<.5?r*(1+n):r+n-r*n,c=2*r-a;o=this.hue2rgb(c,a,t+1/3),i=this.hue2rgb(c,a,t),s=this.hue2rgb(c,a,t-1/3)}return[Math.round(o*255),Math.round(i*255),Math.round(s*255)]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};var mE=["containerRef"],vE=["svgCanvas"],yE=["boxElement"],_E=e=>({collapsed:e}),CE=(e,t,n,r,o,i,s,a,c,l)=>({"image-box":e,"editor-greyscale-box":t,"editor-threshold-box":n,"editor-histogram-box":r,"editor-convolution-box":o,"editor-add-box":i,"editor-difference-box":s,"editor-noise-reduction-box":a,"editor-morphology-box":c,"editor-skeletonization-box":l});function DE(e,t){if(e&1){let n=q();h(0,"div",28),D("click",function(o){w(n);let i=g().$implicit,s=g();return E(s.openPseudocodeModal(i,o))}),_(1," </> "),m()}}function bE(e,t){if(e&1){let n=q();h(0,"div",29),D("click",function(o){w(n);let i=g().$implicit,s=g();return E(s.toggleAddMenu(i,o))}),_(1,"+"),m()}}function wE(e,t){e&1&&(h(0,"div",33),_(1,"No valid children"),m())}function EE(e,t){if(e&1){let n=q();h(0,"div",34),D("mousedown",function(){let o=w(n).$implicit,i=g(2).$implicit,s=g();return E(s.addChildNode(i,o.type))}),_(1),m()}if(e&2){let n=t.$implicit;y(),En(" Add ",n.label," ")}}function ME(e,t){if(e&1){let n=q();h(0,"div",30),D("mousedown",function(o){return w(n),E(o.stopPropagation())})("mouseup",function(o){return w(n),E(o.stopPropagation())}),ee(1,wE,2,0,"div",31)(2,EE,2,1,"div",32),m()}if(e&2){let n=g().$implicit,r=g();y(),C("ngIf",r.getValidChildrenTypes(n).length===0),y(),C("ngForOf",r.getValidChildrenTypes(n))}}function IE(e,t){if(e&1){let n=q();h(0,"app-image-loader",39),D("imageLoaded",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.onImageLoaded(o,i.id))}),m()}if(e&2){let n=g(2).$implicit;C("node",n)}}function xE(e,t){e&1&&he(0,"div",40)}function SE(e,t){if(e&1&&he(0,"img",41),e&2){let n=g(2).$implicit;C("src",n.imageSrc,xe)}}function TE(e,t){if(e&1){let n=q();h(0,"button",42),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.openImageModal(o,i))}),_(1,"View Image"),m()}}function NE(e,t){if(e&1&&(Ze(0),ee(1,IE,1,1,"app-image-loader",35)(2,xE,1,0,"div",36)(3,SE,1,1,"img",37)(4,TE,2,0,"button",38),Ye()),e&2){let n=g().$implicit;y(),C("ngIf",!n.imageSrc),y(),C("ngIf",!n.imageSrc),y(),C("ngIf",n.imageSrc),y(),C("ngIf",n.imageSrc)}}function AE(e,t){e&1&&(h(0,"div",45)(1,"span"),_(2,"(Connect to parent)"),m()())}function OE(e,t){if(e&1&&he(0,"img",46),e&2){let n=g(2).$implicit;C("src",n.imageSrc,xe)}}function RE(e,t){if(e&1){let n=q();h(0,"button",42),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.openImageModal(o,i))}),_(1,"View Image"),m()}}function kE(e,t){if(e&1&&(Ze(0),ee(1,AE,3,0,"div",43)(2,OE,1,1,"img",44)(3,RE,2,0,"button",38),Ye()),e&2){let n=g().$implicit;y(),C("ngIf",!n.imageSrc),y(),C("ngIf",n.imageSrc),y(),C("ngIf",n.imageSrc)}}function PE(e,t){e&1&&(h(0,"div",45)(1,"span"),_(2,"(Connect to parent)"),m()())}function FE(e,t){if(e&1&&he(0,"img",46),e&2){let n=g(2).$implicit;C("src",n.imageSrc,xe)}}function VE(e,t){if(e&1){let n=q();h(0,"div",48)(1,"div",49),_(2),m(),h(3,"input",50),Ft("ngModelChange",function(o){w(n);let i=g(2).$implicit;return Zt(i.threshold,o)||(i.threshold=o),E(o)}),D("input",function(){w(n);let o=g(2).$implicit,i=g();return E(i.onThresholdChange(o))})("mousedown",function(o){return w(n),E(o.stopPropagation())}),m(),h(4,"button",42),D("click",function(){w(n);let o=g(2).$implicit,i=g();return E(i.applyOtsuThreshold(o))}),_(5,"Apply Otsu"),m(),h(6,"button",42),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.openImageModal(o,i))}),_(7,"View Image"),m()()}if(e&2){let n=g(2).$implicit;y(2),En("Threshold: ",n.threshold,""),y(),Pt("ngModel",n.threshold)}}function LE(e,t){if(e&1&&(Ze(0),ee(1,PE,3,0,"div",43)(2,FE,1,1,"img",44)(3,VE,8,2,"div",47),Ye()),e&2){let n=g().$implicit;y(),C("ngIf",!n.imageSrc),y(),C("ngIf",n.imageSrc),y(),C("ngIf",n.imageSrc)}}function jE(e,t){e&1&&(h(0,"div",45)(1,"span"),_(2,"(Connect to parent)"),m()())}function BE(e,t){if(e&1&&he(0,"img",46),e&2){let n=g(2).$implicit;C("src",n.imageSrc,xe)}}function HE(e,t){if(e&1){let n=q();h(0,"button",42),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.openImageModal(o,i))}),_(1,"View Image"),m()}}function $E(e,t){if(e&1&&(Ze(0),ee(1,jE,3,0,"div",43)(2,BE,1,1,"img",44)(3,HE,2,0,"button",38),Ye()),e&2){let n=g().$implicit;y(),C("ngIf",!n.imageSrc),y(),C("ngIf",n.imageSrc),y(),C("ngIf",n.imageSrc)}}function UE(e,t){e&1&&(h(0,"div",45)(1,"span"),_(2,"(Connect to parent)"),m()())}function zE(e,t){if(e&1&&he(0,"img",46),e&2){let n=g(2).$implicit;C("src",n.imageSrc,xe)}}function GE(e,t){if(e&1){let n=q();h(0,"div",52)(1,"button",42),D("click",function(){w(n);let o=g(2).$implicit,i=g();return E(i.openConvolutionModal(o))}),_(2,"Edit Filter"),m(),h(3,"button",42),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.openImageModal(o,i))}),_(4,"View Image"),m()()}}function qE(e,t){if(e&1&&(Ze(0),ee(1,UE,3,0,"div",43)(2,zE,1,1,"img",44)(3,GE,5,0,"div",51),Ye()),e&2){let n=g().$implicit;y(),C("ngIf",!n.imageSrc),y(),C("ngIf",n.imageSrc),y(),C("ngIf",n.imageSrc)}}function WE(e,t){if(e&1&&(h(0,"div",45)(1,"span"),_(2,"(Connect to 2 parents)"),m(),h(3,"span",53),_(4),m()()),e&2){let n=g(2).$implicit;y(4),En("",n.parentIds.length," / 2")}}function ZE(e,t){if(e&1&&he(0,"img",46),e&2){let n=g(2).$implicit;C("src",n.imageSrc,xe)}}function YE(e,t){if(e&1){let n=q();h(0,"div",52)(1,"div",54)(2,"button",55),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.setAddOperationMode(i,"add",o))}),_(3,"A+B"),m(),h(4,"button",55),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.setAddOperationMode(i,"average",o))}),_(5,"(A+B)/2"),m(),h(6,"button",55),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.setAddOperationMode(i,"root",o))}),_(7,"\u221A(A\xB2+B\xB2)"),m()(),h(8,"button",42),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.openImageModal(o,i))}),_(9,"View Image"),m()()}if(e&2){let n=g(2).$implicit;y(2),se("active",n.addOperationMode==="add"),y(2),se("active",n.addOperationMode==="average"),y(2),se("active",n.addOperationMode==="root")}}function QE(e,t){if(e&1&&(Ze(0),ee(1,WE,5,1,"div",43)(2,ZE,1,1,"img",44)(3,YE,10,6,"div",51),Ye()),e&2){let n=g().$implicit;y(),C("ngIf",!n.imageSrc),y(),C("ngIf",n.imageSrc),y(),C("ngIf",n.imageSrc)}}function KE(e,t){if(e&1&&(h(0,"div",45)(1,"span"),_(2,"(Connect to 2 parents)"),m(),h(3,"span",53),_(4),m()()),e&2){let n=g(2).$implicit;y(4),En("",n.parentIds.length," / 2")}}function XE(e,t){if(e&1&&(h(0,"div",57),he(1,"img",58)(2,"img",59),m()),e&2){let n=g(2).$implicit;y(),C("src",n.imageSrc,xe),y(),ur("opacity",(n.differenceSliderValue||0)/100),C("src",n.imageSrcB,xe)}}function JE(e,t){if(e&1){let n=q();h(0,"div",48)(1,"input",60),Ft("ngModelChange",function(o){w(n);let i=g(2).$implicit;return Zt(i.differenceSliderValue,o)||(i.differenceSliderValue=o),E(o)}),D("input",function(){w(n);let o=g(2).$implicit,i=g();return E(i.onDifferenceSliderChange(o))})("mousedown",function(o){return w(n),E(o.stopPropagation())}),m(),h(2,"button",42),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.openImageModal(o,i))}),_(3,"View Image"),m()()}if(e&2){let n=g(2).$implicit;y(),Pt("ngModel",n.differenceSliderValue)}}function eM(e,t){if(e&1&&(Ze(0),ee(1,KE,5,1,"div",43)(2,XE,3,4,"div",56)(3,JE,4,1,"div",47),Ye()),e&2){let n=g().$implicit;y(),C("ngIf",!n.imageSrc&&!n.imageSrcB),y(),C("ngIf",n.imageSrc&&n.imageSrcB),y(),C("ngIf",n.imageSrc&&n.imageSrcB)}}function tM(e,t){e&1&&(h(0,"div",45)(1,"span"),_(2,"(Connect to parent)"),m()())}function nM(e,t){if(e&1&&he(0,"img",46),e&2){let n=g(2).$implicit;C("src",n.imageSrc,xe)}}function rM(e,t){if(e&1){let n=q();h(0,"div",52)(1,"div",54)(2,"button",55),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.setNoiseReductionMode(i,"min",o))}),_(3,"Min"),m(),h(4,"button",55),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.setNoiseReductionMode(i,"median",o))}),_(5,"Median"),m(),h(6,"button",55),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.setNoiseReductionMode(i,"max",o))}),_(7,"Max"),m()(),h(8,"button",42),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.openImageModal(o,i))}),_(9,"View Image"),m()()}if(e&2){let n=g(2).$implicit;y(2),se("active",n.noiseReductionMode==="min"),y(2),se("active",n.noiseReductionMode==="median"),y(2),se("active",n.noiseReductionMode==="max")}}function oM(e,t){if(e&1&&(Ze(0),ee(1,tM,3,0,"div",43)(2,nM,1,1,"img",44)(3,rM,10,6,"div",51),Ye()),e&2){let n=g().$implicit;y(),C("ngIf",!n.imageSrc),y(),C("ngIf",n.imageSrc),y(),C("ngIf",n.imageSrc)}}function iM(e,t){e&1&&(h(0,"div",45)(1,"span"),_(2,"(Connect to a Threshold node)"),m()())}function sM(e,t){if(e&1&&he(0,"img",46),e&2){let n=g(2).$implicit;C("src",n.imageSrc,xe)}}function aM(e,t){if(e&1){let n=q();h(0,"div",52)(1,"button",42),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.openMorphologyModal(i,o))}),_(2,"Edit Operation"),m(),h(3,"button",42),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.openImageModal(o,i))}),_(4,"View Image"),m()()}}function cM(e,t){if(e&1&&(Ze(0),ee(1,iM,3,0,"div",43)(2,sM,1,1,"img",44)(3,aM,5,0,"div",51),Ye()),e&2){let n=g().$implicit;y(),C("ngIf",!n.imageSrc),y(),C("ngIf",n.imageSrc),y(),C("ngIf",n.imageSrc)}}function lM(e,t){e&1&&(h(0,"div",45)(1,"span"),_(2,"(Connect to a Threshold node)"),m()())}function uM(e,t){if(e&1&&he(0,"img",46),e&2){let n=g(2).$implicit;C("src",n.imageSrc,xe)}}function dM(e,t){if(e&1){let n=q();h(0,"button",42),D("click",function(o){w(n);let i=g(2).$implicit,s=g();return E(s.openImageModal(o,i))}),_(1,"View Image"),m()}}function fM(e,t){if(e&1&&(Ze(0),ee(1,lM,3,0,"div",43)(2,uM,1,1,"img",44)(3,dM,2,0,"button",38),Ye()),e&2){let n=g().$implicit;y(),C("ngIf",!n.imageSrc),y(),C("ngIf",n.imageSrc),y(),C("ngIf",n.imageSrc)}}function pM(e,t){if(e&1){let n=q();h(0,"div",61),D("mousedown",function(o){w(n);let i=g().$implicit,s=g();return E(s.startConnection(o,i))}),m()}}function hM(e,t){if(e&1){let n=q();h(0,"div",18,2),D("mousedown",function(o){let i=w(n).$implicit,s=g();return E(s.grabFunc(o,i))})("mouseup",function(o){let i=w(n).$implicit,s=g();return E(s.endConnection(o,i))}),h(2,"div",19),D("click",function(o){let i=w(n).$implicit,s=g();return E(s.resizeNode(i,o))}),m(),ee(3,DE,2,0,"div",20),h(4,"div",21),D("click",function(o){let i=w(n).$implicit,s=g();return E(s.deleteNode(i,o))}),_(5,"\xD7"),m(),h(6,"div",22),_(7),m(),ee(8,bE,2,0,"div",23)(9,ME,3,2,"div",24)(10,NE,5,4,"ng-container",25)(11,kE,4,3,"ng-container",25)(12,LE,4,3,"ng-container",25)(13,$E,4,3,"ng-container",25)(14,qE,4,3,"ng-container",25)(15,QE,4,3,"ng-container",25)(16,eM,4,3,"ng-container",25)(17,oM,4,3,"ng-container",25)(18,cM,4,3,"ng-container",25)(19,fM,4,3,"ng-container",25),h(20,"div",26),D("mouseup",function(o){let i=w(n).$implicit,s=g();return E(s.endConnection(o,i))}),m(),ee(21,pM,1,0,"div",27),m()}if(e&2){let n=t.$implicit,r=g();ur("left",n.x,"px")("top",n.y,"px")("width",(n.width||220)*(n.scale||1),"px")("height",(n.height||150)*(n.scale||1),"px"),C("ngClass",Ch(25,CE,[n.type==="image",n.type==="editor-greyscale",n.type==="editor-threshold",n.type==="editor-histogram-equalization",n.type==="editor-convolution",n.type==="editor-add",n.type==="editor-difference",n.type==="editor-noise-reduction",n.type==="editor-morphology",n.type==="editor-skeletonization"])),no("data-node-id",n.id),y(3),C("ngIf",n.type!=="editor-difference"&&n.type!=="image"),y(4),Qe(r.getBoxTitle(n)),y(),C("ngIf",n.type!=="editor-difference"),y(),C("ngIf",n.isAddMenuOpen),y(),C("ngIf",n.type==="image"),y(),C("ngIf",n.type==="editor-greyscale"),y(),C("ngIf",n.type==="editor-threshold"),y(),C("ngIf",n.type==="editor-histogram-equalization"),y(),C("ngIf",n.type==="editor-convolution"),y(),C("ngIf",n.type==="editor-add"),y(),C("ngIf",n.type==="editor-difference"),y(),C("ngIf",n.type==="editor-noise-reduction"),y(),C("ngIf",n.type==="editor-morphology"),y(),C("ngIf",n.type==="editor-skeletonization"),y(2),C("ngIf",n.type!=="editor-difference")}}function gM(e,t){if(e&1){let n=q();h(0,"app-image-modal",62),D("closeModal",function(){w(n);let o=g();return E(o.closeImageModal())})("operationChanged",function(o){w(n);let i=g();return E(i.onAddOperationChanged(o))})("noiseReductionChanged",function(o){w(n);let i=g();return E(i.onNoiseReductionChanged(o))})("differenceSliderChanged",function(o){w(n);let i=g();return E(i.onDifferenceSliderChangedFromModal(o))})("thresholdChanged",function(o){w(n);let i=g();return E(i.onThresholdChangedFromModal(o))})("applyOtsu",function(){w(n);let o=g();return E(o.onApplyOtsuFromModal())}),m()}if(e&2){let n=g();C("node",n.currentNodeForModal)}}function mM(e,t){if(e&1){let n=q();h(0,"app-convolution-modal",63),D("closeModal",function(){w(n);let o=g();return E(o.closeConvolutionModal())})("saveMatrix",function(o){w(n);let i=g();return E(i.onSaveConvolutionMatrix(o))}),m()}if(e&2){let n=g();C("initialMatrix",n.currentNodeForMatrix.convolutionMatrix)("initialMatrixSize",n.currentNodeForMatrix.matrixSize)("initialDivisor",n.currentNodeForMatrix.convolutionDivisor)}}function vM(e,t){if(e&1){let n=q();h(0,"app-pseudocode-modal",64),D("closeModal",function(){w(n);let o=g();return E(o.closePseudocodeModal())}),m()}if(e&2){let n=g();C("steps",n.pseudocodeSteps)("nodeTitle",n.pseudocodeNodeTitle)}}function yM(e,t){if(e&1){let n=q();h(0,"app-morphology-modal",65),D("closeModal",function(){w(n);let o=g();return E(o.closeMorphologyModal())})("saveSettings",function(o){w(n);let i=g();return E(i.onSaveMorphologySettings(o))}),m()}if(e&2){let n=g();C("node",n.currentNodeForMorphology)}}var ua=class e{constructor(t,n,r){this.nodeManip=t;this.imageProcessor=n;this.cdr=r}containerRef;svgCanvas;boxElements;isDragging=!1;offsetX=0;offsetY=0;boxes=[];draggedNode=null;isConnecting=!1;startNode=null;startPoint=null;showImageModal=!1;showConvolutionModal=!1;showMorphologyModal=!1;currentNodeForMatrix=null;currentNodeForModal=null;currentNodeForMorphology=null;showPseudocodeModal=!1;pseudocodeSteps=[];pseudocodeNodeTitle="";isSidebarCollapsed=!1;resizeObserver=null;numteste=0;onDocumentClick(t){let n=t.target;!n.closest(".boxes")&&!n.closest(".modal-content")&&this.closeAllAddMenus()}ngOnInit(){this.boxes=this.nodeManip.tree}ngAfterViewInit(){this.updateSvgDimensions(),this.resizeObserver=new ResizeObserver(()=>{this.updateSvgDimensions(),this.drawConnections()}),this.containerRef&&this.resizeObserver.observe(this.containerRef.nativeElement)}ngAfterViewChecked(){let t=!1;this.boxElements.forEach(n=>{let r=n.nativeElement.dataset.nodeId;if(!r)return;let o=this.boxes.find(i=>i.id===r);if(o&&o.width===0){let i=n.nativeElement;setTimeout(()=>{o.width=i.clientWidth,o.height=i.clientHeight,t=!0},0)}}),t&&(this.cdr.detectChanges(),this.drawConnections())}ngOnDestroy(){this.resizeObserver&&this.resizeObserver.disconnect()}toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed}updateSvgDimensions(){if(this.containerRef&&this.svgCanvas){let t=this.containerRef.nativeElement;this.svgCanvas.nativeElement.setAttribute("width",t.clientWidth.toString()),this.svgCanvas.nativeElement.setAttribute("height",t.clientHeight.toString())}}generateUniqueId(){return`node-${this.numteste++}`}createAndAddNode(t,n,r,o){let i={id:this.generateUniqueId(),type:t,imageSrc:void 0,x:n,y:r,width:0,height:0,connections:[],parentIds:[],scale:1,isAddMenuOpen:!1};return t==="editor-threshold"&&(i.threshold=128),t==="editor-convolution"&&(i.matrixSize=3,i.convolutionDivisor=1,i.convolutionMatrix=[[0,0,0],[0,0,0],[0,0,0]]),t==="editor-add"&&(i.addOperationMode="average"),t==="editor-difference"&&(i.differenceSliderValue=50),t==="editor-noise-reduction"&&(i.noiseReductionMode="median"),t==="editor-morphology"&&(i.morphologyOperation="dilation",i.structuringElementShape="square",i.structuringElementSize=3),this.nodeManip.addNode(i),this.boxes=[...this.nodeManip.tree],o&&this.nodeManip.addConnection(o.id,i.id),i}addSobelDetector(){let t=this.containerRef.nativeElement.getBoundingClientRect(),n=Math.random()*(t.width-500),r=Math.random()*(window.innerHeight-300)+window.scrollY,o=220,i=40,s=this.createAndAddNode("editor-convolution",n,r);s.convolutionMatrix=[[1,0,-1],[2,0,-2],[1,0,-1]],s.matrixSize=3,s.convolutionDivisor=1;let a=this.createAndAddNode("editor-convolution",n+o+i,r);a.convolutionMatrix=[[1,2,1],[0,0,0],[-1,-2,-1]],a.matrixSize=3,a.convolutionDivisor=1;let c=r+150+50,l=n+o/2+i/2,u=this.createAndAddNode("editor-add",l,c);u.addOperationMode="root",this.nodeManip.addConnection(s.id,u.id),this.nodeManip.addConnection(a.id,u.id),setTimeout(()=>this.drawConnections(),0)}addGaussianBlurNode(){let t=this.containerRef.nativeElement.getBoundingClientRect(),n=Math.random()*(t.width-220),r=Math.random()*(window.innerHeight-150)+window.scrollY,o=this.createAndAddNode("editor-convolution",n,r);o.convolutionMatrix=[[1,4,7,4,1],[4,16,26,16,4],[7,26,41,26,7],[4,16,26,16,4],[1,4,7,4,1]],o.matrixSize=5,o.convolutionDivisor=273}addBoxBlurNode(){let t=this.containerRef.nativeElement.getBoundingClientRect(),n=Math.random()*(t.width-220),r=Math.random()*(window.innerHeight-150)+window.scrollY,o=this.createAndAddNode("editor-convolution",n,r);o.convolutionMatrix=[[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1]],o.matrixSize=5,o.convolutionDivisor=25}addLaplacianNode(){let t=this.containerRef.nativeElement.getBoundingClientRect(),n=Math.random()*(t.width-220),r=Math.random()*(window.innerHeight-150)+window.scrollY,o=this.createAndAddNode("editor-convolution",n,r);o.convolutionMatrix=[[0,-1,0],[-1,5,-1],[0,-1,0]],o.matrixSize=3,o.convolutionDivisor=1}addNodeFromSidebar(t){let n=this.containerRef.nativeElement.getBoundingClientRect(),r=Math.random()*(n.width-220),o=Math.random()*(window.innerHeight-150)+window.scrollY;this.createAndAddNode(t,r,o)}addChildNode(t,n){return pe(this,null,function*(){let r=t.x,o=t.y+t.height*(t.scale||1)+50,i={id:"temp",type:n,x:0,y:0,width:0,height:0,connections:[],parentIds:[]};this.checkConnectionCompatibility(t,i);let s=this.createAndAddNode(n,r,o,t);yield this.updateEditorNode(s),this.drawConnections(),this.closeAllAddMenus()})}toggleAddMenu(t,n){n.stopPropagation();let r=t.isAddMenuOpen;this.closeAllAddMenus(),t.isAddMenuOpen=!r}getValidChildrenTypes(t){return t.type==="editor-difference"?[]:[{type:"editor-add",label:"Add (2 Images)"},{type:"editor-difference",label:"Difference (2 Images)"},{type:"editor-greyscale",label:"Greyscale"},{type:"editor-threshold",label:"Threshold"},{type:"editor-histogram-equalization",label:"Histogram Equalization"},{type:"editor-convolution",label:"Convolution"},{type:"editor-noise-reduction",label:"Noise Reduction"},{type:"editor-morphology",label:"Morphology"},{type:"editor-skeletonization",label:"Skeletonization"}]}checkConnectionCompatibility(t,n){let r=t.colorType;if(r)switch(n.type){case"editor-greyscale":(r==="greyscale"||r==="binary")&&alert("Warning: Applying a Greyscale filter to an image that is already greyscale or binary will have no effect.");break;case"editor-threshold":r==="color"?alert("Warning: Thresholding works best on greyscale images. The input will be converted to greyscale, which might lead to unexpected results if the color information is important."):r==="binary"&&alert("Warning: Applying a threshold to an already binary image will likely have no effect or produce a solid black or white image.");break;case"editor-histogram-equalization":r==="binary"&&alert("Warning: Histogram Equalization has no effect on binary (black and white) images as there are only two color values.");break;case"editor-morphology":(r==="color"||r==="greyscale")&&alert("Warning: Morphological operations (like Dilation and Erosion) are designed for binary images. Applying them to color or greyscale images may produce unexpected results.");break;case"editor-skeletonization":(r==="color"||r==="greyscale")&&alert("Warning: Skeletonization is designed for binary images. Applying it to color or greyscale inputs may produce unexpected or empty results.");break}}closeAllAddMenus(){this.boxes.forEach(t=>t.isAddMenuOpen=!1)}onImageLoaded(t,n){return pe(this,null,function*(){let r=this.boxes.find(o=>o.id===n);if(r&&r.type==="image"){if(r.imageSrc=t?String(t):void 0,r.imageSrc)try{r.colorType=yield this.imageProcessor.getImageColorType(r.imageSrc)}catch(o){console.error("Failed to analyze image color type:",o),r.colorType=void 0}else r.colorType=void 0;yield this.updateChildEditors(r)}})}grabFunc(t,n){if(!(t.target.closest(".maximize-icon")||t.target.closest(".delete-icon")||t.target.closest(".pseudocode-icon")||t.target.closest(".connection-point")||t.target.closest(".add-child-icon")||t.target.closest(".node-button")||t.target.closest(".op-button")||t.target.closest('input[type="range"]'))&&t.button===0&&!this.isConnecting){t.stopPropagation(),this.isDragging=!0,this.draggedNode=n;let r=t.currentTarget.getBoundingClientRect();this.offsetX=t.clientX-r.left,this.offsetY=t.clientY-r.top}}onContainerMouseMove(t){if(this.isDragging&&this.draggedNode){let n=this.containerRef.nativeElement.getBoundingClientRect(),r=this.draggedNode.scale||1,o=(this.draggedNode.width||120)*r,i=(this.draggedNode.height||100)*r,s=t.clientX-n.left-this.offsetX,a=t.clientY-n.top-this.offsetY;s=Math.max(0,Math.min(s,n.width-o)),a=Math.max(0,Math.min(a,n.height-i)),this.draggedNode.x=s,this.draggedNode.y=a,this.drawConnections()}else if(this.isConnecting&&this.startPoint){let n=this.svgCanvas.nativeElement.querySelector("#temp-connection-line")||document.createElementNS("http://www.w3.org/2000/svg","line");n.id||(n.setAttribute("id","temp-connection-line"),n.setAttribute("stroke","blue"),n.setAttribute("stroke-width","1"),n.setAttribute("stroke-dasharray","5,5"),this.svgCanvas.nativeElement.appendChild(n));let r=this.containerRef.nativeElement.getBoundingClientRect();n.setAttribute("x1",this.startPoint.x.toString()),n.setAttribute("y1",this.startPoint.y.toString()),n.setAttribute("x2",(t.clientX-r.left).toString()),n.setAttribute("y2",(t.clientY-r.top).toString())}}letItGo(){if(this.isDragging=!1,this.draggedNode=null,this.isConnecting){this.isConnecting=!1,this.startNode=null,this.startPoint=null;let t=this.svgCanvas.nativeElement.querySelector("#temp-connection-line");t&&t.remove()}}getConnectionPointCoords(t,n){let r=t.scale||1,o=(t.width||120)*r,i=(t.height||100)*r,s=t.x+o/2,a=n==="top"?t.y:t.y+i;return{x:s,y:a}}startConnection(t,n){if(t.stopPropagation(),n.type==="editor-difference"){alert("A 'Difference' node is a terminal node and cannot be connected to a child.");return}this.isConnecting=!0,this.startNode=n;let o=t.target.getBoundingClientRect(),i=this.containerRef.nativeElement.getBoundingClientRect();this.startPoint={x:o.left+o.width/2-i.left,y:o.top+o.height/2-i.top}}endConnection(t,n){return pe(this,null,function*(){if(!this.isConnecting||!this.startNode||this.startNode.id===n.id)return;t.stopPropagation();let r=this.startNode,o=n;this.isAncestor(o.id,r.id)?alert("Cannot connect nodes. This would create a cycle."):(this.checkConnectionCompatibility(r,o),this.nodeManip.addConnection(r.id,o.id)?(yield this.updateEditorNode(o),this.drawConnections()):alert("Connection failed. The target node may already have the maximum number of parents or is an invalid type (e.g., Image Source).")),this.letItGo()})}deleteNode(t,n){if(n.stopPropagation(),!confirm(`Are you sure you want to delete the "${this.getBoxTitle(t)}" node?`))return;let r=[...t.connections];this.nodeManip.deleteNode(t.id),this.boxes=[...this.nodeManip.tree],setTimeout(()=>pe(this,null,function*(){let o=this.boxes.filter(i=>r.includes(i.id));for(let i of o)yield this.updateEditorNode(i);this.drawConnections()}),0)}isAncestor(t,n){let r=this.boxes.find(s=>s.id===n);if(!r)return!1;let o=[...r.parentIds],i=new Set;for(;o.length>0;){let s=o.shift();if(s===t)return!0;if(i.has(s))continue;i.add(s);let a=this.boxes.find(c=>c.id===s);a&&o.push(...a.parentIds)}return!1}onThresholdChange(t){this.updateEditorNode(t)}applyOtsuThreshold(t){return pe(this,null,function*(){if(t.type!=="editor-threshold"||t.parentIds.length===0){alert("Otsu's method can only be applied to a Threshold node with a connected parent.");return}let n=this.boxes.find(r=>r.id===t.parentIds[0]);if(!n||!n.imageSrc){alert("Parent node does not have an image to process.");return}try{let r=yield this.imageProcessor.calculateOtsuThreshold(n.imageSrc);t.threshold=r,yield this.updateEditorNode(t)}catch(r){console.error("Failed to apply Otsu's method:",r),alert("An error occurred while calculating the optimal threshold.")}})}onDifferenceSliderChange(t){}setAddOperationMode(t,n,r){return pe(this,null,function*(){r&&r.stopPropagation(),t.type==="editor-add"&&(t.addOperationMode=n,yield this.updateEditorNode(t))})}setNoiseReductionMode(t,n,r){return pe(this,null,function*(){r&&r.stopPropagation(),t.type==="editor-noise-reduction"&&(t.noiseReductionMode=n,yield this.updateEditorNode(t))})}updateEditorNode(t){return pe(this,null,function*(){if(t.parentIds.length===0){t.imageSrc=void 0,t.imageSrcB=void 0,t.colorType=void 0,yield this.updateChildEditors(t),this.drawConnections();return}try{let n;if(t.type==="editor-add"){if(t.parentIds.length===2){let r=this.boxes.find(i=>i.id===t.parentIds[0]),o=this.boxes.find(i=>i.id===t.parentIds[1]);r?.imageSrc&&o?.imageSrc&&(n=yield this.imageProcessor.applyAddOperation(r.imageSrc,o.imageSrc,t.addOperationMode||"average"),n===""&&(t.parentIds.forEach(i=>{let s=this.nodeManip.tree.find(a=>a.id===i);s&&(s.connections=s.connections.filter(a=>a!==t.id))}),t.parentIds=[]))}}else if(t.type==="editor-difference")if(t.parentIds.length===2){let r=this.boxes.find(i=>i.id===t.parentIds[0]),o=this.boxes.find(i=>i.id===t.parentIds[1]);t.imageSrc=r?.imageSrc,t.imageSrcB=o?.imageSrc,n=r?.imageSrc}else t.imageSrc=void 0,t.imageSrcB=void 0;else{let r=this.boxes.find(o=>o.id===t.parentIds[0]);if(r&&r.imageSrc){let o=r.imageSrc;switch(t.type){case"editor-greyscale":n=yield this.imageProcessor.applyGreyscale(o);break;case"editor-threshold":n=yield this.imageProcessor.applyThreshold(o,t.threshold||128);break;case"editor-histogram-equalization":n=yield this.imageProcessor.applyHistogramEqualization(o);break;case"editor-convolution":t.convolutionMatrix&&(n=yield this.imageProcessor.applyConvolution(o,t.convolutionMatrix,t.convolutionDivisor||1));break;case"editor-noise-reduction":n=yield this.imageProcessor.applyNoiseReduction(o,t.noiseReductionMode||"median");break;case"editor-morphology":t.morphologyOperation&&t.structuringElementShape&&t.structuringElementSize&&(n=yield this.imageProcessor.applyMorphology(o,t.morphologyOperation,t.structuringElementShape,t.structuringElementSize));break;case"editor-skeletonization":n=yield this.imageProcessor.applyZhangSuenSkeletonization(o);break}}}t.type!=="editor-difference"&&(t.imageSrc=n),t.imageSrc?t.colorType=yield this.imageProcessor.getImageColorType(t.imageSrc):t.colorType=void 0,yield this.updateChildEditors(t)}catch(n){console.error("Image processing failed:",n),t.imageSrc=void 0,t.colorType=void 0,yield this.updateChildEditors(t)}this.drawConnections()})}updateChildEditors(t){return pe(this,null,function*(){let n=this.boxes.filter(r=>r.parentIds.includes(t.id));for(let r of n)yield this.updateEditorNode(r)})}drawConnections(){if(!this.svgCanvas||!this.containerRef)return;this.cdr.detectChanges();let t=this.svgCanvas.nativeElement;if(Array.from(t.querySelectorAll("line:not(#temp-connection-line)")).forEach(n=>n.remove()),this.boxes.forEach(n=>{n.connections.forEach(r=>{let o=this.boxes.find(i=>i.id===r);if(o){let i=this.getConnectionPointCoords(n,"bottom"),s=this.getConnectionPointCoords(o,"top"),a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1",i.x.toString()),a.setAttribute("y1",i.y.toString()),a.setAttribute("x2",s.x.toString()),a.setAttribute("y2",s.y.toString()),a.setAttribute("stroke","black"),a.setAttribute("stroke-width","2"),a.setAttribute("marker-end","url(#arrowhead)"),t.appendChild(a)}})}),!t.querySelector("#arrowhead")){let n=document.createElementNS("http://www.w3.org/2000/svg","defs"),r=document.createElementNS("http://www.w3.org/2000/svg","marker");r.setAttribute("id","arrowhead"),r.setAttribute("markerWidth","10"),r.setAttribute("markerHeight","7"),r.setAttribute("refX","0"),r.setAttribute("refY","3.5"),r.setAttribute("orient","auto"),r.setAttribute("fill","black");let o=document.createElementNS("http://www.w3.org/2000/svg","polygon");o.setAttribute("points","0 0, 10 3.5, 0 7"),r.appendChild(o),n.appendChild(r),t.prepend(n)}}openImageModal(t,n){t.stopPropagation(),n.imageSrc||n.imageSrcB?(this.currentNodeForModal=n,this.showImageModal=!0):alert("No image to view for this node.")}closeImageModal(){this.showImageModal=!1,this.currentNodeForModal=null}openConvolutionModal(t){t.type==="editor-convolution"&&(this.currentNodeForMatrix=t,this.showConvolutionModal=!0)}closeConvolutionModal(){this.showConvolutionModal=!1,this.currentNodeForMatrix=null}onSaveConvolutionMatrix(t){return pe(this,null,function*(){this.currentNodeForMatrix&&(this.currentNodeForMatrix.convolutionMatrix=t.matrix,this.currentNodeForMatrix.matrixSize=t.size,this.currentNodeForMatrix.convolutionDivisor=t.divisor,yield this.updateEditorNode(this.currentNodeForMatrix)),this.closeConvolutionModal()})}openMorphologyModal(t,n){n.stopPropagation(),t.type==="editor-morphology"&&(this.currentNodeForMorphology=t,this.showMorphologyModal=!0)}closeMorphologyModal(){this.showMorphologyModal=!1,this.currentNodeForMorphology=null}onSaveMorphologySettings(t){return pe(this,null,function*(){this.currentNodeForMorphology&&(this.currentNodeForMorphology.morphologyOperation=t.operation,this.currentNodeForMorphology.structuringElementShape=t.shape,this.currentNodeForMorphology.structuringElementSize=t.size,yield this.updateEditorNode(this.currentNodeForMorphology)),this.closeMorphologyModal()})}onAddOperationChanged(t){return pe(this,null,function*(){this.currentNodeForModal&&this.currentNodeForModal.type==="editor-add"&&(yield this.setAddOperationMode(this.currentNodeForModal,t))})}onNoiseReductionChanged(t){return pe(this,null,function*(){this.currentNodeForModal&&this.currentNodeForModal.type==="editor-noise-reduction"&&(yield this.setNoiseReductionMode(this.currentNodeForModal,t))})}onApplyOtsuFromModal(){return pe(this,null,function*(){this.currentNodeForModal&&(yield this.applyOtsuThreshold(this.currentNodeForModal))})}onThresholdChangedFromModal(t){return pe(this,null,function*(){this.currentNodeForModal&&this.currentNodeForModal.type==="editor-threshold"&&(this.currentNodeForModal.threshold=t,yield this.updateEditorNode(this.currentNodeForModal))})}onDifferenceSliderChangedFromModal(t){this.currentNodeForModal&&this.currentNodeForModal.type==="editor-difference"&&(this.currentNodeForModal.differenceSliderValue=t)}resizeNode(t,n){n.stopPropagation(),t.scale=t.scale===1?1.7:1,this.drawConnections()}getBoxTitle(t){switch(t.type){case"image":return"Image Source";case"editor-greyscale":return"Greyscale";case"editor-threshold":return"Threshold";case"editor-histogram-equalization":return"Hist. Equalization";case"editor-convolution":return JSON.stringify(t.convolutionMatrix)===JSON.stringify([[1,0,-1],[2,0,-2],[1,0,-1]])?"Sobel X":JSON.stringify(t.convolutionMatrix)===JSON.stringify([[1,2,1],[0,0,0],[-1,-2,-1]])?"Sobel Y":JSON.stringify(t.convolutionMatrix)===JSON.stringify([[1,4,7,4,1],[4,16,26,16,4],[7,26,41,26,7],[4,16,26,16,4],[1,4,7,4,1]])&&t.convolutionDivisor===273?"Gaussian Blur (5x5)":JSON.stringify(t.convolutionMatrix)===JSON.stringify([[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1]])&&t.convolutionDivisor===25?"Box Blur (5x5)":JSON.stringify(t.convolutionMatrix)===JSON.stringify([[0,-1,0],[-1,5,-1],[0,-1,0]])&&t.convolutionDivisor===1?"Laplacian Sharpen":"Convolution Filter";case"editor-add":return"Add (2 Images)";case"editor-difference":return"Difference (2 Images)";case"editor-noise-reduction":return"Noise Reduction";case"editor-morphology":return"Morphology";case"editor-skeletonization":return"Skeletonization";default:return"Node"}}boxTrackBy(t,n){return n.id}openPseudocodeModal(t,n){n.stopPropagation(),this.pseudocodeSteps=this.generatePseudocode(t),this.pseudocodeNodeTitle=`Steps for: ${this.getBoxTitle(t)}`,this.showPseudocodeModal=!0}closePseudocodeModal(){this.showPseudocodeModal=!1,this.pseudocodeSteps=[],this.pseudocodeNodeTitle=""}generatePseudocode(t){let n=[],r=new Set,o=a=>this.boxes.find(c=>c.id===a),i=a=>{!a||r.has(a.id)||a.type==="editor-difference"||(r.add(a.id),a.parentIds.forEach(c=>i(o(c))),n.push(a))};i(t);let s=[];for(let a of n){let c={title:"",description:"",substeps:[]},l=`${a.type.replace("editor-","")}_${a.id.replace("node-","")}`,u=f=>{let p=o(f);return p?`${p.type.replace("editor-","")}_${p.id.replace("node-","")}`:"unknown_input"};switch(c.title=this.getBoxTitle(a),a.type){case"image":c.description=`Load a source image. The resulting image data is named '${l}'.`;break;case"editor-greyscale":c.description=`Apply a greyscale filter to image '${u(a.parentIds[0])}' and store the result in '${l}'.`,c.substeps=["For each pixel in the input image:","  Read the Red (R), Green (G), and Blue (B) values.","  Calculate the luminance value using the formula: L = 0.299*R + 0.587*G + 0.114*B.","  Set the R, G, and B values of the output pixel to L."];break;case"editor-threshold":if(c.description=`Apply a binary threshold to image '${u(a.parentIds[0])}' and store the result in '${l}'.`,c.substeps=[`Define a threshold value: ${a.threshold}. (This can be set manually or automatically using Otsu's method).`,"For each pixel in the input image (typically greyscale):","  Read the intensity value of the pixel.",`  If the value is less than ${a.threshold}, set the output pixel to black (0).`,"  Otherwise, set the output pixel to white (255)."],n.some(f=>f.type==="editor-threshold")){let f={title:"About: Otsu's Method (Automatic Thresholding)",description:"Otsu's method is an algorithm used to automatically find an optimal threshold value for a greyscale image. It works by iterating through all possible thresholds and selecting the one that maximizes the separability (variance) between the two classes of pixels (foreground and background).",substeps:["1. Calculate a histogram of the image's greyscale intensity levels (0-255).","2. For each possible threshold 't' from 0 to 255:","   a. Split the histogram into two groups: pixels below or equal to 't' (background) and pixels above 't' (foreground).","   b. Calculate the weight of each group (number of pixels in group / total pixels).","   c. Calculate the mean intensity of each group.","   d. Calculate the 'between-class variance' using the weights and means. This value measures how well-separated the two groups are.","3. The threshold 't' that results in the maximum 'between-class variance' is chosen as the optimal threshold."]};s.some(p=>p.title.includes("Otsu's Method"))||s.push(f)}break;case"editor-histogram-equalization":c.description=`Apply histogram equalization to image '${u(a.parentIds[0])}' to improve contrast. Result is stored in '${l}'.`,c.substeps=["Convert the image from RGB to a color space with a lightness/intensity component (like HSL or HSV).","Build a histogram of the lightness (L) values from all pixels.","Calculate the Cumulative Distribution Function (CDF) from the histogram.","Remap the original lightness values to new, equalized values using the CDF.","Create the output image by combining the original Hue and Saturation with the new equalized Lightness.","Convert the final image back to RGB."];break;case"editor-convolution":c.description=`Apply a convolution filter to image '${u(a.parentIds[0])}' and store the result in '${l}'.`,c.substeps=[`Define the convolution kernel (matrix): ${JSON.stringify(a.convolutionMatrix)}.`,`Define the divisor: ${a.convolutionDivisor}.`,"Create a new blank output image with slightly smaller dimensions to account for the kernel border.","For each pixel (x, y) in the new output image:","  Initialize sumR, sumG, sumB to 0.","  Place the center of the kernel over the corresponding pixel in the input image.","  For each element in the kernel:","    Multiply the kernel value by the color value of the underlying input pixel.","    Add the result to sumR, sumG, and sumB.","  Divide sumR, sumG, and sumB by the divisor.","  Assign the final (clamped to 0-255) R, G, B values to the output pixel at (x, y)."];break;case"editor-add":if(a.parentIds.length<2)c.description='The "Add" node is waiting for a second parent connection to generate steps.';else{let f=u(a.parentIds[0]),p=u(a.parentIds[1]),d="";switch(a.addOperationMode){case"add":d="NewValue = ValueA + ValueB";break;case"average":d="NewValue = (ValueA + ValueB) / 2";break;case"root":d="NewValue = sqrt(ValueA^2 + ValueB^2)";break}c.description=`Combine images '${f}' (Image A) and '${p}' (Image B) using the '${a.addOperationMode}' operation. The result is stored in '${l}'.`,c.substeps=["Create a new blank output image with dimensions large enough to fit both input images.","For each corresponding pixel in Image A and Image B:","  For each color channel (R, G, B):",`    Calculate the new channel value using the formula: ${d}.`,"    Clamp the result to the valid range [0, 255].","  Set the R, G, B values of the output pixel."]}break;case"editor-noise-reduction":c.description=`Apply a ${a.noiseReductionMode} filter to image '${u(a.parentIds[0])}' and store the result in '${l}'.`,c.substeps=["Create a new blank output image.","For each pixel in the input image (excluding borders):","  Create a list of pixel values from the 3x3 neighborhood around the current pixel for each color channel (R, G, B).",`  For each channel, find the ${a.noiseReductionMode} value in the list.`,"  Set the R, G, B values of the output pixel to the calculated min, median, or max values."];break;case"editor-morphology":c.description=`Apply a morphological '${a.morphologyOperation}' operation to the binary image '${u(a.parentIds[0])}' using a ${a.structuringElementSize}x${a.structuringElementSize} '${a.structuringElementShape}' structuring element. The result is stored in '${l}'.`,a.morphologyOperation==="dilation"?c.substeps=["Create a new blank output image.","For each pixel in the input image:","  Place the structuring element (SE) centered on the pixel.","  If ANY pixel under the SE in the input image is white (foreground),","    Then set the corresponding output pixel to white.","  Else, set the output pixel to black."]:c.substeps=["Create a new blank output image.","For each pixel in the input image:","  Place the structuring element (SE) centered on the pixel.","  If ALL pixels under the SE in the input image are white (foreground),","    Then set the corresponding output pixel to white.","  Else (if any pixel is black), set the output pixel to black."];break;case"editor-skeletonization":c.description=`Apply the Zhang-Suen thinning algorithm to the binary image '${u(a.parentIds[0])}' to produce a one-pixel-wide skeleton. The result is stored in '${l}'.`,c.substeps=["Initialize a loop that continues as long as pixels are being removed in an iteration.","Step 1: Identify and mark pixels for deletion based on a set of conditions:","  a. The pixel must be a foreground pixel (white).","  b. It must have between 2 and 6 foreground neighbors.","  c. The number of 0-to-1 transitions in its ordered neighbors must be exactly 1.","  d. At least one of its North, East, or South neighbors must be background.","  e. At least one of its East, South, or West neighbors must be background.","Remove all marked pixels from the image.","Step 2: Identify and mark pixels for deletion with a slightly different set of conditions:","  a, b, c are the same as Step 1.","  d. At least one of its North, East, or West neighbors must be background.","  e. At least one of its North, South, or West neighbors must be background.","Remove all marked pixels from the image.","Repeat both steps until no pixels are removed in a full iteration."];break}c.description&&s.push(c)}if(n.some(a=>a.type==="editor-threshold")){let a=s.findIndex(c=>c.title.includes("Otsu's Method"));if(a!==-1){let c=s.splice(a,1)[0];s.push(c)}}return s}static \u0275fac=function(n){return new(n||e)(te(ca),te(la),te(Mn))};static \u0275cmp=Se({type:e,selectors:[["app-home"]],viewQuery:function(n,r){if(n&1&&(dr(mE,5),dr(vE,5),dr(yE,5)),n&2){let o;fr(o=pr())&&(r.containerRef=o.first),fr(o=pr())&&(r.svgCanvas=o.first),fr(o=pr())&&(r.boxElements=o)}},hostBindings:function(n,r){n&1&&D("click",function(i){return r.onDocumentClick(i)},!1,Sp)},decls:44,vars:9,consts:[["containerRef",""],["svgCanvas",""],["boxElement",""],[1,"main-layout"],[1,"sidebar",3,"ngClass"],[1,"toggle-icon-wrapper"],[1,"toggle-icon",3,"click"],["width","18","height","18","viewBox","0 0 18 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3 12H21M3 6H21M3 18H21","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"buttons-wrapper"],[3,"click"],[1,"container",3,"mousemove","mouseup","mouseleave"],[1,"connection-canvas"],["class","boxes",3,"ngClass","left","top","width","height","mousedown","mouseup",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","closeModal","operationChanged","noiseReductionChanged","differenceSliderChanged","thresholdChanged","applyOtsu",4,"ngIf"],[3,"initialMatrix","initialMatrixSize","initialDivisor","closeModal","saveMatrix",4,"ngIf"],[3,"steps","nodeTitle","closeModal",4,"ngIf"],[3,"node","closeModal","saveSettings",4,"ngIf"],[1,"boxes",3,"mousedown","mouseup","ngClass"],[1,"maximize-icon",3,"click"],["class","pseudocode-icon","title","Generate Pseudocode",3,"click",4,"ngIf"],[1,"delete-icon",3,"click"],[1,"box-title"],["class","add-child-icon",3,"click",4,"ngIf"],["class","add-child-menu",3,"mousedown","mouseup",4,"ngIf"],[4,"ngIf"],[1,"connection-point","top",3,"mouseup"],["class","connection-point bottom",3,"mousedown",4,"ngIf"],["title","Generate Pseudocode",1,"pseudocode-icon",3,"click"],[1,"add-child-icon",3,"click"],[1,"add-child-menu",3,"mousedown","mouseup"],["class","menu-item-disabled",4,"ngIf"],["class","menu-item",3,"mousedown",4,"ngFor","ngForOf"],[1,"menu-item-disabled"],[1,"menu-item",3,"mousedown"],[3,"node","imageLoaded",4,"ngIf"],["class","image-box-placeholder",4,"ngIf"],["alt","Loaded Image","class","box-image-preview",3,"src",4,"ngIf"],["class","node-button",3,"click",4,"ngIf"],[3,"imageLoaded","node"],[1,"image-box-placeholder"],["alt","Loaded Image",1,"box-image-preview",3,"src"],[1,"node-button",3,"click"],["class","editor-box-placeholder",4,"ngIf"],["alt","Processed Image","class","box-image-preview",3,"src",4,"ngIf"],[1,"editor-box-placeholder"],["alt","Processed Image",1,"box-image-preview",3,"src"],["class","node-controls-container",4,"ngIf"],[1,"node-controls-container"],[1,"threshold-label"],["type","range","min","0","max","255",1,"threshold-slider",3,"ngModelChange","input","mousedown","ngModel"],["class","node-button-container",4,"ngIf"],[1,"node-button-container"],[1,"parent-count"],[1,"op-button-group"],[1,"op-button",3,"click"],["class","difference-image-container",4,"ngIf"],[1,"difference-image-container"],["alt","Image A",1,"difference-image-bottom",3,"src"],["alt","Image B",1,"difference-image-top",3,"src"],["type","range","min","0","max","100",1,"difference-slider",3,"ngModelChange","input","mousedown","ngModel"],[1,"connection-point","bottom",3,"mousedown"],[3,"closeModal","operationChanged","noiseReductionChanged","differenceSliderChanged","thresholdChanged","applyOtsu","node"],[3,"closeModal","saveMatrix","initialMatrix","initialMatrixSize","initialDivisor"],[3,"closeModal","steps","nodeTitle"],[3,"closeModal","saveSettings","node"]],template:function(n,r){if(n&1){let o=q();h(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),D("click",function(){return w(o),E(r.toggleSidebar())}),ml(),h(4,"svg",7),he(5,"path",8),m()()(),Yf(),h(6,"div",9)(7,"button",10),D("click",function(){return w(o),E(r.addNodeFromSidebar("image"))}),_(8,"Image Node"),m(),h(9,"button",10),D("click",function(){return w(o),E(r.addNodeFromSidebar("editor-add"))}),_(10,'"Add" Node'),m(),h(11,"button",10),D("click",function(){return w(o),E(r.addNodeFromSidebar("editor-difference"))}),_(12,'"Difference" Node'),m(),h(13,"button",10),D("click",function(){return w(o),E(r.addNodeFromSidebar("editor-greyscale"))}),_(14,"Greyscale Node"),m(),h(15,"button",10),D("click",function(){return w(o),E(r.addNodeFromSidebar("editor-threshold"))}),_(16,"Threshold Node"),m(),h(17,"button",10),D("click",function(){return w(o),E(r.addNodeFromSidebar("editor-histogram-equalization"))}),_(18,"Equalization Node"),m(),h(19,"button",10),D("click",function(){return w(o),E(r.addNodeFromSidebar("editor-convolution"))}),_(20,"Convolution Node"),m(),h(21,"button",10),D("click",function(){return w(o),E(r.addNodeFromSidebar("editor-noise-reduction"))}),_(22,"Noise Reduction"),m(),h(23,"button",10),D("click",function(){return w(o),E(r.addNodeFromSidebar("editor-morphology"))}),_(24,"Morphology Node"),m(),h(25,"button",10),D("click",function(){return w(o),E(r.addNodeFromSidebar("editor-skeletonization"))}),_(26,"Skeletonization Node"),m(),h(27,"button",10),D("click",function(){return w(o),E(r.addGaussianBlurNode())}),_(28,"Gaussian Blur"),m(),h(29,"button",10),D("click",function(){return w(o),E(r.addBoxBlurNode())}),_(30,"Box Blur"),m(),h(31,"button",10),D("click",function(){return w(o),E(r.addLaplacianNode())}),_(32,"Laplacian Sharpen"),m(),h(33,"button",10),D("click",function(){return w(o),E(r.addSobelDetector())}),_(34,"Sobel Border Detect"),m()()(),h(35,"div",11,0),D("mousemove",function(s){return w(o),E(r.onContainerMouseMove(s))})("mouseup",function(){return w(o),E(r.letItGo())})("mouseleave",function(){return w(o),E(r.letItGo())}),ml(),he(37,"svg",12,1),ee(39,hM,22,36,"div",13),m(),ee(40,gM,1,1,"app-image-modal",14)(41,mM,1,3,"app-convolution-modal",15)(42,vM,1,2,"app-pseudocode-modal",16)(43,yM,1,1,"app-morphology-modal",17),m()}n&2&&(y(),C("ngClass",_h(7,_E,r.isSidebarCollapsed)),y(38),C("ngForOf",r.boxes)("ngForTrackBy",r.boxTrackBy),y(),C("ngIf",r.showImageModal),y(),C("ngIf",r.showConvolutionModal),y(),C("ngIf",r.showPseudocodeModal),y(),C("ngIf",r.showMorphologyModal))},dependencies:[Kt,In,nn,_t,Fo,tn,jt,Qs,oa,ia,Yl,sa,aa],styles:[".main-layout[_ngcontent-%COMP%]{display:flex;height:90vh;width:100%;font-family:Inter,sans-serif}.sidebar[_ngcontent-%COMP%]{width:200px;padding:15px;background-color:#f0f0f0;border-right:1px solid #9e9e9e;display:flex;flex-direction:column;gap:10px;border-radius:8px;box-shadow:2px 0 5px #0000001a;position:fixed;top:16px;left:16px;z-index:3;box-sizing:border-box;transition:width .3s ease;max-height:calc(100vh - 32px)}.sidebar[_ngcontent-%COMP%]   .toggle-icon-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-shrink:0}.sidebar[_ngcontent-%COMP%]   .toggle-icon-wrapper[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{cursor:pointer;color:#333;padding:5px;border-radius:4px;line-height:1}.sidebar[_ngcontent-%COMP%]   .toggle-icon-wrapper[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]:hover{background-color:#e0e0e0;color:#64447a}.sidebar[_ngcontent-%COMP%]   .buttons-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}.sidebar[_ngcontent-%COMP%]   .buttons-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.sidebar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#64447a;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease;box-shadow:0 2px 4px #0000001a;margin-top:5px;text-align:left}.sidebar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#7a5a92}.sidebar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#503760;transform:translateY(1px)}.sidebar.collapsed[_ngcontent-%COMP%]{width:60px;align-items:center}.sidebar.collapsed[_ngcontent-%COMP%]   .toggle-icon-wrapper[_ngcontent-%COMP%]{margin-bottom:0}.sidebar.collapsed[_ngcontent-%COMP%]   .buttons-wrapper[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]{flex-grow:1;position:relative;border:3px solid #9e9e9e;margin:8px;padding:5px;background-color:#d6d6d6;height:8000px;border-radius:8px;box-shadow:inset 0 0 10px #0000000d;transition:margin-left .3s ease}.connection-canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:3}.boxes[_ngcontent-%COMP%]{position:absolute;width:auto;min-width:120px;height:auto;min-height:180px;padding:25px 5px 5px;border-radius:8px;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;cursor:grab;-webkit-user-select:none;user-select:none;box-shadow:0 4px 8px #0003;transition:box-shadow .2s ease,transform .2s ease,width .2s ease,height .2s ease;z-index:2;box-sizing:border-box}.boxes[_ngcontent-%COMP%]:active{cursor:grabbing;box-shadow:0 6px 12px #0000004d}.boxes.image-box[_ngcontent-%COMP%]{background-color:#e0e0e0;border:1px solid #ccc}.boxes.editor-greyscale-box[_ngcontent-%COMP%]{background-color:#e6f2ff;border:1px solid #b3d7ff}.boxes.editor-threshold-box[_ngcontent-%COMP%]{background-color:#fff0e6;border:1px solid #ffd1b3}.boxes.editor-histogram-box[_ngcontent-%COMP%]{background-color:#fde8ff;border:1px solid #f8c0ff}.boxes.editor-convolution-box[_ngcontent-%COMP%]{background-color:#e6ffed;border:1px solid #b3ffc6}.boxes.editor-add-box[_ngcontent-%COMP%]{background-color:#fffbe6;border:1px solid #fff2b3}.boxes.editor-difference-box[_ngcontent-%COMP%]{background-color:#ffe6e6;border:1px solid #ffb3b3}.boxes.editor-noise-reduction-box[_ngcontent-%COMP%]{background-color:#d1c4e9;border:1px solid #b39ddb}.boxes.editor-morphology-box[_ngcontent-%COMP%]{background-color:#d4eaf7;border:1px solid #b3d7ff}.boxes.editor-skeletonization-box[_ngcontent-%COMP%]{background-color:#f0e4d7;border:1px solid #e0c8b0}.boxes[_ngcontent-%COMP%]   .box-title[_ngcontent-%COMP%]{font-weight:700;font-size:.8em;color:#333;text-align:center;flex-shrink:0;padding:0 15px;box-sizing:border-box;width:100%;position:absolute;top:5px;left:0}.boxes[_ngcontent-%COMP%]   .editor-box-placeholder[_ngcontent-%COMP%], .boxes[_ngcontent-%COMP%]   .image-box-placeholder[_ngcontent-%COMP%]{font-size:.7em;color:#777;text-align:center;flex-grow:1;width:100%;min-height:60px;display:flex;flex-direction:column;align-items:center;justify-content:center}.boxes[_ngcontent-%COMP%]   .editor-box-placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .boxes[_ngcontent-%COMP%]   .image-box-placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9em;margin-top:4px;color:#5c7ba6}.boxes[_ngcontent-%COMP%]   .parent-count[_ngcontent-%COMP%]{font-size:1.1em!important;font-weight:700;margin-top:5px!important;color:#999}.boxes[_ngcontent-%COMP%]   .editor-add-box[_ngcontent-%COMP%]   .parent-count[_ngcontent-%COMP%]{color:#b59f48!important}.boxes[_ngcontent-%COMP%]   .editor-difference-box[_ngcontent-%COMP%]   .parent-count[_ngcontent-%COMP%]{color:#c86c6c!important}.boxes[_ngcontent-%COMP%]   .box-image-preview[_ngcontent-%COMP%], .boxes[_ngcontent-%COMP%]   .difference-image-container[_ngcontent-%COMP%]{max-width:100%;object-fit:contain;display:block;min-height:60px;margin-top:5px;margin-bottom:5px;flex-grow:1;width:100%}.boxes[_ngcontent-%COMP%]   .difference-image-container[_ngcontent-%COMP%]{position:relative}.boxes[_ngcontent-%COMP%]   .difference-image-container[_ngcontent-%COMP%]   .difference-image-bottom[_ngcontent-%COMP%], .boxes[_ngcontent-%COMP%]   .difference-image-container[_ngcontent-%COMP%]   .difference-image-top[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:contain}.boxes[_ngcontent-%COMP%]   .difference-image-container[_ngcontent-%COMP%]   .difference-image-top[_ngcontent-%COMP%]{transition:opacity .05s linear}.boxes[_ngcontent-%COMP%]   .node-controls-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-top:auto;padding:0 5px 2px;box-sizing:border-box;gap:4px}.boxes[_ngcontent-%COMP%]   .threshold-slider[_ngcontent-%COMP%], .boxes[_ngcontent-%COMP%]   .difference-slider[_ngcontent-%COMP%]{width:100%;cursor:pointer}.boxes[_ngcontent-%COMP%]   .threshold-label[_ngcontent-%COMP%]{font-size:.7em;color:#555;text-align:center}.boxes[_ngcontent-%COMP%]   .maximize-icon[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px;width:12px;height:12px;font-size:16px;line-height:12px;text-align:center;border:1px solid #555;cursor:pointer;z-index:5}.boxes[_ngcontent-%COMP%]   .maximize-icon[_ngcontent-%COMP%]:hover{border-color:#000}.boxes[_ngcontent-%COMP%]   .pseudocode-icon[_ngcontent-%COMP%]{position:absolute;top:2px;left:24px;width:20px;height:20px;font-size:20px;line-height:20px;text-align:center;color:#555;cursor:pointer;z-index:5;font-weight:700;transition:color .2s ease}.boxes[_ngcontent-%COMP%]   .pseudocode-icon[_ngcontent-%COMP%]:hover{color:#2196f3}.boxes[_ngcontent-%COMP%]   .delete-icon[_ngcontent-%COMP%]{position:absolute;top:2px;right:5px;width:20px;height:20px;font-size:24px;line-height:20px;color:#888;text-align:center;cursor:pointer;z-index:5;font-weight:700;transition:color .2s ease}.boxes[_ngcontent-%COMP%]   .delete-icon[_ngcontent-%COMP%]:hover{color:#f44336}.boxes[_ngcontent-%COMP%]   .node-button[_ngcontent-%COMP%]{background-color:#5585b5;color:#fff;border:none;border-radius:4px;padding:2px 8px;font-size:.7em;cursor:pointer;transition:background-color .2s ease;flex-shrink:0;opacity:.9;width:100%;box-sizing:border-box}.boxes[_ngcontent-%COMP%]   .node-button[_ngcontent-%COMP%]:hover{background-color:#6398c8;opacity:1}.boxes[_ngcontent-%COMP%]   .node-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;width:100%;flex-shrink:0;margin-top:auto;padding-top:5px}.boxes[_ngcontent-%COMP%]   .node-button-container[_ngcontent-%COMP%]   .node-button[_ngcontent-%COMP%]{margin-top:0}.boxes[_ngcontent-%COMP%]   .add-child-icon[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;width:20px;height:20px;background-color:#2196f3;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;line-height:20px;cursor:pointer;z-index:5;transition:background-color .2s ease}.boxes[_ngcontent-%COMP%]   .add-child-icon[_ngcontent-%COMP%]:hover{background-color:#1976d2}.boxes[_ngcontent-%COMP%]   .add-child-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:50%;transform:translate(-50%);background-color:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:0 4px 8px #00000026;z-index:10;width:max-content}.boxes[_ngcontent-%COMP%]   .add-child-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%], .boxes[_ngcontent-%COMP%]   .add-child-menu[_ngcontent-%COMP%]   .menu-item-disabled[_ngcontent-%COMP%]{padding:8px 12px;font-size:.8em;white-space:nowrap}.boxes[_ngcontent-%COMP%]   .add-child-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{cursor:pointer}.boxes[_ngcontent-%COMP%]   .add-child-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.boxes[_ngcontent-%COMP%]   .add-child-menu[_ngcontent-%COMP%]   .menu-item-disabled[_ngcontent-%COMP%]{color:#999;cursor:not-allowed}.boxes[_ngcontent-%COMP%]   .op-button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:3px;width:100%;padding:0 2px;box-sizing:border-box}.boxes[_ngcontent-%COMP%]   .op-button[_ngcontent-%COMP%]{flex:1;background-color:#f0f0f0;border:1px solid #ccc;padding:3px;font-size:.6em;cursor:pointer;transition:all .2s ease;border-radius:3px}.boxes[_ngcontent-%COMP%]   .op-button[_ngcontent-%COMP%]:hover{border-color:#888}.boxes[_ngcontent-%COMP%]   .op-button.active[_ngcontent-%COMP%]{background-color:#ffc107;border-color:#e0a800;color:#333;font-weight:700}.connection-point[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;background-color:#4caf50;border:1px solid #388E3C;border-radius:50%;cursor:crosshair;z-index:4;opacity:.8;transition:background-color .2s ease,transform .2s ease}.connection-point[_ngcontent-%COMP%]:hover{background-color:#66bb6a;transform:scale(1.2)}.connection-point.top[_ngcontent-%COMP%]{display:none;top:-6px;left:50%;transform:translate(-50%)}.editor-greyscale-box[_ngcontent-%COMP%]   .connection-point.top[_ngcontent-%COMP%], .editor-threshold-box[_ngcontent-%COMP%]   .connection-point.top[_ngcontent-%COMP%], .editor-histogram-box[_ngcontent-%COMP%]   .connection-point.top[_ngcontent-%COMP%], .editor-convolution-box[_ngcontent-%COMP%]   .connection-point.top[_ngcontent-%COMP%], .editor-add-box[_ngcontent-%COMP%]   .connection-point.top[_ngcontent-%COMP%], .editor-difference-box[_ngcontent-%COMP%]   .connection-point.top[_ngcontent-%COMP%], .editor-noise-reduction-box[_ngcontent-%COMP%]   .connection-point.top[_ngcontent-%COMP%], .editor-morphology-box[_ngcontent-%COMP%]   .connection-point.top[_ngcontent-%COMP%], .editor-skeletonization-box[_ngcontent-%COMP%]   .connection-point.top[_ngcontent-%COMP%]{display:block}.connection-point.bottom[_ngcontent-%COMP%]{bottom:-6px;left:50%;transform:translate(-50%)}"]})};var rm=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:ua}];var om={providers:[Mh({eventCoalescing:!0}),Nu(rm)]};var da=class e{title="PDIHelper";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Se({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&he(0,"router-outlet")},dependencies:[Io],encapsulation:2})};su(da,om).catch(e=>console.error(e));
